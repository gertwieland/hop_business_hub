<?xml version="1.0" encoding="UTF-8"?>
<pipeline>
  <info>
    <name>2000_100_000_Separate_FCCs_and_GLAccounts</name>
    <name_sync_with_filename>Y</name_sync_with_filename>
    <description/>
    <extended_description/>
    <pipeline_version/>
    <pipeline_type>Normal</pipeline_type>
    <pipeline_status>0</pipeline_status>
    <parameters>
      <parameter>
        <name>n1</name>
        <default_value>10</default_value>
        <description/>
      </parameter>
    </parameters>
    <capture_transform_performance>N</capture_transform_performance>
    <transform_performance_capturing_delay>1000</transform_performance_capturing_delay>
    <transform_performance_capturing_size_limit>100</transform_performance_capturing_size_limit>
    <created_user>gert</created_user>
    <created_date>2022/02/22 16:33:13.131</created_date>
    <modified_user>gert</modified_user>
    <modified_date>2023/04/13 11:10:58.896</modified_date>
  </info>
  <notepads>
    <notepad>
      <backgroundcolorblue>128</backgroundcolorblue>
      <backgroundcolorgreen>128</backgroundcolorgreen>
      <backgroundcolorred>255</backgroundcolorred>
      <bordercolorblue>100</bordercolorblue>
      <bordercolorgreen>100</bordercolorgreen>
      <bordercolorred>100</bordercolorred>
      <fontbold>Y</fontbold>
      <fontcolorblue>0</fontcolorblue>
      <fontcolorgreen>0</fontcolorgreen>
      <fontcolorred>0</fontcolorred>
      <fontitalic>N</fontitalic>
      <fontname>Segoe UI</fontname>
      <fontsize>14</fontsize>
      <height>54</height>
      <xloc>1024</xloc>
      <yloc>480</yloc>
      <note>IMPORTANT!
This step determines how to link FCC with Entity.</note>
      <width>651</width>
    </notepad>
    <notepad>
      <backgroundcolorblue>0</backgroundcolorblue>
      <backgroundcolorgreen>0</backgroundcolorgreen>
      <backgroundcolorred>255</backgroundcolorred>
      <bordercolorblue>100</bordercolorblue>
      <bordercolorgreen>100</bordercolorgreen>
      <bordercolorred>100</bordercolorred>
      <fontbold>Y</fontbold>
      <fontcolorblue>0</fontcolorblue>
      <fontcolorgreen>0</fontcolorgreen>
      <fontcolorred>0</fontcolorred>
      <fontitalic>N</fontitalic>
      <fontname>Segoe UI</fontname>
      <fontsize>14</fontsize>
      <height>32</height>
      <xloc>464</xloc>
      <yloc>96</yloc>
      <note>Important later for P&amp;L by Institute</note>
      <width>483</width>
    </notepad>
    <notepad>
      <backgroundcolorblue>112</backgroundcolorblue>
      <backgroundcolorgreen>205</backgroundcolorgreen>
      <backgroundcolorred>255</backgroundcolorred>
      <bordercolorblue>100</bordercolorblue>
      <bordercolorgreen>100</bordercolorgreen>
      <bordercolorred>100</bordercolorred>
      <fontbold>N</fontbold>
      <fontcolorblue>0</fontcolorblue>
      <fontcolorgreen>0</fontcolorgreen>
      <fontcolorred>0</fontcolorred>
      <fontitalic>N</fontitalic>
      <fontname>Segoe UI</fontname>
      <fontsize>10</fontsize>
      <height>26</height>
      <xloc>3936</xloc>
      <yloc>576</yloc>
      <note>Set FCC Owner</note>
      <width>138</width>
    </notepad>
    <notepad>
      <backgroundcolorblue>112</backgroundcolorblue>
      <backgroundcolorgreen>205</backgroundcolorgreen>
      <backgroundcolorred>255</backgroundcolorred>
      <bordercolorblue>100</bordercolorblue>
      <bordercolorgreen>100</bordercolorgreen>
      <bordercolorred>100</bordercolorred>
      <fontbold>N</fontbold>
      <fontcolorblue>0</fontcolorblue>
      <fontcolorgreen>0</fontcolorgreen>
      <fontcolorred>0</fontcolorred>
      <fontitalic>N</fontitalic>
      <fontname>Segoe UI</fontname>
      <fontsize>10</fontsize>
      <height>42</height>
      <xloc>10528</xloc>
      <yloc>576</yloc>
      <note>Make sure not to include Checksum_AlreadyInSF 
(because this would create an update loop</note>
      <width>437</width>
    </notepad>
    <notepad>
      <backgroundcolorblue>128</backgroundcolorblue>
      <backgroundcolorgreen>128</backgroundcolorgreen>
      <backgroundcolorred>255</backgroundcolorred>
      <bordercolorblue>100</bordercolorblue>
      <bordercolorgreen>100</bordercolorgreen>
      <bordercolorred>100</bordercolorred>
      <fontbold>N</fontbold>
      <fontcolorblue>0</fontcolorblue>
      <fontcolorgreen>0</fontcolorgreen>
      <fontcolorred>0</fontcolorred>
      <fontitalic>N</fontitalic>
      <fontname>Segoe UI</fontname>
      <fontsize>10</fontsize>
      <height>42</height>
      <xloc>1472</xloc>
      <yloc>672</yloc>
      <note>Check if Entity can be replaced 
with smaller table, e. g. Institute</note>
      <width>284</width>
    </notepad>
    <notepad>
      <backgroundcolorblue>112</backgroundcolorblue>
      <backgroundcolorgreen>205</backgroundcolorgreen>
      <backgroundcolorred>255</backgroundcolorred>
      <bordercolorblue>100</bordercolorblue>
      <bordercolorgreen>100</bordercolorgreen>
      <bordercolorred>100</bordercolorred>
      <fontbold>N</fontbold>
      <fontcolorblue>0</fontcolorblue>
      <fontcolorgreen>0</fontcolorgreen>
      <fontcolorred>0</fontcolorred>
      <fontitalic>N</fontitalic>
      <fontname>Segoe UI</fontname>
      <fontsize>10</fontsize>
      <height>26</height>
      <xloc>0</xloc>
      <yloc>0</yloc>
      <note>Tracked</note>
      <width>76</width>
    </notepad>
    <notepad>
      <backgroundcolorblue>112</backgroundcolorblue>
      <backgroundcolorgreen>205</backgroundcolorgreen>
      <backgroundcolorred>255</backgroundcolorred>
      <bordercolorblue>100</bordercolorblue>
      <bordercolorgreen>100</bordercolorgreen>
      <bordercolorred>100</bordercolorred>
      <fontbold>N</fontbold>
      <fontcolorblue>0</fontcolorblue>
      <fontcolorgreen>0</fontcolorgreen>
      <fontcolorred>0</fontcolorred>
      <fontitalic>N</fontitalic>
      <fontname>Segoe UI</fontname>
      <fontsize>10</fontsize>
      <height>42</height>
      <xloc>10480</xloc>
      <yloc>736</yloc>
      <note>Include Financial Status, so if it changes, the checksum changes.
Financial status is being updated in step 45</note>
      <width>558</width>
    </notepad>
    <notepad>
      <backgroundcolorblue>112</backgroundcolorblue>
      <backgroundcolorgreen>205</backgroundcolorgreen>
      <backgroundcolorred>255</backgroundcolorred>
      <bordercolorblue>100</bordercolorblue>
      <bordercolorgreen>100</bordercolorgreen>
      <bordercolorred>100</bordercolorred>
      <fontbold>N</fontbold>
      <fontcolorblue>0</fontcolorblue>
      <fontcolorgreen>0</fontcolorgreen>
      <fontcolorred>0</fontcolorred>
      <fontitalic>N</fontitalic>
      <fontname>Segoe UI</fontname>
      <fontsize>9</fontsize>
      <height>24</height>
      <xloc>6800</xloc>
      <yloc>512</yloc>
      <note>Set RecordType</note>
      <width>133</width>
    </notepad>
    <notepad>
      <backgroundcolorblue>112</backgroundcolorblue>
      <backgroundcolorgreen>205</backgroundcolorgreen>
      <backgroundcolorred>255</backgroundcolorred>
      <bordercolorblue>100</bordercolorblue>
      <bordercolorgreen>100</bordercolorgreen>
      <bordercolorred>100</bordercolorred>
      <fontbold>N</fontbold>
      <fontcolorblue>0</fontcolorblue>
      <fontcolorgreen>0</fontcolorgreen>
      <fontcolorred>0</fontcolorred>
      <fontitalic>N</fontitalic>
      <fontname>Segoe UI</fontname>
      <fontsize>9</fontsize>
      <height>80</height>
      <xloc>11392</xloc>
      <yloc>288</yloc>
      <note>Institute_ID_SF_SAP has to be the SF ID. 
The flow returns the actual SAP ID here, which is incorrect.
It seems too risky right now to fix the flow. Therefore, I'll just add a lookup that returns
the correct ID.
Once we rebuild, this needs to be addressed properly.</note>
      <width>695</width>
    </notepad>
    <notepad>
      <backgroundcolorblue>112</backgroundcolorblue>
      <backgroundcolorgreen>205</backgroundcolorgreen>
      <backgroundcolorred>255</backgroundcolorred>
      <bordercolorblue>100</bordercolorblue>
      <bordercolorgreen>100</bordercolorgreen>
      <bordercolorred>100</bordercolorred>
      <fontbold>N</fontbold>
      <fontcolorblue>0</fontcolorblue>
      <fontcolorgreen>0</fontcolorgreen>
      <fontcolorred>0</fontcolorred>
      <fontitalic>N</fontitalic>
      <fontname>Segoe UI</fontname>
      <fontsize>9</fontsize>
      <height>38</height>
      <xloc>5936</xloc>
      <yloc>336</yloc>
      <note>If the account holder's UID changes, it will trigger a refresh of all FCCs (because it's being used
to calculate the checksum of each FCC).</note>
      <width>753</width>
    </notepad>
    <notepad>
      <backgroundcolorblue>112</backgroundcolorblue>
      <backgroundcolorgreen>205</backgroundcolorgreen>
      <backgroundcolorred>255</backgroundcolorred>
      <bordercolorblue>100</bordercolorblue>
      <bordercolorgreen>100</bordercolorgreen>
      <bordercolorred>100</bordercolorred>
      <fontbold>N</fontbold>
      <fontcolorblue>0</fontcolorblue>
      <fontcolorgreen>0</fontcolorgreen>
      <fontcolorred>0</fontcolorred>
      <fontitalic>N</fontitalic>
      <fontname>Segoe UI</fontname>
      <fontsize>9</fontsize>
      <height>38</height>
      <xloc>11776</xloc>
      <yloc>960</yloc>
      <note>This is only a "Helper" table.
With S4/HANA, we'll likely get rid of  Business Areas</note>
      <width>421</width>
    </notepad>
  </notepads>
  <order>
    <hop>
      <from>Error Date FCC</from>
      <to>SF FCC Error</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>FCC Upsert </from>
      <to>Error Date FCC</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Cascade entries</from>
      <to>String operations 4</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Cleansing</from>
      <to>Force reallocation</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>FCCs</from>
      <to>Determine SAP ID</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Force reallocation</from>
      <to>Null if</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Is FTE?</from>
      <to>Select values 3</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Null if</from>
      <to>Select values</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Select values</from>
      <to>Cascade entries</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Select values 3</from>
      <to>String operations</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Select values 5</from>
      <to>GL Account Upsert</to>
      <enabled>N</enabled>
    </hop>
    <hop>
      <from>Select values 6</from>
      <to>Separate FCCs and Accounts</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Separate FCCs and Accounts</from>
      <to>Filter FCCs only</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Separate FCCs and Accounts</from>
      <to>Filter GL Accounts</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>String operations</from>
      <to>If field value is null</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>String operations 4</from>
      <to>Select values 6</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Record Types</from>
      <to>Account (Sponsor)</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Grant Master Budget</from>
      <to>Replace in string</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Replace in string</from>
      <to>Select values 7</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Select values 7</from>
      <to>Budget Max Values</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Budget Max Values</from>
      <to>Find GMB details</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>bihelper.PCARD_Statements</from>
      <to>Unique rows (HashSet)</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Unique rows (HashSet)</from>
      <to>Count PCards</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Count PCards</from>
      <to>Stream lookup</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Error Date GL</from>
      <to>SF GL Error</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>GL Account Upsert</from>
      <to>Error Date GL</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Budget vs Actuals</from>
      <to>RFIS</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Replace in string 4</from>
      <to>Stream lookup</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>BPL_HR_FUNCTIONAL_CENTRE_DIM</from>
      <to>Sort rows</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Sort rows</from>
      <to>Add value fields changing sequence</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Add value fields changing sequence</from>
      <to>HR DIM FCC</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Stream lookup</from>
      <to>Stream lookup 2</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>HR DIM FCC</from>
      <to>Dummy (do nothing)</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Dummy (do nothing)</from>
      <to>Stream lookup 2</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Filter GL Accounts</from>
      <to>RFIS Categories</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>RFIS Categories</from>
      <to>Is FTE?</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>If field value is null</from>
      <to>Find Sponsored Class</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Find Sponsored Class</from>
      <to>Select values 5</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>FCC Naming Convention PnL</from>
      <to>Join rows (cartesian product)</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Last Update KOK5</from>
      <to>Join rows (cartesian product)</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Grant Master Data</from>
      <to>Tweak splitting rule</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Find GMB details</from>
      <to>Budget vs Actuals</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Select values 10</from>
      <to>Replace in string 3</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Join rows (cartesian product)</from>
      <to>Select values 2</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>User (to determine Owner) 2</from>
      <to>Set FCC Owner SF</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>FCC - Current Values</from>
      <to>Org Costs Rates</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Tweak splitting rule</from>
      <to>Find GMB details</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>410, 777, 737, 739</from>
      <to>Dummy (do nothing) 2</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Org Costs Rates</from>
      <to>Important Assignments</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Pass record to update</from>
      <to>Pass Record to upsert?</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Filter FCCs only</from>
      <to>FCCs</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Select values 2</from>
      <to>FCC - Current Values</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Select values 4</from>
      <to>Determine SAP ID for RSS and Institutes</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Determine SAP ID for RSS and Institutes</from>
      <to>Select values 4 2</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Select values 4 2</from>
      <to>Institute, RSS</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Institute, RSS</from>
      <to>Rules for Non-Grants</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Lookup FA</from>
      <to>Lookup SA</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>KOK5</from>
      <to>SADB</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>SADB</from>
      <to>FCC</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Set FCC Owner SF</from>
      <to>Lookup FA</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Dummy (do nothing) 2</from>
      <to>KOK5</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Upper Portfolio</from>
      <to>Assign Analyst Code</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Portfolio Codes</from>
      <to>Upper Code</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Upper Code</from>
      <to>Lookup FA</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Upper Code</from>
      <to>Lookup SA</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Assign Analyst Code</from>
      <to>Select values 10</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Dummy (do nothing) 3</from>
      <to>Select values 8</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Exceptions</from>
      <to>Pass record to update</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Important Assignments</from>
      <to>Modified JavaScript value</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Pass Record to upsert?</from>
      <to>Checksum_FlagChanges</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Modified JavaScript value</from>
      <to>Select values 4</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Lookup SA</from>
      <to>Stream lookup 3</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Sponsored Program (= Institute)</from>
      <to>Stream lookup 3</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Stream lookup 3</from>
      <to>Assign Institute</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Assign Institute</from>
      <to>Find Institute Code</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Find Institute Code</from>
      <to>Modified JavaScript value 2</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Modified JavaScript value 2</from>
      <to>Grant Master Data</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Select values 8</from>
      <to>Flip Institute SAP ID</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Flip Institute SAP ID</from>
      <to>FCC Upsert </to>
      <enabled>N</enabled>
    </hop>
    <hop>
      <from>BPL_CURRENT_ROLLUP_STRUCTS_DIM</from>
      <to>Block this step until steps finish</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Block this step until steps finish</from>
      <to>Cleansing</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Stream lookup 2</from>
      <to>Adjustments</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Adjustments</from>
      <to>FCC Naming Convention PnL</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>FCC</from>
      <to>Account Holder</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Account Holder</from>
      <to>Upper Portfolio</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Account (Sponsor)</from>
      <to>User (to determine Owner) 2</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>RFIS</from>
      <to>Replace in string 4</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Dummy (do nothing) 3</from>
      <to>Filter rows</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Filter rows</from>
      <to>Select values 9</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Select values 9</from>
      <to>Lookup existing</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Lookup existing</from>
      <to>Filter rows 2</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Filter rows 2</from>
      <to>FCC BA</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Checksum_FlagChanges</from>
      <to>Only new/modified</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>SF Account</from>
      <to>410, 777, 737, 739</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Only new/modified</from>
      <to>Dummy (do nothing) 3</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Rules for Non-Grants</from>
      <to>Exceptions</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Replace in string 3</from>
      <to>Modified JavaScript value 3</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Modified JavaScript value 3</from>
      <to>Record Types</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Determine SAP ID</from>
      <to>SF Account</to>
      <enabled>Y</enabled>
    </hop>
  </order>
  <transform>
    <name>410, 777, 737, 739</name>
    <type>FilterRows</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <compare>
      <condition>
        <conditions>
          <condition>
            <conditions>
</conditions>
            <function>STARTS WITH</function>
            <leftvalue>FCC_ID_SAP</leftvalue>
            <negated>N</negated>
            <operator>OR</operator>
            <value>
              <isnull>N</isnull>
              <length>-1</length>
              <name>constant</name>
              <precision>-1</precision>
              <text>410</text>
              <type>String</type>
            </value>
          </condition>
          <condition>
            <conditions>
</conditions>
            <function>STARTS WITH</function>
            <leftvalue>FCC_ID_SAP</leftvalue>
            <negated>N</negated>
            <operator>OR</operator>
            <value>
              <isnull>N</isnull>
              <length>-1</length>
              <name>constant</name>
              <precision>-1</precision>
              <text>777</text>
              <type>String</type>
            </value>
          </condition>
          <condition>
            <conditions>
</conditions>
            <function>STARTS WITH</function>
            <leftvalue>FCC_ID_SAP</leftvalue>
            <negated>N</negated>
            <operator>OR</operator>
            <value>
              <isnull>N</isnull>
              <length>-1</length>
              <name>constant</name>
              <precision>-1</precision>
              <text>737</text>
              <type>String</type>
            </value>
          </condition>
          <condition>
            <conditions>
</conditions>
            <function>STARTS WITH</function>
            <leftvalue>FCC_ID_SAP</leftvalue>
            <negated>N</negated>
            <operator>OR</operator>
            <value>
              <isnull>N</isnull>
              <length>-1</length>
              <name>constant</name>
              <precision>-1</precision>
              <text>739</text>
              <type>String</type>
            </value>
          </condition>
        </conditions>
        <function>=</function>
        <negated>N</negated>
        <operator>-</operator>
      </condition>
    </compare>
    <send_true_to>Dummy (do nothing) 2</send_true_to>
    <attributes/>
    <GUI>
      <xloc>1888</xloc>
      <yloc>656</yloc>
    </GUI>
  </transform>
  <transform>
    <name>Account (Sponsor)</name>
    <type>DBLookup</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <cache>Y</cache>
    <cache_load_all>Y</cache_load_all>
    <cache_size>0</cache_size>
    <connection>MSSQL_RFSDW</connection>
    <lookup>
      <eat_row_on_failure>N</eat_row_on_failure>
      <fail_on_multiple>N</fail_on_multiple>
      <key>
        <condition>=</condition>
        <field>Sponsor_ID_SAP</field>
        <name>Sponsor_ID_SAP_KOK5</name>
      </key>
      <schema>salesforce_dim</schema>
      <table>Sponsor</table>
      <value>
        <name>Sponsor_ID_SF</name>
        <rename>Sponsor_ID_SF</rename>
        <type>String</type>
      </value>
      <value>
        <name>Sponsor_ID_SAP</name>
        <rename>Sponsor_ID_SAP</rename>
        <type>String</type>
      </value>
    </lookup>
    <attributes/>
    <GUI>
      <xloc>3568</xloc>
      <yloc>656</yloc>
    </GUI>
  </transform>
  <transform>
    <name>Account Holder</name>
    <type>DBLookup</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <cache>Y</cache>
    <cache_load_all>Y</cache_load_all>
    <cache_size>0</cache_size>
    <connection>MSSQL_RFSDW</connection>
    <lookup>
      <eat_row_on_failure>N</eat_row_on_failure>
      <fail_on_multiple>N</fail_on_multiple>
      <key>
        <condition>=</condition>
        <field>Contact ID</field>
        <name>AccountHolder_ID_SF</name>
      </key>
      <schema>salesforce_dim</schema>
      <table>Contact</table>
      <value>
        <name>Is PI</name>
        <rename>AccountHolder_IsPI</rename>
        <type>String</type>
      </value>
      <value>
        <name>Entity Name</name>
        <rename>AccountHolder_CurrentInstitute_SF_ID</rename>
        <type>String</type>
      </value>
      <value>
        <name>UID_FlagChanges</name>
        <rename>UID_FlagChanges_AccountHolder</rename>
        <type>String</type>
      </value>
    </lookup>
    <attributes/>
    <GUI>
      <xloc>2480</xloc>
      <yloc>656</yloc>
    </GUI>
  </transform>
  <transform>
    <name>Add value fields changing sequence</name>
    <type>FieldsChangeSequence</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <fields>
      <field>
        <name>FUNCTIONAL_CENTRE</name>
      </field>
    </fields>
    <increment>1</increment>
    <resultfieldName>Counter</resultfieldName>
    <start>1</start>
    <attributes/>
    <GUI>
      <xloc>2128</xloc>
      <yloc>1312</yloc>
    </GUI>
  </transform>
  <transform>
    <name>Adjustments</name>
    <type>ScriptValueMod</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <optimizationLevel>9</optimizationLevel>
    <jsScripts>
      <jsScript>
        <jsScript_type>0</jsScript_type>
        <jsScript_name>Script 1</jsScript_name>
        <jsScript_script>//Script here

//GrantReturnType_FromKOK5 = trim(GrantReturnType_FromKOK5)

var ToleranceProfile_ID = ToleranceProfile

var RecordType = null;
//Record Types from SF: https://uhn.lightning.force.com/lightning/setup/ObjectManager/01I5W0000008ZwN/PageLayouts/view
var RecordType_Budgeted = '0125W0000004LkVQAU'
var RecordType_UnBudgeted = '0125W0000004LkaQAE'
var RecordType_NonGrant = '0125W0000004M7NQAU'


//Non-Grants
if (FCC_ID_SAP.indexOf('73') == 0){
RecordType = RecordType_NonGrant
}



switch(true) {

	case ToleranceProfile == '1000':
		ToleranceProfile = '1000 (Has SAP Budget)';
		ToleranceProfile_ID = '1000';
		RecordType = RecordType_Budgeted;
		break;

	case ToleranceProfile == '7000':
		ToleranceProfile = '7000 (Nobody knows)';
		ToleranceProfile_ID = '7000';
		FinalBudget_SAP = null;
		RecordType = RecordType_UnBudgeted;
		break;

	case ToleranceProfile == '9009':
		ToleranceProfile = '9006 (Experiment)';
		ToleranceProfile_ID = '9006';
		FinalBudget_SAP = null;
		RecordType = RecordType_UnBudgeted;
		break;

	case ToleranceProfile == '9999':
		ToleranceProfile = '9999 (No SAP Budget)';
		ToleranceProfile_ID = '9999';
		FinalBudget_SAP = null;
		RecordType = RecordType_UnBudgeted;
		break;

	default:
		//ToleranceProfile = ToleranceProfile.concat( ' (Unclear)'); --Tolerance Profile can be null, therefore concat fails
           ToleranceProfile =  '***Unclear***'
}


switch(true) {

	case GrantReturnType_FromKOK5 == 'TYPE A':
		GrantReturnType_FromKOK5 = 'Type A (Restricted)'
		break;

	case GrantReturnType_FromKOK5 == 'TYPE B':
		GrantReturnType_FromKOK5 = 'Type B (Unrestricted)'
		break;

	default:
		//GrantReturnType_FromKOK5 = GrantReturnType_FromKOK5.concat( ' (Unclear)');
		GrantReturnType_FromKOK5 = '***Unclear***'
}



if (Committments_SAP === null) {
Committments_SAP = 0;
} else {
//Committments_SAP = Committments_SAP * (-1)
Committments_SAP = Committments_SAP
}</jsScript_script>
      </jsScript>
    </jsScripts>
    <fields>
      <field>
        <name>ToleranceProfile</name>
        <rename>ToleranceProfile</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>Y</replace>
      </field>
      <field>
        <name>GrantReturnType_FromKOK5</name>
        <rename>GrantReturnType_FromKOK5</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>Y</replace>
      </field>
      <field>
        <name>FinalBudget_SAP</name>
        <rename>FinalBudget_SAP</rename>
        <type>Number</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>Y</replace>
      </field>
      <field>
        <name>Committments_SAP</name>
        <rename>Committments_SAP</rename>
        <type>Number</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>Y</replace>
      </field>
      <field>
        <name>ToleranceProfile_ID</name>
        <rename>ToleranceProfile_ID</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>
      <field>
        <name>RecordType</name>
        <rename>RecordType</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>
    </fields>
    <attributes/>
    <GUI>
      <xloc>6848</xloc>
      <yloc>592</yloc>
    </GUI>
  </transform>
  <transform>
    <name>Assign Analyst Code</name>
    <type>ScriptValueMod</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <optimizationLevel>9</optimizationLevel>
    <jsScripts>
      <jsScript>
        <jsScript_type>0</jsScript_type>
        <jsScript_name>Script 1</jsScript_name>
        <jsScript_script>//Script here

//If Portfolio Code not available from KOK5, take the one already in SF (if any). It can be there when
//Bryan closes a "New FCC" case because he tracks it there.

//Analyst Codes for 737/739 accounts are tracked in SADB, but for Grant Accounts they are tracked in SAP (KOK5)

//Code should do this: If portfolio code from KOK5 and SADB are both null AND there is one already in SF, then keep it (important for New FCCs inititated in the Business Hub).
//Give KOK5(=SAP) priority over SADB (=Access DB).


//Old Code
//if (FinancialPortfolio == null &amp;&amp; AnalystCode_In_SF != null) {

//FinancialPortfolio = AnalystCode_In_SF

//}

var FinancialPortfolio = null;


switch (true) {
	//If incoming portfolio codes (KOK5 and SADB) are null, but one exists in SF, keep it. Important for New FCCs that initiate directly in Business Hub.
	case (FinancialPortfolio_KOK5 == null &amp;&amp; FinancialPortfolio_SADB ==  null &amp;&amp; FinancialPortfolio_In_SF != null) :
		FinancialPortfolio = FinancialPortfolio_In_SF;
		break;

//Give KOK5 priority over SADB
	case (FinancialPortfolio_KOK5 != null):
		FinancialPortfolio = FinancialPortfolio_KOK5;
		break;

	case (FinancialPortfolio_SADB != null):
		FinancialPortfolio = FinancialPortfolio_SADB;
		break;

	//No default values. If none of the rules above apply, leave Portfolio Code blank. We'll deal with blanks directly in SF.

	}</jsScript_script>
      </jsScript>
    </jsScripts>
    <fields>
      <field>
        <name>FinancialPortfolio</name>
        <rename>FinancialPortfolio</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>
    </fields>
    <attributes/>
    <GUI>
      <xloc>2752</xloc>
      <yloc>656</yloc>
    </GUI>
  </transform>
  <transform>
    <name>Assign Institute</name>
    <type>ScriptValueMod</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <optimizationLevel>9</optimizationLevel>
    <jsScripts>
      <jsScript>
        <jsScript_type>0</jsScript_type>
        <jsScript_name>Script 1</jsScript_name>
        <jsScript_script>//Script here


//Switch not really required here. Just using it if we need more cases in future, so it's easier to amend to the list.
switch (true) {

	case Institute_ID_SF_SAP == null &amp;&amp; SAP_ID != null:
		Institute_ID_SF_SAP = SAP_ID;
		break;

}
</jsScript_script>
      </jsScript>
    </jsScripts>
    <fields>
      <field>
        <name>Institute_ID_SF_SAP</name>
        <rename>Institute_ID_SF_SAP</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>Y</replace>
      </field>
    </fields>
    <attributes/>
    <GUI>
      <xloc>4784</xloc>
      <yloc>480</yloc>
    </GUI>
  </transform>
  <transform>
    <name>BPL_CURRENT_ROLLUP_STRUCTS_DIM</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>EDW</connection>
    <execute_each_row>N</execute_each_row>
    <limit>0</limit>
    <sql>SELECT *
FROM SS_READER.BPL_CURRENT_ROLLUP_STRUCTS_DIM
</sql>
    <variables_active>N</variables_active>
    <attributes/>
    <GUI>
      <xloc>144</xloc>
      <yloc>256</yloc>
    </GUI>
  </transform>
  <transform>
    <name>BPL_HR_FUNCTIONAL_CENTRE_DIM</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>EDW</connection>
    <execute_each_row>N</execute_each_row>
    <limit>0</limit>
    <sql>SELECT *
FROM SS_READER.BPL_HR_FUNCTIONAL_CENTRE_DIM
--where FUNCTIONAL_CENTRE = '410003313'
</sql>
    <variables_active>N</variables_active>
    <attributes/>
    <GUI>
      <xloc>304</xloc>
      <yloc>1328</yloc>
    </GUI>
  </transform>
  <transform>
    <name>Block this step until steps finish</name>
    <type>BlockUntilTransformsFinish</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <transforms>
      <transform>
        <CopyNr>0</CopyNr>
        <name>Truncate errors_loading.SF_FCC</name>
      </transform>
    </transforms>
    <attributes/>
    <GUI>
      <xloc>336</xloc>
      <yloc>144</yloc>
    </GUI>
  </transform>
  <transform>
    <name>Budget Max Values</name>
    <type>MemoryGroupBy</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <fields>
      <field>
        <aggregate>BudgetEndDate_Max</aggregate>
        <subject>BudgetValidToDate</subject>
        <type>MAX</type>
      </field>
      <field>
        <aggregate>FCC_Description_GMB</aggregate>
        <subject>Description</subject>
        <type>MAX</type>
      </field>
      <field>
        <aggregate>AwardTypeDescription</aggregate>
        <subject>AwardType_Description</subject>
        <type>MAX</type>
      </field>
      <field>
        <aggregate>Description_GMB</aggregate>
        <subject>Description</subject>
        <type>MAX</type>
      </field>
    </fields>
    <give_back_row>N</give_back_row>
    <group>
      <field>
        <name>Grant</name>
      </field>
    </group>
    <attributes/>
    <GUI>
      <xloc>5424</xloc>
      <yloc>832</yloc>
    </GUI>
  </transform>
  <transform>
    <name>Budget vs Actuals</name>
    <type>DBLookup</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <cache>Y</cache>
    <cache_load_all>Y</cache_load_all>
    <cache_size>0</cache_size>
    <connection>MSSQL_RFSDW</connection>
    <lookup>
      <eat_row_on_failure>N</eat_row_on_failure>
      <fail_on_multiple>N</fail_on_multiple>
      <key>
        <condition>=</condition>
        <field>grant_id</field>
        <name>Grant_ID</name>
      </key>
      <schema>sap</schema>
      <table>Budget_vs_Actuals</table>
      <value>
        <name>Actuals</name>
        <rename>Actuals_SAP</rename>
        <type>Number</type>
      </value>
      <value>
        <name>Encumbrances</name>
        <rename>Committments_SAP</rename>
        <type>Number</type>
      </value>
      <value>
        <name>Variance</name>
        <rename>Variance_SAP</rename>
        <type>Number</type>
      </value>
      <value>
        <name>FinalBudget</name>
        <rename>FinalBudget_SAP</rename>
        <type>Number</type>
      </value>
    </lookup>
    <attributes/>
    <GUI>
      <xloc>5600</xloc>
      <yloc>640</yloc>
    </GUI>
  </transform>
  <transform>
    <name>Cascade entries</name>
    <type>ScriptValueMod</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <optimizationLevel>9</optimizationLevel>
    <jsScripts>
      <jsScript>
        <jsScript_type>0</jsScript_type>
        <jsScript_name>Script 1</jsScript_name>
        <jsScript_script>ACCOUNT_OR_CENTRE = trim(ACCOUNT_OR_CENTRE)


if (ACCOUNT_OR_CENTRE_TYPE === null || ACCOUNT_OR_CENTRE_TYPE == '') {
ACCOUNT_OR_CENTRE_TYPE = "***Undefined***"
}




//If lower level descriptions are null, fill in with higher level descriptions (levels ONE and TWO are never null)
switch (true) {
		
	case (THREE_POINT_DESCRIPTION === null || THREE_POINT_DESCRIPTION == ''):
	
		THREE_POINT_ID = "~2~".concat(TWO_POINT_ID) 
		THREE_POINT_DESCRIPTION = "~2~".concat(TWO_POINT_DESCRIPTION) 
		THREE_POINT_DISPLAY_NUMBER = "~2~".concat(TWO_POINT_DISPLAY_NUMBER) 
	
		FOUR_POINT_ID = "~2~".concat(TWO_POINT_ID) 
		FOUR_POINT_DESCRIPTION = "~2~".concat(TWO_POINT_DESCRIPTION) 
		FOUR_POINT_DISPLAY_NUMBER = "~2~".concat(TWO_POINT_DISPLAY_NUMBER) 
		
		FIVE_POINT_ID = "~2~".concat(TWO_POINT_ID) 
		FIVE_POINT_DESCRIPTION = "~2~".concat(TWO_POINT_DESCRIPTION) 
		FIVE_POINT_DISPLAY_NUMBER = "~2~".concat(TWO_POINT_DISPLAY_NUMBER) 
		
		SIX_POINT_ID = "~2~".concat(TWO_POINT_ID) 
		SIX_POINT_DESCRIPTION = "~2~".concat(TWO_POINT_DESCRIPTION) 
		SIX_POINT_DISPLAY_NUMBER = "~2~".concat(TWO_POINT_DISPLAY_NUMBER) 
		
		SEVEN_POINT_ID = "~2~".concat(TWO_POINT_ID) 
		SEVEN_POINT_DESCRIPTION = "~2~".concat(TWO_POINT_DESCRIPTION) 
		SEVEN_POINT_DISPLAY_NUMBER = "~2~".concat(TWO_POINT_DISPLAY_NUMBER) 
		
		EIGHT_POINT_ID = "~2~".concat(TWO_POINT_ID) 
		EIGHT_POINT_DESCRIPTION = "~2~".concat(TWO_POINT_DESCRIPTION) 
		EIGHT_POINT_DISPLAY_NUMBER = "~2~".concat(TWO_POINT_DISPLAY_NUMBER)

		NINE_POINT_ID = "~2~".concat(TWO_POINT_ID) 
		NINE_POINT_DESCRIPTION = "~2~".concat(TWO_POINT_DESCRIPTION) 
		NINE_POINT_DISPLAY_NUMBER = "~2~".concat(TWO_POINT_DISPLAY_NUMBER)

	break;

	case (FOUR_POINT_DESCRIPTION === null):
	
		FOUR_POINT_ID = "~3~".concat(THREE_POINT_ID) 
		FOUR_POINT_DESCRIPTION = "~3~".concat(THREE_POINT_DESCRIPTION) 
		FOUR_POINT_DISPLAY_NUMBER = "~3~".concat(THREE_POINT_DISPLAY_NUMBER) 
		
		FIVE_POINT_ID = "~3~".concat(THREE_POINT_ID) 
		FIVE_POINT_DESCRIPTION = "~3~".concat(THREE_POINT_DESCRIPTION) 
		FIVE_POINT_DISPLAY_NUMBER = "~3~".concat(THREE_POINT_DISPLAY_NUMBER) 
		
		SIX_POINT_ID = "~3~".concat(THREE_POINT_ID) 
		SIX_POINT_DESCRIPTION = "~3~".concat(THREE_POINT_DESCRIPTION) 
		SIX_POINT_DISPLAY_NUMBER = "~3~".concat(THREE_POINT_DISPLAY_NUMBER) 
		
		SEVEN_POINT_ID = "~3~".concat(THREE_POINT_ID) 
		SEVEN_POINT_DESCRIPTION = "~3~".concat(THREE_POINT_DESCRIPTION) 
		SEVEN_POINT_DISPLAY_NUMBER = "~3~".concat(THREE_POINT_DISPLAY_NUMBER) 
		
		EIGHT_POINT_ID = "~3~".concat(THREE_POINT_ID) 
		EIGHT_POINT_DESCRIPTION = "~3~".concat(THREE_POINT_DESCRIPTION) 
		EIGHT_POINT_DISPLAY_NUMBER = "~3~".concat(THREE_POINT_DISPLAY_NUMBER)

		NINE_POINT_ID = "~3~".concat(THREE_POINT_ID) 
		NINE_POINT_DESCRIPTION = "~3~".concat(THREE_POINT_DESCRIPTION) 
		NINE_POINT_DISPLAY_NUMBER = "~3~".concat(THREE_POINT_DISPLAY_NUMBER)

	break;


	case (FIVE_POINT_DESCRIPTION === null):
		
		FIVE_POINT_ID = "~4~".concat(FOUR_POINT_ID) 
		FIVE_POINT_DESCRIPTION = "~4~".concat(FOUR_POINT_DESCRIPTION) 
		FIVE_POINT_DISPLAY_NUMBER = "~4~".concat(FOUR_POINT_DISPLAY_NUMBER) 
		
		SIX_POINT_ID = "~4~".concat(FOUR_POINT_ID) 
		SIX_POINT_DESCRIPTION = "~4~".concat(FOUR_POINT_DESCRIPTION) 
		SIX_POINT_DISPLAY_NUMBER = "~4~".concat(FOUR_POINT_DISPLAY_NUMBER) 
		
		SEVEN_POINT_ID = "~4~".concat(FOUR_POINT_ID) 
		SEVEN_POINT_DESCRIPTION = "~4~".concat(FOUR_POINT_DESCRIPTION) 
		SEVEN_POINT_DISPLAY_NUMBER = "~4~".concat(FOUR_POINT_DISPLAY_NUMBER) 
		
		EIGHT_POINT_ID = "~4~".concat(FOUR_POINT_ID) 
		EIGHT_POINT_DESCRIPTION = "~4~".concat(FOUR_POINT_DESCRIPTION) 
		EIGHT_POINT_DISPLAY_NUMBER = "~4~".concat(FOUR_POINT_DISPLAY_NUMBER)

		NINE_POINT_ID = "~4~".concat(FOUR_POINT_ID) 
		NINE_POINT_DESCRIPTION = "~4~".concat(FOUR_POINT_DESCRIPTION) 
		NINE_POINT_DISPLAY_NUMBER = "~4~".concat(FOUR_POINT_DISPLAY_NUMBER)

	break;


	case (SIX_POINT_DESCRIPTION === null):	
		
		SIX_POINT_ID = "~5~".concat(FIVE_POINT_ID) 
		SIX_POINT_DESCRIPTION = "~5~".concat(FIVE_POINT_DESCRIPTION) 
		SIX_POINT_DISPLAY_NUMBER = "~5~".concat(FIVE_POINT_DISPLAY_NUMBER) 
		
		SEVEN_POINT_ID = "~5~".concat(FIVE_POINT_ID) 
		SEVEN_POINT_DESCRIPTION = "~5~".concat(FIVE_POINT_DESCRIPTION) 
		SEVEN_POINT_DISPLAY_NUMBER = "~5~".concat(FIVE_POINT_DISPLAY_NUMBER) 
		
		EIGHT_POINT_ID = "~5~".concat(FIVE_POINT_ID) 
		EIGHT_POINT_DESCRIPTION = "~5~".concat(FIVE_POINT_DESCRIPTION) 
		EIGHT_POINT_DISPLAY_NUMBER = "~5~".concat(FIVE_POINT_DISPLAY_NUMBER)

		NINE_POINT_ID = "~5~".concat(FIVE_POINT_ID) 
		NINE_POINT_DESCRIPTION = "~5~".concat(FIVE_POINT_DESCRIPTION) 
		NINE_POINT_DISPLAY_NUMBER = "~5~".concat(FIVE_POINT_DISPLAY_NUMBER)

	break;

	
	case (SEVEN_POINT_DESCRIPTION === null):	
		
		SEVEN_POINT_ID = "~6~".concat(SIX_POINT_ID) 
		SEVEN_POINT_DESCRIPTION = "~6~".concat(SIX_POINT_DESCRIPTION) 
		SEVEN_POINT_DISPLAY_NUMBER = "~6~".concat(SIX_POINT_DISPLAY_NUMBER) 
		
		EIGHT_POINT_ID = "~6~".concat(SIX_POINT_ID) 
		EIGHT_POINT_DESCRIPTION = "~6~".concat(SIX_POINT_DESCRIPTION) 
		EIGHT_POINT_DISPLAY_NUMBER = "~6~".concat(SIX_POINT_DISPLAY_NUMBER)

		NINE_POINT_ID = "~6~".concat(SIX_POINT_ID) 
		NINE_POINT_DESCRIPTION = "~6~".concat(SIX_POINT_DESCRIPTION) 
		NINE_POINT_DISPLAY_NUMBER = "~6~".concat(SIX_POINT_DISPLAY_NUMBER)

	break;

	case (EIGHT_POINT_DESCRIPTION === null):	
		
		EIGHT_POINT_ID = "~7~".concat(SEVEN_POINT_ID) 
		EIGHT_POINT_DESCRIPTION = "~7~".concat(SEVEN_POINT_DESCRIPTION) 
		EIGHT_POINT_DISPLAY_NUMBER = "~7~".concat(SEVEN_POINT_DISPLAY_NUMBER)

		NINE_POINT_ID = "~7~".concat(SEVEN_POINT_ID) 
		NINE_POINT_DESCRIPTION = "~7~".concat(SEVEN_POINT_DESCRIPTION) 
		NINE_POINT_DISPLAY_NUMBER = "~7~".concat(SEVEN_POINT_DISPLAY_NUMBER)

	break;


	case (NINE_POINT_DESCRIPTION === null):	

		NINE_POINT_ID = "~8~".concat(EIGHT_POINT_ID) 
		NINE_POINT_DESCRIPTION = "~8~".concat(EIGHT_POINT_DESCRIPTION) 
		NINE_POINT_DISPLAY_NUMBER = "~8~".concat(EIGHT_POINT_DISPLAY_NUMBER)

	break;

	
	}

</jsScript_script>
      </jsScript>
    </jsScripts>
    <fields>
      <field>
        <name>ACCOUNT_OR_CENTRE_TYPE</name>
        <rename>ACCOUNT_OR_CENTRE_TYPE</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>Y</replace>
      </field>
      <field>
        <name>THREE_POINT_ID</name>
        <rename>THREE_POINT_ID</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>Y</replace>
      </field>
      <field>
        <name>THREE_POINT_DESCRIPTION</name>
        <rename>THREE_POINT_DESCRIPTION</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>Y</replace>
      </field>
      <field>
        <name>THREE_POINT_DISPLAY_NUMBER</name>
        <rename>THREE_POINT_DISPLAY_NUMBER</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>Y</replace>
      </field>
      <field>
        <name>FOUR_POINT_ID</name>
        <rename>FOUR_POINT_ID</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>Y</replace>
      </field>
      <field>
        <name>FOUR_POINT_DESCRIPTION</name>
        <rename>FOUR_POINT_DESCRIPTION</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>Y</replace>
      </field>
      <field>
        <name>FOUR_POINT_DISPLAY_NUMBER</name>
        <rename>FOUR_POINT_DISPLAY_NUMBER</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>Y</replace>
      </field>
      <field>
        <name>FIVE_POINT_ID</name>
        <rename>FIVE_POINT_ID</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>Y</replace>
      </field>
      <field>
        <name>FIVE_POINT_DESCRIPTION</name>
        <rename>FIVE_POINT_DESCRIPTION</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>Y</replace>
      </field>
      <field>
        <name>FIVE_POINT_DISPLAY_NUMBER</name>
        <rename>FIVE_POINT_DISPLAY_NUMBER</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>Y</replace>
      </field>
      <field>
        <name>SIX_POINT_ID</name>
        <rename>SIX_POINT_ID</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>Y</replace>
      </field>
      <field>
        <name>SIX_POINT_DESCRIPTION</name>
        <rename>SIX_POINT_DESCRIPTION</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>Y</replace>
      </field>
      <field>
        <name>SIX_POINT_DISPLAY_NUMBER</name>
        <rename>SIX_POINT_DISPLAY_NUMBER</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>Y</replace>
      </field>
      <field>
        <name>SEVEN_POINT_ID</name>
        <rename>SEVEN_POINT_ID</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>Y</replace>
      </field>
      <field>
        <name>SEVEN_POINT_DESCRIPTION</name>
        <rename>SEVEN_POINT_DESCRIPTION</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>Y</replace>
      </field>
      <field>
        <name>SEVEN_POINT_DISPLAY_NUMBER</name>
        <rename>SEVEN_POINT_DISPLAY_NUMBER</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>Y</replace>
      </field>
      <field>
        <name>EIGHT_POINT_ID</name>
        <rename>EIGHT_POINT_ID</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>Y</replace>
      </field>
      <field>
        <name>EIGHT_POINT_DESCRIPTION</name>
        <rename>EIGHT_POINT_DESCRIPTION</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>Y</replace>
      </field>
      <field>
        <name>EIGHT_POINT_DISPLAY_NUMBER</name>
        <rename>EIGHT_POINT_DISPLAY_NUMBER</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>Y</replace>
      </field>
      <field>
        <name>NINE_POINT_ID</name>
        <rename>NINE_POINT_ID</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>Y</replace>
      </field>
      <field>
        <name>NINE_POINT_DESCRIPTION</name>
        <rename>NINE_POINT_DESCRIPTION</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>Y</replace>
      </field>
      <field>
        <name>NINE_POINT_DISPLAY_NUMBER</name>
        <rename>NINE_POINT_DISPLAY_NUMBER</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>Y</replace>
      </field>
      <field>
        <name>ACCOUNT_OR_CENTRE</name>
        <rename>ACCOUNT_OR_CENTRE</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>Y</replace>
      </field>
    </fields>
    <attributes/>
    <GUI>
      <xloc>1200</xloc>
      <yloc>208</yloc>
    </GUI>
  </transform>
  <transform>
    <name>Checksum_FlagChanges</name>
    <type>CheckSum</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <checksumtype>SHA-256</checksumtype>
    <fields>
      <field>
        <name>Account Holder</name>
      </field>
      <field>
        <name>AccountHolder_ID_In_SF</name>
      </field>
      <field>
        <name>AccountHolder_ID_SF</name>
      </field>
      <field>
        <name>Actuals_SAP</name>
      </field>
      <field>
        <name>AwardTypeDescription</name>
      </field>
      <field>
        <name>BudgetEndDate_Max</name>
      </field>
      <field>
        <name>Committments_SAP</name>
      </field>
      <field>
        <name>ENTITY_ID</name>
      </field>
      <field>
        <name>Entity_ID_SF</name>
      </field>
      <field>
        <name>ExternalReference_GrantMasterData</name>
      </field>
      <field>
        <name>FCC_Category</name>
      </field>
      <field>
        <name>FCC_Description_FromKOK5</name>
      </field>
      <field>
        <name>FCC_ID_SAP</name>
      </field>
      <field>
        <name>FCC_KEY_EDW</name>
      </field>
      <field>
        <name>FCC_Owner_SF</name>
      </field>
      <field>
        <name>FCC_SAP_ID_In_SF</name>
      </field>
      <field>
        <name>FCC_STATUS_RFIS</name>
      </field>
      <field>
        <name>FCC_Status_KOK5</name>
      </field>
      <field>
        <name>FCC_Title</name>
      </field>
      <field>
        <name>FCC_Type</name>
      </field>
      <field>
        <name>FCC_Type_long</name>
      </field>
      <field>
        <name>FCC_Type_short</name>
      </field>
      <field>
        <name>FinalBudget_SAP</name>
      </field>
      <field>
        <name>FinancialAnalyst_ContactID</name>
      </field>
      <field>
        <name>FlagForDeletion</name>
      </field>
      <field>
        <name>GrantEndDate_GrantMasterData</name>
      </field>
      <field>
        <name>GrantReturnType_FromKOK5</name>
      </field>
      <field>
        <name>GrantStartDate_GrantMasterData</name>
      </field>
      <field>
        <name>Grant_KOK5</name>
      </field>
      <field>
        <name>Institute_AccountHolder_ID_SF</name>
      </field>
      <field>
        <name>Institute_ID_In_SF</name>
      </field>
      <field>
        <name>Institute_ID_SF</name>
      </field>
      <field>
        <name>Institute_ID_SF_SAP</name>
      </field>
      <field>
        <name>InternalReference_GrantMasterData</name>
      </field>
      <field>
        <name>IsGrantAccount</name>
      </field>
      <field>
        <name>Level 1 Description</name>
      </field>
      <field>
        <name>Level 1 Display Number</name>
      </field>
      <field>
        <name>Level 1 ID</name>
      </field>
      <field>
        <name>Level 2 Description</name>
      </field>
      <field>
        <name>Level 2 Display Number</name>
      </field>
      <field>
        <name>Level 2 ID</name>
      </field>
      <field>
        <name>Level 3 Description</name>
      </field>
      <field>
        <name>Level 3 Display Number</name>
      </field>
      <field>
        <name>Level 3 ID</name>
      </field>
      <field>
        <name>Level 4 Description</name>
      </field>
      <field>
        <name>Level 4 Display Number</name>
      </field>
      <field>
        <name>Level 4 ID</name>
      </field>
      <field>
        <name>Level 5 Description</name>
      </field>
      <field>
        <name>Level 5 Display Number</name>
      </field>
      <field>
        <name>Level 5 ID</name>
      </field>
      <field>
        <name>Level 6 Description</name>
      </field>
      <field>
        <name>Level 6 Display Number</name>
      </field>
      <field>
        <name>Level 6 ID</name>
      </field>
      <field>
        <name>Level 7 Description</name>
      </field>
      <field>
        <name>Level 7 Display Number</name>
      </field>
      <field>
        <name>Level 7 ID</name>
      </field>
      <field>
        <name>Level 8 Description</name>
      </field>
      <field>
        <name>Level 8 Display Number</name>
      </field>
      <field>
        <name>Level 8 ID</name>
      </field>
      <field>
        <name>Level 9 Description</name>
      </field>
      <field>
        <name>Level 9 Display Number</name>
      </field>
      <field>
        <name>Level 9 ID</name>
      </field>
      <field>
        <name>Lifecyle_1_GrantMasterData</name>
      </field>
      <field>
        <name>NoOfCards</name>
      </field>
      <field>
        <name>OLD_ACCOUNT</name>
      </field>
      <field>
        <name>OLD_ACCOUNT_DESCRIPTION</name>
      </field>
      <field>
        <name>OLD_ENTITY</name>
      </field>
      <field>
        <name>OrgCostRate_CalculatedForDisplay</name>
      </field>
      <field>
        <name>PassRecordToUpsert</name>
      </field>
      <field>
        <name>Portfolio_RFS_Analysts</name>
      </field>
      <field>
        <name>RecordType</name>
      </field>
      <field>
        <name>SAP_ID</name>
      </field>
      <field>
        <name>SITE</name>
      </field>
      <field>
        <name>STRUCTURE_NAME</name>
      </field>
      <field>
        <name>STRUCTURE_TYPE</name>
      </field>
      <field>
        <name>Splitting_Rule</name>
      </field>
      <field>
        <name>Sponsor_ID_SAP_KOK5</name>
      </field>
      <field>
        <name>Sponsor_ID_SF</name>
      </field>
      <field>
        <name>Text_RecordType_Sponsor</name>
      </field>
      <field>
        <name>ToleranceProfile</name>
      </field>
      <field>
        <name>ToleranceProfile_ID</name>
      </field>
      <field>
        <name>Troubleshooting_Comments</name>
      </field>
      <field>
        <name>Variance_SAP</name>
      </field>
      <field>
        <name>Financial Status</name>
      </field>
      <field>
        <name>ProjectTitle</name>
      </field>
      <field>
        <name>ProjectTitle_In_SF</name>
      </field>
      <field>
        <name>SeniorAnalyst_ContactID</name>
      </field>
      <field>
        <name>UID_FlagChanges_AccountHolder</name>
      </field>
      <field>
        <name>CloseDate</name>
      </field>
    </fields>
    <resultType>hexadecimal</resultType>
    <resultfieldName>Checksum_FlagChanges</resultfieldName>
    <attributes/>
    <GUI>
      <xloc>10656</xloc>
      <yloc>640</yloc>
    </GUI>
  </transform>
  <transform>
    <name>Cleansing</name>
    <type>ReplaceString</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <fields>
      <field>
        <case_sensitive>N</case_sensitive>
        <in_stream_name>ACCOUNT_OR_CENTRE</in_stream_name>
        <is_unicode>N</is_unicode>
        <out_stream_name>ACCOUNT_OR_CENTRE_cleansed</out_stream_name>
        <replace_string>^(000|UH)</replace_string>
        <set_empty_string>N</set_empty_string>
        <use_regex>Y</use_regex>
        <whole_word>N</whole_word>
      </field>
    </fields>
    <attributes/>
    <GUI>
      <xloc>464</xloc>
      <yloc>208</yloc>
    </GUI>
  </transform>
  <transform>
    <name>Count PCards</name>
    <type>MemoryGroupBy</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <fields>
      <field>
        <aggregate>NoOfCards</aggregate>
        <subject>Account Number</subject>
        <type>COUNT_ALL</type>
      </field>
    </fields>
    <give_back_row>N</give_back_row>
    <group>
      <field>
        <name>FC</name>
      </field>
    </group>
    <attributes/>
    <GUI>
      <xloc>6384</xloc>
      <yloc>1024</yloc>
    </GUI>
  </transform>
  <transform>
    <name>Determine SAP ID</name>
    <type>ScriptValueMod</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <optimizationLevel>9</optimizationLevel>
    <jsScripts>
      <jsScript>
        <jsScript_type>0</jsScript_type>
        <jsScript_name>Script 1</jsScript_name>
        <jsScript_script>//Script here

var SAP_ID = null;



// FOUR_POINT_ID 100R01 = CORE INSTITUTES
// FOUR_POINT_ID 200R01 = BUILDING AND TENANTS
// FOUR_POINT_ID 300RC = RSS AND SERV RECOVERIES
// FOUR_POINT_ID 500RC = PROJECTS

if (trim(FOUR_POINT_ID) == "100R01") {
SAP_ID = trim(FIVE_POINT_ID);
}

if (trim(FOUR_POINT_ID) == "300RC") {
SAP_ID = trim(SIX_POINT_ID);
}


//Remapped after step BPL_CURRENT_ROLLUP_STRUCTS_DIM, i. e. SIX_POINT_DESCRIPTION and SIX_POINT_ID were overwritten there (so they are different than in SAP now)
if (SIX_POINT_DESCRIPTION == "Service Recoveries") {
SAP_ID = SIX_POINT_ID 
}


//Remapped after step BPL_CURRENT_ROLLUP_STRUCTS_DIM, i. e. SIX_POINT_DESCRIPTION and SIX_POINT_ID were overwritten there (so they are different than in SAP now)
if (SIX_POINT_DESCRIPTION == "Global Revenue") {
SAP_ID = SIX_POINT_ID
}


if (FOUR_POINT_DESCRIPTION == "BUILDING AND TENANTS") {
SAP_ID = FIVE_POINT_ID
}

//PROJECTS
if (trim(FOUR_POINT_ID) == "500RC") {
SAP_ID = trim(FIVE_POINT_ID);
}</jsScript_script>
      </jsScript>
    </jsScripts>
    <fields>
      <field>
        <name>SAP_ID</name>
        <rename>SAP_ID</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>
    </fields>
    <attributes/>
    <GUI>
      <xloc>1760</xloc>
      <yloc>544</yloc>
    </GUI>
  </transform>
  <transform>
    <name>Determine SAP ID for RSS and Institutes</name>
    <type>ScriptValueMod</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <optimizationLevel>9</optimizationLevel>
    <jsScripts>
      <jsScript>
        <jsScript_type>0</jsScript_type>
        <jsScript_name>Script 1</jsScript_name>
        <jsScript_script>//Script here

//This steps assigns the SAP IDs for Institutes and RSS Departments
var SAP_ID_Institute_RSS = null;



// FOUR_POINT_ID 100R01 = CORE INSTITUTES
// FOUR_POINT_ID 200R01 = BUILDING AND TENANTS
// FOUR_POINT_ID 300RC = RSS AND SERV RECOVERIES
// FOUR_POINT_ID 500RC = PROJECTS

if (trim(FOUR_POINT_ID) == "100R01") {
SAP_ID_Institute_RSS = trim(FIVE_POINT_ID);
}

if (trim(FOUR_POINT_ID) == "300RC") {
SAP_ID_Institute_RSS = trim(SIX_POINT_ID);
}


//Remapped after step BPL_CURRENT_ROLLUP_STRUCTS_DIM, i. e. SIX_POINT_DESCRIPTION and SIX_POINT_ID were overwritten there (so they are different than in SAP now)
if (SIX_POINT_DESCRIPTION == "Service Recoveries") {
SAP_ID_Institute_RSS = SIX_POINT_ID 
}


//Remapped after step BPL_CURRENT_ROLLUP_STRUCTS_DIM, i. e. SIX_POINT_DESCRIPTION and SIX_POINT_ID were overwritten there (so they are different than in SAP now)
if (SIX_POINT_DESCRIPTION == "Global Revenue") {
SAP_ID_Institute_RSS = SIX_POINT_ID
}


if (FOUR_POINT_DESCRIPTION == "BUILDING AND TENANTS") {
SAP_ID_Institute_RSS = FIVE_POINT_ID
}

//PROJECTS
if (trim(FOUR_POINT_ID) == "500RC") {
SAP_ID_Institute_RSS = trim(FIVE_POINT_ID);
}</jsScript_script>
      </jsScript>
    </jsScripts>
    <fields>
      <field>
        <name>SAP_ID_Institute_RSS</name>
        <rename>SAP_ID_Institute_RSS</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>
    </fields>
    <attributes/>
    <GUI>
      <xloc>8592</xloc>
      <yloc>640</yloc>
    </GUI>
  </transform>
  <transform>
    <name>Dummy (do nothing)</name>
    <type>Dummy</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <attributes/>
    <GUI>
      <xloc>6624</xloc>
      <yloc>864</yloc>
    </GUI>
  </transform>
  <transform>
    <name>Dummy (do nothing) 2</name>
    <type>Dummy</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <attributes/>
    <GUI>
      <xloc>2032</xloc>
      <yloc>656</yloc>
    </GUI>
  </transform>
  <transform>
    <name>Dummy (do nothing) 3</name>
    <type>Dummy</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <attributes/>
    <GUI>
      <xloc>11072</xloc>
      <yloc>640</yloc>
    </GUI>
  </transform>
  <transform>
    <name>Error Date FCC</name>
    <type>SystemInfo</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <fields>
      <field>
        <name>ErrorDate</name>
        <type>system date (variable)</type>
      </field>
    </fields>
    <attributes/>
    <GUI>
      <xloc>12064</xloc>
      <yloc>640</yloc>
    </GUI>
  </transform>
  <transform>
    <name>Error Date GL</name>
    <type>SystemInfo</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <fields>
      <field>
        <name>ErrorDate</name>
        <type>system date (variable)</type>
      </field>
    </fields>
    <attributes/>
    <GUI>
      <xloc>4016</xloc>
      <yloc>80</yloc>
    </GUI>
  </transform>
  <transform>
    <name>Exceptions</name>
    <type>ScriptValueMod</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <optimizationLevel>9</optimizationLevel>
    <jsScripts>
      <jsScript>
        <jsScript_type>0</jsScript_type>
        <jsScript_name>Script 1</jsScript_name>
        <jsScript_script>//Script here

//For Gordon Keller, set the Institute to McEwen
if (AccountHolder_ID_SF == '0035W000002aAmoQAE') {
	Institute_ID_SF = '0015W000002fjQXQAY'
}


//When Internal Reference was set to "ERROR", it means that RFS made a mistake when opening the FCC in SAP.
//The statement below re-assignes them. Maybe we want to consider setting up a PI account and an Institute for such "garbage" FCCs.
if (upper(InternalReference_GrantMasterData) == 'ERROR') {
	AccountHolder_ID_SF = '0035W000003TOpiQAG' //Generic PI
	Institute_ID_SF = '0015W000003RGT9QAO' //Placeholder
}</jsScript_script>
      </jsScript>
    </jsScripts>
    <fields>
      <field>
        <name>Institute_ID_SF</name>
        <rename>Institute_ID_SF</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>Y</replace>
      </field>
      <field>
        <name>AccountHolder_ID_SF</name>
        <rename>AccountHolder_ID_SF</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>Y</replace>
      </field>
    </fields>
    <attributes/>
    <GUI>
      <xloc>9776</xloc>
      <yloc>640</yloc>
    </GUI>
  </transform>
  <transform>
    <name>FCC</name>
    <type>DBLookup</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <cache>Y</cache>
    <cache_load_all>Y</cache_load_all>
    <cache_size>0</cache_size>
    <connection>MSSQL_RFSDW</connection>
    <lookup>
      <eat_row_on_failure>N</eat_row_on_failure>
      <fail_on_multiple>N</fail_on_multiple>
      <key>
        <condition>=</condition>
        <field>FCC_Number</field>
        <name>FCC_ID_SAP</name>
      </key>
      <schema>salesforce_dim</schema>
      <table>FCC</table>
      <value>
        <name>Analyst Code</name>
        <rename>FinancialPortfolio_In_SF</rename>
        <type>String</type>
      </value>
      <value>
        <name>Account Holder</name>
        <rename>AccountHolder_ID_SF</rename>
        <type>String</type>
      </value>
    </lookup>
    <attributes/>
    <GUI>
      <xloc>2384</xloc>
      <yloc>656</yloc>
    </GUI>
  </transform>
  <transform>
    <name>FCC - Current Values</name>
    <type>DBLookup</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <cache>Y</cache>
    <cache_load_all>Y</cache_load_all>
    <cache_size>0</cache_size>
    <connection>MSSQL_RFSDW</connection>
    <lookup>
      <eat_row_on_failure>N</eat_row_on_failure>
      <fail_on_multiple>N</fail_on_multiple>
      <key>
        <condition>=</condition>
        <field>SAP Id</field>
        <name>FCC_ID_SAP</name>
      </key>
      <schema>salesforce_dim</schema>
      <table>FCC</table>
      <value>
        <name>Institute</name>
        <rename>Institute_ID_In_SF</rename>
        <type>String</type>
      </value>
      <value>
        <name>Account Holder</name>
        <rename>AccountHolder_ID_In_SF</rename>
        <type>String</type>
      </value>
      <value>
        <name>Account Holder</name>
        <rename>Account Holder</rename>
        <type>String</type>
      </value>
      <value>
        <name>Checksum (Flag changes)</name>
        <rename>Checksum_AlreadyInSF</rename>
        <type>String</type>
      </value>
      <value>
        <name>SAP Id</name>
        <rename>FCC_SAP_ID_In_SF</rename>
        <type>String</type>
      </value>
      <value>
        <name>Financial Status</name>
        <rename>Financial Status</rename>
        <type>String</type>
      </value>
      <value>
        <name>Project Title</name>
        <rename>ProjectTitle_In_SF</rename>
        <type>String</type>
      </value>
      <value>
        <name>FCC Description</name>
        <rename>FCC_Description_in_SF</rename>
        <type>String</type>
      </value>
      <value>
        <name>Sponsor</name>
        <rename>Sponsor_in_SF</rename>
        <type>String</type>
      </value>
    </lookup>
    <attributes/>
    <GUI>
      <xloc>7760</xloc>
      <yloc>640</yloc>
    </GUI>
  </transform>
  <transform>
    <name>FCC BA</name>
    <type>InsertUpdate</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <commit>100</commit>
    <connection>MSSQL_RFSDW</connection>
    <lookup>
      <key>
        <condition>=</condition>
        <field>FCC_ID_SAP</field>
        <name>FCC_ID_SAP</name>
      </key>
      <schema>bihelper</schema>
      <table>FCC_BusinessArea</table>
      <value>
        <name>FCC_ID_SAP</name>
        <rename>FCC_ID_SAP</rename>
        <update>Y</update>
      </value>
      <value>
        <name>BusinessArea</name>
        <rename>BusinessArea</rename>
        <update>Y</update>
      </value>
    </lookup>
    <update_bypassed>N</update_bypassed>
    <attributes/>
    <GUI>
      <xloc>11920</xloc>
      <yloc>816</yloc>
    </GUI>
  </transform>
  <transform>
    <name>FCC Naming Convention PnL</name>
    <type>ScriptValueMod</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <optimizationLevel>9</optimizationLevel>
    <jsScripts>
      <jsScript>
        <jsScript_type>0</jsScript_type>
        <jsScript_name>Script 1</jsScript_name>
        <jsScript_script>//Script here
//Make sure FCC_Title always contains the FCC ID. (In SAP, IOs do, but Operation's FCCs don't).
var FCC_Category = null;
var FCC_Type_short = null;// CC or GIO
var FCC_Type_long = null;// Cost Centre or Grants IO

switch(true) {

case ONE_POINT_ID == "IO":
FCC_Category = "Grants_IO"
break;

case ONE_POINT_ID == "UHN":
FCC_Category = "Operations"
break;

default:
FCC_Category = "***Undefined***"

}



if (substr(FCC_ID_SAP, 0, 2) == '73' ) {
FCC_Type_short = 'CC'
FCC_Type_long = 'Cost Centre'
}


if (
	substr(FCC_ID_SAP, 0, 3) == '410' 
||  substr(FCC_ID_SAP, 0, 3) == '777' 

) {
FCC_Type_short = 'GIO'
FCC_Type_long = 'Grants IO'
}


//I believe we agreed to not transfer "Funding Type". Leaving the code here just in case the topic comes up later.
//if (fundingtype === null) {
//fundingtype = "***Funding Type Undefined***"
//}</jsScript_script>
      </jsScript>
      <jsScript>
        <jsScript_type>-1</jsScript_type>
        <jsScript_name>substr_Sample</jsScript_name>
        <jsScript_script>// Perform the substring function
// 
// Usage:
// substr(var, from);
// substr(var, from, to);
//
// 2007-01-25
//
var str1= "Hello Pentaho!";
var str2= substr(str1, 6);
var str3= substr(str1, 6, 7);
Alert("Input : " + str1);
Alert("From position 6: " + str2);
Alert("From position 6 for 7 long : " + str3);
</jsScript_script>
      </jsScript>
    </jsScripts>
    <fields>
      <field>
        <name>FCC_Category</name>
        <rename>FCC_Category</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>
      <field>
        <name>FCC_Type_short</name>
        <rename>FCC_Type_short</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>
      <field>
        <name>FCC_Type_long</name>
        <rename>FCC_Type_long</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>
    </fields>
    <attributes/>
    <GUI>
      <xloc>7088</xloc>
      <yloc>640</yloc>
    </GUI>
  </transform>
  <transform>
    <name>FCC Upsert </name>
    <type>SalesforceUpsert</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <targeturl>${GW_Salesforce_Webservice_URL}</targeturl>
    <username>${GW_Salesforce_UserName}</username>
    <password>${GW_Salesforce_Password}</password>
    <timeout>60000</timeout>
    <useCompression>Y</useCompression>
    <module>UHN_FCC__c</module>
    <upsertfield>UHN_SAP_Id__c</upsertfield>
    <batchSize>200</batchSize>
    <salesforceIDFieldName>UHN_SAP_Id__c</salesforceIDFieldName>
    <fields>
      <field>
        <name>UHN_Contact__c</name>
        <field>AccountHolder_ID_SF</field>
        <useExternalId>N</useExternalId>
      </field>
      <field>
        <name>UHN_Actuals_SAP__c</name>
        <field>Actuals_SAP</field>
        <useExternalId>N</useExternalId>
      </field>
      <field>
        <name>UHN_AwardType__c</name>
        <field>AwardTypeDescription</field>
        <useExternalId>N</useExternalId>
      </field>
      <field>
        <name>UHN_Budget_End_Date__c</name>
        <field>BudgetEndDate_Max</field>
        <useExternalId>N</useExternalId>
      </field>
      <field>
        <name>UHN_Checksum_Flag_changes__c</name>
        <field>Checksum_FlagChanges</field>
        <useExternalId>N</useExternalId>
      </field>
      <field>
        <name>UHN_Checksum_Flag_changes__c</name>
        <field>Checksum_FlagChanges</field>
        <useExternalId>N</useExternalId>
      </field>
      <field>
        <name>UHN_Close_Date__c</name>
        <field>CloseDate</field>
        <useExternalId>N</useExternalId>
      </field>
      <field>
        <name>UHN_Committments_SAP__c</name>
        <field>Committments_SAP</field>
        <useExternalId>N</useExternalId>
      </field>
      <field>
        <name>UHN_Ext_Ref__c</name>
        <field>ExternalReference_GrantMasterData</field>
        <useExternalId>N</useExternalId>
      </field>
      <field>
        <name>UHN_FCC_Category__c</name>
        <field>FCC_Category</field>
        <useExternalId>N</useExternalId>
      </field>
      <field>
        <name>Name</name>
        <field>FCC_ID_SAP</field>
        <useExternalId>N</useExternalId>
      </field>
      <field>
        <name>UHN_SAP_Id__c</name>
        <field>FCC_ID_SAP</field>
        <useExternalId>N</useExternalId>
      </field>
      <field>
        <name>UHN_FCC_KEY_EDW__c</name>
        <field>FCC_KEY_EDW</field>
        <useExternalId>N</useExternalId>
      </field>
      <field>
        <name>UHN_Name__c</name>
        <field>FCC_Name</field>
        <useExternalId>N</useExternalId>
      </field>
      <field>
        <name>OwnerId</name>
        <field>FCC_Owner_SF</field>
        <useExternalId>N</useExternalId>
      </field>
      <field>
        <name>UHN_Status_in_RFIS__c</name>
        <field>FCC_STATUS_RFIS</field>
        <useExternalId>N</useExternalId>
      </field>
      <field>
        <name>UHN_FCC_Status__c</name>
        <field>FCC_Status_KOK5</field>
        <useExternalId>N</useExternalId>
      </field>
      <field>
        <name>UHN_FCC_Type_long__c</name>
        <field>FCC_Type_long</field>
        <useExternalId>N</useExternalId>
      </field>
      <field>
        <name>UHN_FCC_Type_short__c</name>
        <field>FCC_Type_short</field>
        <useExternalId>N</useExternalId>
      </field>
      <field>
        <name>UHN_Final_Budget_SAP__c</name>
        <field>FinalBudget_SAP</field>
        <useExternalId>N</useExternalId>
      </field>
      <field>
        <name>UHN_Financial_Analyst_1__c</name>
        <field>FinancialAnalyst_ContactID</field>
        <useExternalId>N</useExternalId>
      </field>
      <field>
        <name>UHN_Flag_for_Deletion__c</name>
        <field>FlagForDeletion</field>
        <useExternalId>N</useExternalId>
      </field>
      <field>
        <name>UHN_Grant_End_Date__c</name>
        <field>GrantEndDate_GrantMasterData</field>
        <useExternalId>N</useExternalId>
      </field>
      <field>
        <name>UHN_Grant_Return_Type__c</name>
        <field>GrantReturnType_FromKOK5</field>
        <useExternalId>N</useExternalId>
      </field>
      <field>
        <name>UHN_Grant_Start_Date__c</name>
        <field>GrantStartDate_GrantMasterData</field>
        <useExternalId>N</useExternalId>
      </field>
      <field>
        <name>UHN_Grant_ID__c</name>
        <field>Grant_KOK5</field>
        <useExternalId>N</useExternalId>
      </field>
      <field>
        <name>UHN_Institute__c</name>
        <field>Institute_ID_SF</field>
        <useExternalId>N</useExternalId>
      </field>
      <field>
        <name>UHN_Institute_SAP__c</name>
        <field>Institute_ID_SF_BasedOnSAP_ID</field>
        <useExternalId>N</useExternalId>
      </field>
      <field>
        <name>UHN_Internal_Reference__c</name>
        <field>InternalReference_GrantMasterData</field>
        <useExternalId>N</useExternalId>
      </field>
      <field>
        <name>UHN_Level_1_Desc__c</name>
        <field>Level 1 Description</field>
        <useExternalId>N</useExternalId>
      </field>
      <field>
        <name>UHN_Level_1_Id__c</name>
        <field>Level 1 ID</field>
        <useExternalId>N</useExternalId>
      </field>
      <field>
        <name>UHN_Level_2_Desc__c</name>
        <field>Level 2 Description</field>
        <useExternalId>N</useExternalId>
      </field>
      <field>
        <name>UHN_Level_2_Id__c</name>
        <field>Level 2 ID</field>
        <useExternalId>N</useExternalId>
      </field>
      <field>
        <name>UHN_Level_3_Desc__c</name>
        <field>Level 3 Description</field>
        <useExternalId>N</useExternalId>
      </field>
      <field>
        <name>UHN_Level_3_Id__c</name>
        <field>Level 3 ID</field>
        <useExternalId>N</useExternalId>
      </field>
      <field>
        <name>UHN_Level_4_Desc__c</name>
        <field>Level 4 Description</field>
        <useExternalId>N</useExternalId>
      </field>
      <field>
        <name>UHN_Level_4_Id__c</name>
        <field>Level 4 ID</field>
        <useExternalId>N</useExternalId>
      </field>
      <field>
        <name>UHN_Level_5_Desc__c</name>
        <field>Level 5 Description</field>
        <useExternalId>N</useExternalId>
      </field>
      <field>
        <name>UHN_Level_5_Id__c</name>
        <field>Level 5 ID</field>
        <useExternalId>N</useExternalId>
      </field>
      <field>
        <name>UHN_Level_6_Desc__c</name>
        <field>Level 6 Description</field>
        <useExternalId>N</useExternalId>
      </field>
      <field>
        <name>UHN_Level_6_Id__c</name>
        <field>Level 6 ID</field>
        <useExternalId>N</useExternalId>
      </field>
      <field>
        <name>UHN_Grant_Status__c</name>
        <field>Lifecyle_1_GrantMasterData</field>
        <useExternalId>N</useExternalId>
      </field>
      <field>
        <name>UHN_No_credit_cards__c</name>
        <field>NoOfCards</field>
        <useExternalId>N</useExternalId>
      </field>
      <field>
        <name>UHN_Overhead_Display__c</name>
        <field>OrgCostRate_CalculatedForDisplay</field>
        <useExternalId>N</useExternalId>
      </field>
      <field>
        <name>UHN_Analyst_Code__c</name>
        <field>Portfolio_RFS_Analysts</field>
        <useExternalId>N</useExternalId>
      </field>
      <field>
        <name>UHN_Project_Title__c</name>
        <field>ProjectTitle</field>
        <useExternalId>N</useExternalId>
      </field>
      <field>
        <name>RecordTypeId</name>
        <field>RecordType</field>
        <useExternalId>N</useExternalId>
      </field>
      <field>
        <name>UHN_Splitting_Rule__c</name>
        <field>Splitting_Rule</field>
        <useExternalId>N</useExternalId>
      </field>
      <field>
        <name>UHN_Sponsor__c</name>
        <field>Sponsor_ID_SF</field>
        <useExternalId>N</useExternalId>
      </field>
      <field>
        <name>UHN_Tolerance_Profile__c</name>
        <field>ToleranceProfile</field>
        <useExternalId>N</useExternalId>
      </field>
      <field>
        <name>UHN_Tolerance_Profile_ID__c</name>
        <field>ToleranceProfile_ID</field>
        <useExternalId>N</useExternalId>
      </field>
      <field>
        <name>UHN_Troubleshooting_Comments__c</name>
        <field>Troubleshooting_Comments</field>
        <useExternalId>N</useExternalId>
      </field>
      <field>
        <name>UHN_Variance_SAP__c</name>
        <field>Variance_SAP</field>
        <useExternalId>N</useExternalId>
      </field>
    </fields>
    <rollbackAllChangesOnError>N</rollbackAllChangesOnError>
    <attributes/>
    <GUI>
      <xloc>11792</xloc>
      <yloc>640</yloc>
    </GUI>
  </transform>
  <transform>
    <name>FCCs</name>
    <type>SelectValues</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <fields>
      <field>
        <name>STRUCTURE_TYPE</name>
      </field>
      <field>
        <name>STRUCTURE_NAME</name>
      </field>
      <field>
        <name>ENTITY_ID</name>
      </field>
      <field>
        <name>ACCOUNT_OR_CENTRE</name>
        <rename>FCC_ID_SAP</rename>
      </field>
      <field>
        <name>ACCOUNT_OR_CENTRE_DESCRIPTION</name>
        <rename>FCC_Title</rename>
      </field>
      <field>
        <name>ACCOUNT_OR_CENTRE_TYPE</name>
        <rename>FCC_Type</rename>
      </field>
      <field>
        <name>ONE_POINT_ID</name>
      </field>
      <field>
        <name>ONE_POINT_DESCRIPTION</name>
      </field>
      <field>
        <name>ONE_POINT_DISPLAY_NUMBER</name>
      </field>
      <field>
        <name>TWO_POINT_ID</name>
      </field>
      <field>
        <name>TWO_POINT_DESCRIPTION</name>
      </field>
      <field>
        <name>TWO_POINT_DISPLAY_NUMBER</name>
      </field>
      <field>
        <name>THREE_POINT_ID</name>
      </field>
      <field>
        <name>THREE_POINT_DESCRIPTION</name>
      </field>
      <field>
        <name>THREE_POINT_DISPLAY_NUMBER</name>
      </field>
      <field>
        <name>FOUR_POINT_ID</name>
      </field>
      <field>
        <name>FOUR_POINT_DESCRIPTION</name>
      </field>
      <field>
        <name>FOUR_POINT_DISPLAY_NUMBER</name>
      </field>
      <field>
        <name>FIVE_POINT_ID</name>
      </field>
      <field>
        <name>FIVE_POINT_DESCRIPTION</name>
      </field>
      <field>
        <name>FIVE_POINT_DISPLAY_NUMBER</name>
      </field>
      <field>
        <name>SIX_POINT_ID</name>
      </field>
      <field>
        <name>SIX_POINT_DESCRIPTION</name>
      </field>
      <field>
        <name>SIX_POINT_DISPLAY_NUMBER</name>
      </field>
      <field>
        <name>SEVEN_POINT_ID</name>
      </field>
      <field>
        <name>SEVEN_POINT_DESCRIPTION</name>
      </field>
      <field>
        <name>SEVEN_POINT_DISPLAY_NUMBER</name>
      </field>
      <field>
        <name>EIGHT_POINT_ID</name>
      </field>
      <field>
        <name>EIGHT_POINT_DESCRIPTION</name>
      </field>
      <field>
        <name>EIGHT_POINT_DISPLAY_NUMBER</name>
      </field>
      <field>
        <name>NINE_POINT_ID</name>
      </field>
      <field>
        <name>NINE_POINT_DESCRIPTION</name>
      </field>
      <field>
        <name>NINE_POINT_DISPLAY_NUMBER</name>
      </field>
      <field>
        <name>SITE</name>
      </field>
      <field>
        <name>OLD_ACCOUNT</name>
      </field>
      <field>
        <name>OLD_ACCOUNT_DESCRIPTION</name>
      </field>
      <field>
        <name>OLD_ENTITY</name>
      </field>
      <select_unspecified>N</select_unspecified>
    </fields>
    <attributes/>
    <GUI>
      <xloc>1760</xloc>
      <yloc>432</yloc>
    </GUI>
  </transform>
  <transform>
    <name>Filter FCCs only</name>
    <type>FilterRows</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <compare>
      <condition>
        <conditions>
          <condition>
            <conditions>
</conditions>
            <function>=</function>
            <leftvalue>STRUCTURE_NAME</leftvalue>
            <negated>N</negated>
            <operator>AND</operator>
            <value>
              <isnull>N</isnull>
              <length>-1</length>
              <name>constant</name>
              <precision>-1</precision>
              <text>SAP</text>
              <type>String</type>
            </value>
          </condition>
          <condition>
            <conditions>
              <condition>
                <conditions>
</conditions>
                <function>=</function>
                <leftvalue>ENTITY_ID</leftvalue>
                <negated>N</negated>
                <operator>-</operator>
                <rightvalue>TWO_POINT_ID</rightvalue>
              </condition>
              <condition>
                <conditions>
</conditions>
                <function>=</function>
                <leftvalue>ENTITY_ID</leftvalue>
                <negated>N</negated>
                <operator>OR</operator>
                <value>
                  <isnull>N</isnull>
                  <length>-1</length>
                  <name>constant</name>
                  <precision>-1</precision>
                  <text>1158</text>
                  <type>String</type>
                </value>
              </condition>
              <condition>
                <conditions>
</conditions>
                <function>=</function>
                <leftvalue>ENTITY_ID</leftvalue>
                <negated>N</negated>
                <operator>OR</operator>
                <value>
                  <isnull>N</isnull>
                  <length>-1</length>
                  <name>constant</name>
                  <precision>-1</precision>
                  <text>1150</text>
                  <type>String</type>
                </value>
              </condition>
            </conditions>
            <function>=</function>
            <negated>N</negated>
            <operator>AND</operator>
          </condition>
          <condition>
            <conditions>
</conditions>
            <function>=</function>
            <leftvalue>OLD_ENTITY</leftvalue>
            <negated>N</negated>
            <operator>AND</operator>
            <value>
              <isnull>N</isnull>
              <length>-1</length>
              <name>constant</name>
              <precision>-1</precision>
              <text>SAP</text>
              <type>String</type>
            </value>
          </condition>
          <condition>
            <conditions>
</conditions>
            <function>&lt;></function>
            <leftvalue>ACCOUNT_OR_CENTRE</leftvalue>
            <negated>N</negated>
            <operator>AND</operator>
            <value>
              <isnull>N</isnull>
              <length>-1</length>
              <name>constant</name>
              <precision>-1</precision>
              <text>IntOrder/WSB</text>
              <type>String</type>
            </value>
          </condition>
        </conditions>
        <function>=</function>
        <negated>N</negated>
        <operator>-</operator>
      </condition>
    </compare>
    <send_true_to>FCCs</send_true_to>
    <attributes/>
    <GUI>
      <xloc>1760</xloc>
      <yloc>320</yloc>
    </GUI>
  </transform>
  <transform>
    <name>Filter GL Accounts</name>
    <type>FilterRows</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <compare>
      <condition>
        <conditions>
          <condition>
            <conditions>
</conditions>
            <function>=</function>
            <leftvalue>ONE_POINT_DESCRIPTION</leftvalue>
            <negated>N</negated>
            <operator>-</operator>
            <value>
              <isnull>N</isnull>
              <length>-1</length>
              <name>constant</name>
              <precision>-1</precision>
              <text>UHN Operating Results Cost Elements</text>
              <type>String</type>
            </value>
          </condition>
          <condition>
            <conditions>
              <condition>
                <conditions>
                  <condition>
                    <conditions>
</conditions>
                    <function>=</function>
                    <leftvalue>THREE_POINT_DESCRIPTION</leftvalue>
                    <negated>N</negated>
                    <operator>-</operator>
                    <value>
                      <isnull>N</isnull>
                      <length>-1</length>
                      <name>constant</name>
                      <precision>-1</precision>
                      <text>EARNED HOURS</text>
                      <type>String</type>
                    </value>
                  </condition>
                  <condition>
                    <conditions>
</conditions>
                    <function>=</function>
                    <leftvalue>THREE_POINT_DESCRIPTION</leftvalue>
                    <negated>N</negated>
                    <operator>OR</operator>
                    <value>
                      <isnull>N</isnull>
                      <length>-1</length>
                      <name>constant</name>
                      <precision>-1</precision>
                      <text>ACCRUED HOURS</text>
                      <type>String</type>
                    </value>
                  </condition>
                  <condition>
                    <conditions>
</conditions>
                    <function>=</function>
                    <leftvalue>THREE_POINT_DESCRIPTION</leftvalue>
                    <negated>N</negated>
                    <operator>OR</operator>
                    <value>
                      <isnull>N</isnull>
                      <length>-1</length>
                      <name>constant</name>
                      <precision>-1</precision>
                      <text>PURCHASED SERVICE HOURS</text>
                      <type>String</type>
                    </value>
                  </condition>
                </conditions>
                <function>=</function>
                <negated>N</negated>
                <operator>-</operator>
              </condition>
              <condition>
                <conditions>
</conditions>
                <function>LIKE</function>
                <leftvalue>ACCOUNT_OR_CENTRE_DESCRIPTION</leftvalue>
                <negated>Y</negated>
                <operator>AND</operator>
                <value>
                  <isnull>N</isnull>
                  <length>-1</length>
                  <name>constant</name>
                  <precision>-1</precision>
                  <text>%PREM%</text>
                  <type>String</type>
                </value>
              </condition>
            </conditions>
            <function>=</function>
            <negated>N</negated>
            <operator>OR</operator>
          </condition>
          <condition>
            <conditions>
</conditions>
            <function>=</function>
            <leftvalue>ENTITY_ID</leftvalue>
            <negated>N</negated>
            <operator>OR</operator>
            <value>
              <isnull>N</isnull>
              <length>-1</length>
              <name>constant</name>
              <precision>-1</precision>
              <text>SAP</text>
              <type>String</type>
            </value>
          </condition>
        </conditions>
        <function>=</function>
        <negated>N</negated>
        <operator>-</operator>
      </condition>
    </compare>
    <send_true_to>RFIS Categories</send_true_to>
    <attributes/>
    <GUI>
      <xloc>1968</xloc>
      <yloc>208</yloc>
    </GUI>
  </transform>
  <transform>
    <name>Filter rows</name>
    <type>FilterRows</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <compare>
      <condition>
        <conditions>
          <condition>
            <conditions>
</conditions>
            <function>IS NOT NULL</function>
            <leftvalue>FCC_ID_SAP</leftvalue>
            <negated>N</negated>
            <operator>AND</operator>
          </condition>
          <condition>
            <conditions>
</conditions>
            <function>IS NOT NULL</function>
            <leftvalue>ENTITY_ID</leftvalue>
            <negated>N</negated>
            <operator>AND</operator>
          </condition>
        </conditions>
        <function>=</function>
        <negated>N</negated>
        <operator>-</operator>
      </condition>
    </compare>
    <send_true_to>Select values 9</send_true_to>
    <attributes/>
    <GUI>
      <xloc>11168</xloc>
      <yloc>816</yloc>
    </GUI>
  </transform>
  <transform>
    <name>Filter rows 2</name>
    <type>FilterRows</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <compare>
      <condition>
        <conditions>
</conditions>
        <function>IS NULL</function>
        <leftvalue>FCC_AlreadyInTable</leftvalue>
        <negated>N</negated>
        <operator>-</operator>
      </condition>
    </compare>
    <send_true_to>FCC BA</send_true_to>
    <attributes/>
    <GUI>
      <xloc>11712</xloc>
      <yloc>816</yloc>
    </GUI>
  </transform>
  <transform>
    <name>Find GMB details</name>
    <type>StreamLookup</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <from>Budget Max Values</from>
    <input_sorted>N</input_sorted>
    <preserve_memory>Y</preserve_memory>
    <sorted_list>N</sorted_list>
    <integer_pair>N</integer_pair>
    <lookup>
      <key>
        <name>Grant_ID</name>
        <field>Grant</field>
      </key>
      <value>
        <name>BudgetEndDate_Max</name>
        <rename>BudgetEndDate_Max</rename>
        <default/>
        <type>Date</type>
      </value>
      <value>
        <name>FCC_Description_GMB</name>
        <rename>FCC_Description_GMB</rename>
        <default/>
        <type>String</type>
      </value>
      <value>
        <name>AwardTypeDescription</name>
        <rename>AwardTypeDescription</rename>
        <default/>
        <type>String</type>
      </value>
      <value>
        <name>Description_GMB</name>
        <rename>Description_GMB</rename>
        <default/>
        <type>String</type>
      </value>
    </lookup>
    <attributes/>
    <GUI>
      <xloc>5424</xloc>
      <yloc>640</yloc>
    </GUI>
  </transform>
  <transform>
    <name>Find Institute Code</name>
    <type>DBLookup</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <cache>Y</cache>
    <cache_load_all>Y</cache_load_all>
    <cache_size>0</cache_size>
    <connection>MSSQL_RFSDW</connection>
    <lookup>
      <eat_row_on_failure>N</eat_row_on_failure>
      <fail_on_multiple>N</fail_on_multiple>
      <key>
        <condition>=</condition>
        <field>Institute_ID_SAP</field>
        <name>Institute_ID_SF_SAP</name>
      </key>
      <schema>salesforce_dim</schema>
      <table>Institute</table>
      <value>
        <name>Institute_Code</name>
        <rename>Institute_Code</rename>
        <type>String</type>
      </value>
    </lookup>
    <attributes/>
    <GUI>
      <xloc>4944</xloc>
      <yloc>480</yloc>
    </GUI>
  </transform>
  <transform>
    <name>Find Sponsored Class</name>
    <type>DBLookup</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <cache>Y</cache>
    <cache_load_all>Y</cache_load_all>
    <cache_size>0</cache_size>
    <connection>MSSQL_RFSDW</connection>
    <lookup>
      <eat_row_on_failure>N</eat_row_on_failure>
      <fail_on_multiple>N</fail_on_multiple>
      <key>
        <condition>=</condition>
        <field>GL_Account</field>
        <name>GL_Account</name>
      </key>
      <schema>bihelper</schema>
      <table>SponsoredClass_FromExcelFile</table>
      <value>
        <name>SponsoredClass</name>
        <rename>SponsoredClass</rename>
        <type>String</type>
      </value>
      <value>
        <name>SponseredClassName</name>
        <rename>SponsoredClass_Detail</rename>
        <type>String</type>
      </value>
    </lookup>
    <attributes/>
    <GUI>
      <xloc>3344</xloc>
      <yloc>208</yloc>
    </GUI>
  </transform>
  <transform>
    <name>Flip Institute SAP ID</name>
    <type>DBLookup</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <cache>Y</cache>
    <cache_load_all>Y</cache_load_all>
    <cache_size>0</cache_size>
    <connection>MSSQL_RFSDW</connection>
    <lookup>
      <eat_row_on_failure>N</eat_row_on_failure>
      <fail_on_multiple>N</fail_on_multiple>
      <key>
        <condition>=</condition>
        <field>Institute_ID_SAP</field>
        <name>Institute_ID_SF_SAP</name>
      </key>
      <schema>salesforce_dim</schema>
      <table>Institute</table>
      <value>
        <name>Institute_ID_SF</name>
        <rename>Institute_ID_SF_BasedOnSAP_ID</rename>
        <type>String</type>
      </value>
    </lookup>
    <attributes/>
    <GUI>
      <xloc>11520</xloc>
      <yloc>512</yloc>
    </GUI>
  </transform>
  <transform>
    <name>Force reallocation</name>
    <type>ScriptValueMod</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <optimizationLevel>9</optimizationLevel>
    <jsScripts>
      <jsScript>
        <jsScript_type>0</jsScript_type>
        <jsScript_name>Script 1</jsScript_name>
        <jsScript_script>//Script here

ACCOUNT_OR_CENTRE = trim(ACCOUNT_OR_CENTRE)

//Allocating FCC 737103001 Global Revenue forcefully to RSS (mainly for the in the P+L by institute)

if (ACCOUNT_OR_CENTRE == "737103001") {
FOUR_POINT_ID = "800R01"
FOUR_POINT_DESCRIPTION = "RSS AND SERV RECOVERIES"
FIVE_POINT_ID = "300R01"
FIVE_POINT_DESCRIPTION = "RSS"
SIX_POINT_ID = "GlobRev_NotInSAP"
SIX_POINT_DESCRIPTION = "Global Revenue"
}


if (FIVE_POINT_DESCRIPTION == "SERVICE RECOVERIES") {
FOUR_POINT_ID = "800R01"
FOUR_POINT_DESCRIPTION = "RSS AND SERV RECOVERIES"
FIVE_POINT_ID = "300R01"
FIVE_POINT_DESCRIPTION = "RSS"
SIX_POINT_ID = "ServRecovNotInSAP"
SIX_POINT_DESCRIPTION = "Service Recoveries"
}


</jsScript_script>
      </jsScript>
    </jsScripts>
    <fields>
      <field>
        <name>FOUR_POINT_ID</name>
        <rename>FOUR_POINT_ID</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>Y</replace>
      </field>
      <field>
        <name>FOUR_POINT_DESCRIPTION</name>
        <rename>FOUR_POINT_DESCRIPTION</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>Y</replace>
      </field>
      <field>
        <name>FIVE_POINT_ID</name>
        <rename>FIVE_POINT_ID</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>Y</replace>
      </field>
      <field>
        <name>FIVE_POINT_DESCRIPTION</name>
        <rename>FIVE_POINT_DESCRIPTION</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>Y</replace>
      </field>
      <field>
        <name>SIX_POINT_ID</name>
        <rename>SIX_POINT_ID</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>Y</replace>
      </field>
      <field>
        <name>SIX_POINT_DESCRIPTION</name>
        <rename>SIX_POINT_DESCRIPTION</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>Y</replace>
      </field>
      <field>
        <name>ACCOUNT_OR_CENTRE</name>
        <rename>ACCOUNT_OR_CENTRE</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>Y</replace>
      </field>
    </fields>
    <attributes/>
    <GUI>
      <xloc>656</xloc>
      <yloc>208</yloc>
    </GUI>
  </transform>
  <transform>
    <name>GL Account Upsert</name>
    <type>SalesforceUpsert</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>20</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <targeturl>${GW_Salesforce_Webservice_URL}</targeturl>
    <username>${GW_Salesforce_UserName}</username>
    <password>${GW_Salesforce_Password}</password>
    <timeout>60000</timeout>
    <useCompression>N</useCompression>
    <module>UHN_GL_Account__c</module>
    <upsertfield>UHN_SAP_ID__c</upsertfield>
    <batchSize>200</batchSize>
    <salesforceIDFieldName>UHN_SAP_ID__c</salesforceIDFieldName>
    <fields>
      <field>
        <name>Name</name>
        <field>Name_SF</field>
        <useExternalId>N</useExternalId>
      </field>
      <field>
        <name>UHN_SAP_ID__c</name>
        <field>UHN_SAP_ID</field>
        <useExternalId>N</useExternalId>
      </field>
      <field>
        <name>UHN_Level_1_Desc__c</name>
        <field>UHN_Level_1_Desc</field>
        <useExternalId>N</useExternalId>
      </field>
      <field>
        <name>UHN_Level_1_Id__c</name>
        <field>UHN_Level_1_Id</field>
        <useExternalId>N</useExternalId>
      </field>
      <field>
        <name>UHN_Level_2_Desc__c</name>
        <field>UHN_Level_2_Desc</field>
        <useExternalId>N</useExternalId>
      </field>
      <field>
        <name>UHN_Level_2_Id__c</name>
        <field>UHN_Level_2_Id</field>
        <useExternalId>N</useExternalId>
      </field>
      <field>
        <name>UHN_Level_3_Desc__c</name>
        <field>UHN_Level_3_Desc</field>
        <useExternalId>N</useExternalId>
      </field>
      <field>
        <name>UHN_Level_3_Id__c</name>
        <field>UHN_Level_3_Desc</field>
        <useExternalId>N</useExternalId>
      </field>
      <field>
        <name>UHN_Level_4_Desc__c</name>
        <field>UHN_Level_4_Desc</field>
        <useExternalId>N</useExternalId>
      </field>
      <field>
        <name>UHN_Level_4_Id__c</name>
        <field>UHN_Level_4_Id</field>
        <useExternalId>N</useExternalId>
      </field>
      <field>
        <name>UHN_Level_5_Desc__c</name>
        <field>UHN_Level_5_Desc</field>
        <useExternalId>N</useExternalId>
      </field>
      <field>
        <name>UHN_Level_5_Id__c</name>
        <field>UHN_Level_5_Id</field>
        <useExternalId>N</useExternalId>
      </field>
      <field>
        <name>UHN_Level_6_Desc__c</name>
        <field>UHN_Level_6_Desc</field>
        <useExternalId>N</useExternalId>
      </field>
      <field>
        <name>UHN_Level_6_Id__c</name>
        <field>UHN_Level_6_Id</field>
        <useExternalId>N</useExternalId>
      </field>
      <field>
        <name>UHN_PI_Expense_or_Revenue_Class__c</name>
        <field>RFIS_Class</field>
        <useExternalId>N</useExternalId>
      </field>
      <field>
        <name>UHN_PI_Expense_or_Revenue_Category__c</name>
        <field>RFIS_Category</field>
        <useExternalId>N</useExternalId>
      </field>
      <field>
        <name>UHN_PI_Expense_or_Revenue_Type__c</name>
        <field>RFIS_Type</field>
        <useExternalId>N</useExternalId>
      </field>
      <field>
        <name>UHN_Sponsored_Class__c</name>
        <field>SponsoredClass</field>
        <useExternalId>N</useExternalId>
      </field>
      <field>
        <name>UHN_Sponsored_Class_Detail__c</name>
        <field>SponsoredClass_Detail</field>
        <useExternalId>N</useExternalId>
      </field>
    </fields>
    <rollbackAllChangesOnError>N</rollbackAllChangesOnError>
    <attributes/>
    <GUI>
      <xloc>3776</xloc>
      <yloc>80</yloc>
    </GUI>
  </transform>
  <transform>
    <name>Grant Master Budget</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>MSSQL_RFSDW_Azure__ReplaceLater</connection>
    <execute_each_row>N</execute_each_row>
    <limit>0</limit>
    <sql>SELECT *
FROM sap.GrantMasterBudget
--Where "Grant" = '1015287'
</sql>
    <variables_active>N</variables_active>
    <attributes/>
    <GUI>
      <xloc>304</xloc>
      <yloc>832</yloc>
    </GUI>
  </transform>
  <transform>
    <name>Grant Master Data</name>
    <type>DBLookup</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <cache>Y</cache>
    <cache_load_all>Y</cache_load_all>
    <cache_size>0</cache_size>
    <connection>MSSQL_RFSDW</connection>
    <lookup>
      <eat_row_on_failure>N</eat_row_on_failure>
      <fail_on_multiple>N</fail_on_multiple>
      <key>
        <condition>=</condition>
        <field>FundOrigin</field>
        <name>FCC_ID_SAP</name>
      </key>
      <schema>sap</schema>
      <table>GrantMasterData</table>
      <value>
        <name>Grant</name>
        <rename>Grant_ID</rename>
        <type>String</type>
      </value>
      <value>
        <name>TolPrf</name>
        <rename>ToleranceProfile</rename>
        <type>String</type>
      </value>
      <value>
        <name>FromDate</name>
        <rename>GrantStartDate_GrantMasterData</rename>
        <type>Date</type>
      </value>
      <value>
        <name>ValidToDate_1</name>
        <rename>GrantEndDate_GrantMasterData</rename>
        <type>Date</type>
      </value>
      <value>
        <name>Lifecycle_1</name>
        <rename>Lifecyle_1_GrantMasterData</rename>
        <type>String</type>
      </value>
      <value>
        <name>InternalReference</name>
        <rename>InternalReference_GrantMasterData</rename>
        <type>String</type>
      </value>
      <value>
        <name>ExternalReference</name>
        <rename>ExternalReference_GrantMasterData</rename>
        <type>String</type>
      </value>
      <value>
        <name>SplitRule</name>
        <rename>Splitting_Rule</rename>
        <type>String</type>
      </value>
      <value>
        <name>Sponsor</name>
        <rename>Sponsor</rename>
        <type>String</type>
      </value>
    </lookup>
    <attributes/>
    <GUI>
      <xloc>5104</xloc>
      <yloc>640</yloc>
    </GUI>
  </transform>
  <transform>
    <name>HR DIM FCC</name>
    <type>FilterRows</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <compare>
      <condition>
        <conditions>
</conditions>
        <function>=</function>
        <leftvalue>Counter</leftvalue>
        <negated>N</negated>
        <operator>-</operator>
        <value>
          <isnull>N</isnull>
          <length>-1</length>
          <mask>#</mask>
          <name>constant</name>
          <precision>0</precision>
          <text>1</text>
          <type>Integer</type>
        </value>
      </condition>
    </compare>
    <send_true_to>Dummy (do nothing)</send_true_to>
    <attributes/>
    <GUI>
      <xloc>6624</xloc>
      <yloc>1296</yloc>
    </GUI>
  </transform>
  <transform>
    <name>If Null</name>
    <type>IfNull</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <fields>
      <field>
        <name>FCC_Status_KOK5</name>
        <set_empty_string>N</set_empty_string>
        <value>Open</value>
      </field>
    </fields>
    <selectFields>Y</selectFields>
    <selectValuesType>N</selectValuesType>
    <setEmptyStringAll>N</setEmptyStringAll>
    <valuetypes>
</valuetypes>
    <attributes/>
    <GUI>
      <xloc>3168</xloc>
      <yloc>496</yloc>
    </GUI>
  </transform>
  <transform>
    <name>If field value is null</name>
    <type>IfNull</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <fields>
</fields>
    <replaceAllByValue>***Undefined - Inform Gert.Wieland@uhn.ca***</replaceAllByValue>
    <selectFields>N</selectFields>
    <selectValuesType>N</selectValuesType>
    <setEmptyStringAll>N</setEmptyStringAll>
    <valuetypes>
</valuetypes>
    <attributes/>
    <GUI>
      <xloc>3104</xloc>
      <yloc>208</yloc>
    </GUI>
  </transform>
  <transform>
    <name>Important Assignments</name>
    <type>ScriptValueMod</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <optimizationLevel>9</optimizationLevel>
    <jsScripts>
      <jsScript>
        <jsScript_type>0</jsScript_type>
        <jsScript_name>Script 1</jsScript_name>
        <jsScript_script>//Script here

var FlagForDeletion = null;

var AccountHolder_ID_SF = null;
var Institute_AccountHolder_ID_SF = null;
var Institute_ID_SF = null;//This is the "combined" institute between PI Master File and KOK5. Problem: Can't define it during ETL anymore because Bryan sets Institute only in the Business Hub. Set to Placeholder if no institute is found in the Business Hub.
var Troubleshooting_Comments = ''; //Set to blank (not null) so it can be concatenated.
var ProjectTitle = null;

var FCC_Name = null;


if(FCC_Description_FromKOK5 === null) {
FCC_Description_FromKOK5 = ''
}

if (upper(FCC_Description_FromKOK5).indexOf('CLOS') >= 0) {
	FlagForDeletion = 'Marked as CLOSED'
}



if (AccountHolder_ID_In_SF === null) {
	AccountHolder_ID_SF = '0035W000003TOpiQAG'; //Set to Generic PI

} else {
	//Keep the current Account Holder
	AccountHolder_ID_SF = AccountHolder_ID_In_SF;
}






//If "combined" institute is null, then set to Placeholder, otherwise leave unchanged;
if (Institute_ID_In_SF === null) {
	Institute_ID_SF = '0015W000003RGT9QAO';
} else {
	Institute_ID_SF = Institute_ID_In_SF;
}

//If the account holder is a PI, then link all their FCCs to that institute.
if (AccountHolder_IsPI == 'Yes') {
	Institute_ID_SF = AccountHolder_CurrentInstitute_SF_ID
}




//If there's a Project Title in SF, keep it. If there's none, try to pull it from Grant Master Budget "Description". If none available, populate "***Missing***".
if (ProjectTitle_In_SF != null) {
    ProjectTitle = ProjectTitle_In_SF
} else {
    if (Description_GMB != null) {
        ProjectTitle = Description_GMB
    } else {
        ProjectTitle = '***Missing***'
    }
}

//If FCC Description exists in SF, keep it. If not, then use KOK5. If blank in KOK5, then put '***Missing***'
//if (FCC_Description_in_SF != null) {
  //  FCC_Description_FromKOK5 = FCC_Description_in_SF
//} else {

 //   if (FCC_Description_FromKOK5 == null) {
  //      FCC_Description_FromKOK5 = '***Missing***'
 //   }
//}


if (FCC_Description_in_SF != null) {
    FCC_Name = FCC_Description_in_SF
} else {

    if (FCC_Description_FromKOK5 == null) {
        FCC_Name = '***Missing***'
    }
}

if (FCC_Name == null) {
	FCC_Name = '***Missing***'
}


//If Sponsor exists in SF, keep them.
if (Sponsor_in_SF != null) {
Sponsor_ID_SF = Sponsor_in_SF
}



</jsScript_script>
      </jsScript>
    </jsScripts>
    <fields>
      <field>
        <name>FlagForDeletion</name>
        <rename>FlagForDeletion</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>
      <field>
        <name>AccountHolder_ID_SF</name>
        <rename>AccountHolder_ID_SF</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>
      <field>
        <name>Institute_AccountHolder_ID_SF</name>
        <rename>Institute_AccountHolder_ID_SF</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>
      <field>
        <name>Institute_ID_SF</name>
        <rename>Institute_ID_SF</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>
      <field>
        <name>Troubleshooting_Comments</name>
        <rename>Troubleshooting_Comments</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>
      <field>
        <name>ProjectTitle</name>
        <rename>ProjectTitle</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>
      <field>
        <name>Sponsor_ID_SF</name>
        <rename>Sponsor_ID_SF</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>Y</replace>
      </field>
      <field>
        <name>FCC_Name</name>
        <rename>FCC_Name</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>
    </fields>
    <attributes/>
    <GUI>
      <xloc>7952</xloc>
      <yloc>512</yloc>
    </GUI>
  </transform>
  <transform>
    <name>Institute, RSS</name>
    <type>DBLookup</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <cache>Y</cache>
    <cache_load_all>Y</cache_load_all>
    <cache_size>0</cache_size>
    <connection>MSSQL_RFSDW</connection>
    <lookup>
      <eat_row_on_failure>N</eat_row_on_failure>
      <fail_on_multiple>N</fail_on_multiple>
      <key>
        <condition>=</condition>
        <field>SAP Id</field>
        <name>SAP_ID_Institute_RSS</name>
      </key>
      <schema>salesforce_dim</schema>
      <table>Entity</table>
      <value>
        <name>Entity ID</name>
        <rename>RSS_Insititute_SF_by_SAP_ID</rename>
        <type>String</type>
      </value>
    </lookup>
    <attributes/>
    <GUI>
      <xloc>9056</xloc>
      <yloc>640</yloc>
    </GUI>
  </transform>
  <transform>
    <name>Is FTE?</name>
    <type>ScriptValueMod</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <optimizationLevel>9</optimizationLevel>
    <jsScripts>
      <jsScript>
        <jsScript_type>0</jsScript_type>
        <jsScript_name>Script 1</jsScript_name>
        <jsScript_script>//Script here
var IsFTEaccount = null

if ( 

	(indexOf(upper(ACCOUNT_OR_CENTRE_DESCRIPTION),'PREM')) &lt; 0 &amp;&amp;

		(

			upper(THREE_POINT_DESCRIPTION) == 'EARNED HOURS'
		|| 	upper(THREE_POINT_DESCRIPTION) == 'ACCRUED HOURS'
		||	upper(THREE_POINT_DESCRIPTION) == 'PURCHASED SERVICE HOURS'
		
		)

) {

IsFTEaccount = true


} else {

IsFTEaccount = false


}

</jsScript_script>
      </jsScript>
      <jsScript>
        <jsScript_type>-1</jsScript_type>
        <jsScript_name>indexOf_Sample</jsScript_name>
        <jsScript_script>// Perform the indexOf function
// 
// Usage:
// indexOf(string, substring);
// indexOf(string, substring, fromIndex);
//
// 2007-09-25
//
var str1= "Hello Pentaho!";
var str2= indexOf(str1, "Pentaho");
var str3= indexOf(str1, "o", 7);
Alert("Input : " + str1);
Alert("Index of 'Pentaho' : " + str2);
Alert("index of 'o', search from position 7 : " + str3);
</jsScript_script>
      </jsScript>
    </jsScripts>
    <fields>
      <field>
        <name>IsFTEaccount</name>
        <rename>IsFTEaccount</rename>
        <type>Boolean</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>
    </fields>
    <attributes/>
    <GUI>
      <xloc>2416</xloc>
      <yloc>208</yloc>
    </GUI>
  </transform>
  <transform>
    <name>Join rows (cartesian product)</name>
    <type>JoinRows</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <directory>%%java.io.tmpdir%%</directory>
    <prefix>out</prefix>
    <cache_size>500</cache_size>
    <main/>
    <compare>
      <condition>
        <conditions>
</conditions>
        <function>=</function>
        <negated>N</negated>
        <operator>-</operator>
      </condition>
    </compare>
    <attributes/>
    <GUI>
      <xloc>7312</xloc>
      <yloc>640</yloc>
    </GUI>
  </transform>
  <transform>
    <name>KOK5</name>
    <type>DBLookup</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <cache>Y</cache>
    <cache_load_all>Y</cache_load_all>
    <cache_size>0</cache_size>
    <connection>MSSQL_RFSDW</connection>
    <lookup>
      <eat_row_on_failure>N</eat_row_on_failure>
      <fail_on_multiple>N</fail_on_multiple>
      <key>
        <condition>=</condition>
        <field>Order</field>
        <name>FCC_ID_SAP</name>
      </key>
      <schema>sap</schema>
      <table>KOK5</table>
      <value>
        <name>Sponsor_ID_SAP</name>
        <rename>Sponsor_ID_SAP_KOK5</rename>
        <type>String</type>
      </value>
      <value>
        <name>Grant</name>
        <rename>Grant_KOK5</rename>
        <type>String</type>
      </value>
      <value>
        <name>Description2</name>
        <rename>FinancialPortfolio_KOK5</rename>
        <type>String</type>
      </value>
      <value>
        <name>SponsoredProgram</name>
        <rename>SponsoredProgram</rename>
        <type>String</type>
      </value>
      <value>
        <name>Description1</name>
        <rename>GrantReturnType_FromKOK5</rename>
        <type>String</type>
      </value>
      <value>
        <name>Description</name>
        <rename>FCC_Description_FromKOK5</rename>
        <type>String</type>
      </value>
      <value>
        <name>Cls</name>
        <rename>FCC_Status_KOK5</rename>
        <type>String</type>
      </value>
      <value>
        <name>Order</name>
        <rename>FCC_in_KOK5</rename>
        <type>String</type>
      </value>
      <value>
        <name>CloseDate</name>
        <rename>CloseDate</rename>
        <type>Date</type>
      </value>
    </lookup>
    <attributes/>
    <GUI>
      <xloc>2176</xloc>
      <yloc>656</yloc>
    </GUI>
  </transform>
  <transform>
    <name>Last Update KOK5</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>MSSQL_RFSDW</connection>
    <execute_each_row>N</execute_each_row>
    <limit>0</limit>
    <sql>SELECT
 
convert(nvarchar, format ( Max( LastUpdate ),'yyyy-MM-dd')) as LastUpdateKOK5,

format(GETDATE(),'yyyy-MM-dd')  as CurrentDate

FROM sap.KOK5
</sql>
    <variables_active>N</variables_active>
    <attributes/>
    <GUI>
      <xloc>7312</xloc>
      <yloc>352</yloc>
    </GUI>
  </transform>
  <transform>
    <name>Lookup FA</name>
    <type>StreamLookup</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <from>Upper Code</from>
    <input_sorted>N</input_sorted>
    <preserve_memory>Y</preserve_memory>
    <sorted_list>N</sorted_list>
    <integer_pair>N</integer_pair>
    <lookup>
      <key>
        <name>FinancialPortfolio</name>
        <field>Portfolio Code</field>
      </key>
      <value>
        <name>Financial Analyst</name>
        <rename>FinancialAnalyst_ContactID</rename>
        <default/>
        <type>String</type>
      </value>
    </lookup>
    <attributes/>
    <GUI>
      <xloc>4304</xloc>
      <yloc>640</yloc>
    </GUI>
  </transform>
  <transform>
    <name>Lookup SA</name>
    <type>StreamLookup</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <from>Upper Code</from>
    <input_sorted>N</input_sorted>
    <preserve_memory>Y</preserve_memory>
    <sorted_list>N</sorted_list>
    <integer_pair>N</integer_pair>
    <lookup>
      <key>
        <name>FinancialPortfolio</name>
        <field>Portfolio Code</field>
      </key>
      <value>
        <name>Senior Analyst</name>
        <rename>SeniorAnalyst_ContactID</rename>
        <default/>
        <type>String</type>
      </value>
    </lookup>
    <attributes/>
    <GUI>
      <xloc>4528</xloc>
      <yloc>640</yloc>
    </GUI>
  </transform>
  <transform>
    <name>Lookup existing</name>
    <type>DBLookup</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <cache>Y</cache>
    <cache_load_all>Y</cache_load_all>
    <cache_size>0</cache_size>
    <connection>MSSQL_RFSDW</connection>
    <lookup>
      <eat_row_on_failure>N</eat_row_on_failure>
      <fail_on_multiple>N</fail_on_multiple>
      <key>
        <condition>=</condition>
        <field>FCC_ID_SAP</field>
        <name>FCC_ID_SAP</name>
      </key>
      <key>
        <condition>=</condition>
        <field>BusinessArea</field>
        <name>BusinessArea</name>
      </key>
      <schema>bihelper</schema>
      <table>FCC_BusinessArea</table>
      <value>
        <name>FCC_ID_SAP</name>
        <rename>FCC_AlreadyInTable</rename>
        <type>String</type>
      </value>
    </lookup>
    <attributes/>
    <GUI>
      <xloc>11552</xloc>
      <yloc>816</yloc>
    </GUI>
  </transform>
  <transform>
    <name>Modified JavaScript value</name>
    <type>ScriptValueMod</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <optimizationLevel>9</optimizationLevel>
    <jsScripts>
      <jsScript>
        <jsScript_type>0</jsScript_type>
        <jsScript_name>Script 1</jsScript_name>
        <jsScript_script>//Script here

//var FCC_Name = null; //Target in SF: UHN_Name__c


//var FCC_ID_SAP_Length = FCC_ID_SAP.length


//Remove FCC Number number FCC Name

var FCC_ID_SAP_Length = FCC_ID_SAP.length
var FCC_Name_Length = FCC_Name.length

if (FCC_Name.indexOf(FCC_ID_SAP) == 0) {
	FCC_Name = trim(substr(FCC_Name,FCC_ID_SAP_Length))
}

</jsScript_script>
      </jsScript>
      <jsScript>
        <jsScript_type>-1</jsScript_type>
        <jsScript_name>substr_Sample</jsScript_name>
        <jsScript_script>// Perform the substring function
// 
// Usage:
// substr(var, from);
// substr(var, from, to);
//
// 2007-01-25
//
var str1= "Hello Pentaho!";
var str2= substr(str1, 6);
var str3= substr(str1, 6, 7);
Alert("Input : " + str1);
Alert("From position 6: " + str2);
Alert("From position 6 for 7 long : " + str3);
</jsScript_script>
      </jsScript>
    </jsScripts>
    <fields>
      <field>
        <name>FCC_Name</name>
        <rename>FCC_Name</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>Y</replace>
      </field>
    </fields>
    <attributes/>
    <GUI>
      <xloc>8320</xloc>
      <yloc>512</yloc>
    </GUI>
  </transform>
  <transform>
    <name>Modified JavaScript value 2</name>
    <type>ScriptValueMod</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <optimizationLevel>9</optimizationLevel>
    <jsScripts>
      <jsScript>
        <jsScript_type>0</jsScript_type>
        <jsScript_name>Script 1</jsScript_name>
        <jsScript_script>//Script here

switch (true) {
	case Institute_Code_SAP == null &amp;&amp; Institute_Code != null:
		Institute_Code_SAP = Institute_Code;
		break;
}</jsScript_script>
      </jsScript>
    </jsScripts>
    <fields>
      <field>
        <name>Institute_Code_SAP</name>
        <rename>Institute_Code_SAP</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>Y</replace>
      </field>
    </fields>
    <attributes/>
    <GUI>
      <xloc>5152</xloc>
      <yloc>480</yloc>
    </GUI>
  </transform>
  <transform>
    <name>Modified JavaScript value 3</name>
    <type>ScriptValueMod</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <optimizationLevel>9</optimizationLevel>
    <jsScripts>
      <jsScript>
        <jsScript_type>0</jsScript_type>
        <jsScript_name>Script 1</jsScript_name>
        <jsScript_script>//Script here


if( 
		(
		FCC_ID_SAP.indexOf('410') == 0 
	|| FCC_ID_SAP.indexOf('777') == 0
		)
	&amp;&amp;
		FCC_Status_KOK5 === null
		)	{

	FCC_Status_KOK5 = 'Open'
	}

</jsScript_script>
      </jsScript>
    </jsScripts>
    <fields>
      <field>
        <name>FCC_Status_KOK5</name>
        <rename>FCC_Status_KOK5</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>Y</replace>
      </field>
    </fields>
    <attributes/>
    <GUI>
      <xloc>3264</xloc>
      <yloc>688</yloc>
    </GUI>
  </transform>
  <transform>
    <name>Null if</name>
    <type>NullIf</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <fields>
      <field>
        <name>ACCOUNT_OR_CENTRE</name>
      </field>
      <field>
        <name>ACCOUNT_OR_CENTRE_DESCRIPTION</name>
      </field>
      <field>
        <name>ACCOUNT_OR_CENTRE_TYPE</name>
      </field>
      <field>
        <name>ACCOUNT_OR_CENTRE_cleansed</name>
      </field>
      <field>
        <name>EDW_CREATE_DATE</name>
      </field>
      <field>
        <name>EDW_UPDATE_DATE</name>
      </field>
      <field>
        <name>EIGHT_POINT_DESCRIPTION</name>
      </field>
      <field>
        <name>EIGHT_POINT_DISPLAY_NUMBER</name>
      </field>
      <field>
        <name>EIGHT_POINT_ID</name>
      </field>
      <field>
        <name>ENTITY_ID</name>
      </field>
      <field>
        <name>FIVE_POINT_DESCRIPTION</name>
      </field>
      <field>
        <name>FIVE_POINT_DISPLAY_NUMBER</name>
      </field>
      <field>
        <name>FIVE_POINT_ID</name>
      </field>
      <field>
        <name>FOUR_POINT_DESCRIPTION</name>
      </field>
      <field>
        <name>FOUR_POINT_DISPLAY_NUMBER</name>
      </field>
      <field>
        <name>FOUR_POINT_ID</name>
      </field>
      <field>
        <name>NINE_POINT_DESCRIPTION</name>
      </field>
      <field>
        <name>NINE_POINT_DISPLAY_NUMBER</name>
      </field>
      <field>
        <name>NINE_POINT_ID</name>
      </field>
      <field>
        <name>OLD_ACCOUNT</name>
      </field>
      <field>
        <name>OLD_ACCOUNT_DESCRIPTION</name>
      </field>
      <field>
        <name>OLD_ENTITY</name>
      </field>
      <field>
        <name>ONE_POINT_DESCRIPTION</name>
      </field>
      <field>
        <name>ONE_POINT_DISPLAY_NUMBER</name>
      </field>
      <field>
        <name>ONE_POINT_ID</name>
      </field>
      <field>
        <name>SEVEN_POINT_DESCRIPTION</name>
      </field>
      <field>
        <name>SEVEN_POINT_DISPLAY_NUMBER</name>
      </field>
      <field>
        <name>SEVEN_POINT_ID</name>
      </field>
      <field>
        <name>SITE</name>
      </field>
      <field>
        <name>SIX_POINT_DESCRIPTION</name>
      </field>
      <field>
        <name>SIX_POINT_DISPLAY_NUMBER</name>
      </field>
      <field>
        <name>SIX_POINT_ID</name>
      </field>
      <field>
        <name>STRUCTURE_KEY</name>
      </field>
      <field>
        <name>STRUCTURE_NAME</name>
      </field>
      <field>
        <name>STRUCTURE_TYPE</name>
      </field>
      <field>
        <name>THREE_POINT_DESCRIPTION</name>
      </field>
      <field>
        <name>THREE_POINT_DISPLAY_NUMBER</name>
      </field>
      <field>
        <name>THREE_POINT_ID</name>
      </field>
      <field>
        <name>TWO_POINT_DESCRIPTION</name>
      </field>
      <field>
        <name>TWO_POINT_DISPLAY_NUMBER</name>
      </field>
      <field>
        <name>TWO_POINT_ID</name>
      </field>
    </fields>
    <attributes/>
    <GUI>
      <xloc>832</xloc>
      <yloc>208</yloc>
    </GUI>
  </transform>
  <transform>
    <name>Only new/modified</name>
    <type>FilterRows</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <compare>
      <condition>
        <conditions>
          <condition>
            <conditions>
</conditions>
            <function>&lt;></function>
            <leftvalue>Checksum_FlagChanges</leftvalue>
            <negated>N</negated>
            <operator>-</operator>
            <rightvalue>Checksum_AlreadyInSF</rightvalue>
          </condition>
        </conditions>
        <function>=</function>
        <negated>N</negated>
        <operator>-</operator>
      </condition>
    </compare>
    <send_true_to>Dummy (do nothing) 3</send_true_to>
    <attributes/>
    <GUI>
      <xloc>10880</xloc>
      <yloc>640</yloc>
    </GUI>
  </transform>
  <transform>
    <name>Org Costs Rates</name>
    <type>DBLookup</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <cache>Y</cache>
    <cache_load_all>Y</cache_load_all>
    <cache_size>0</cache_size>
    <connection>MSSQL_RFSDW</connection>
    <lookup>
      <eat_row_on_failure>N</eat_row_on_failure>
      <fail_on_multiple>N</fail_on_multiple>
      <key>
        <condition>=</condition>
        <field>FCC_Number</field>
        <name>FCC_ID_SAP</name>
      </key>
      <schema>sap</schema>
      <table>ZQGMIDC01_OrganizationalCostRates</table>
      <value>
        <name>OrgCostRate_CalculatedForDisplay</name>
        <rename>OrgCostRate_CalculatedForDisplay</rename>
        <type>Number</type>
      </value>
    </lookup>
    <attributes/>
    <GUI>
      <xloc>7952</xloc>
      <yloc>640</yloc>
    </GUI>
  </transform>
  <transform>
    <name>Pass Record to upsert?</name>
    <type>FilterRows</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <compare>
      <condition>
        <conditions>
</conditions>
        <function>=</function>
        <leftvalue>PassRecordToUpsert</leftvalue>
        <negated>N</negated>
        <operator>-</operator>
        <value>
          <isnull>N</isnull>
          <length>-1</length>
          <name>constant</name>
          <precision>-1</precision>
          <text>Yes</text>
          <type>String</type>
        </value>
      </condition>
    </compare>
    <send_true_to>Checksum_FlagChanges</send_true_to>
    <attributes/>
    <GUI>
      <xloc>10384</xloc>
      <yloc>640</yloc>
    </GUI>
  </transform>
  <transform>
    <name>Pass record to update</name>
    <type>ScriptValueMod</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <optimizationLevel>9</optimizationLevel>
    <jsScripts>
      <jsScript>
        <jsScript_type>0</jsScript_type>
        <jsScript_name>Script 1</jsScript_name>
        <jsScript_script>//Script here

var PassRecordToUpsert = null;
var IsGrantAccount = null;
var IsCostCentre = null;

//FCCs starting with 73 are Cost Centres
if (FCC_ID_SAP.indexOf('73') == 0) {
	IsCostCentre = 'Yes'
} else {
	IsCostCentre = 'No'
}


//FCCs starting with 410 or 777 are Grant Accounts
if (FCC_ID_SAP.indexOf('410') == 0 || FCC_ID_SAP.indexOf('777') == 0) {
	IsGrantAccount = 'Yes'
} else {
	IsGrantAccount = 'No'
}


//Only pass Grant accounts that already exist in the Business Hub. New FCCs are set up by Bryan via the New FCC Request
if ((IsGrantAccount == 'Yes' &amp;&amp; FCC_SAP_ID_In_SF != null) || IsCostCentre == 'Yes') {
	PassRecordToUpsert = 'Yes';
} else { 
	PassRecordToUpsert = 'No';
}



//Forcefully pass 430 accounts. Create better rules later.

if (FCC_ID_SAP.indexOf('430') == 0) {
	PassRecordToUpsert = 'Yes'
}</jsScript_script>
      </jsScript>
    </jsScripts>
    <fields>
      <field>
        <name>PassRecordToUpsert</name>
        <rename>PassRecordToUpsert</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>
      <field>
        <name>IsGrantAccount</name>
        <rename>IsGrantAccount</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>
    </fields>
    <attributes/>
    <GUI>
      <xloc>10160</xloc>
      <yloc>640</yloc>
    </GUI>
  </transform>
  <transform>
    <name>Portfolio Codes</name>
    <type>SalesforceInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <targeturl>${Salesforce_Webservice_URL}</targeturl>
    <username>${Salesforce_ETL_Username}</username>
    <password>${Salesforce_ETL_Password}</password>
    <timeout>60000</timeout>
    <useCompression>N</useCompression>
    <module>UHN_Portfolio_Code__c</module>
    <condition/>
    <specifyQuery>N</specifyQuery>
    <query/>
    <include_targeturl>N</include_targeturl>
    <targeturl_field/>
    <include_module>N</include_module>
    <module_field/>
    <include_rownum>N</include_rownum>
    <include_deletion_date>N</include_deletion_date>
    <deletion_date_field/>
    <rownum_field/>
    <include_sql>N</include_sql>
    <sql_field/>
    <include_Timestamp>N</include_Timestamp>
    <timestamp_field/>
    <read_from/>
    <read_to/>
    <records_filter>all</records_filter>
    <queryAll>N</queryAll>
    <fields>
      <field>
        <name>Record ID</name>
        <field>Id</field>
        <idlookup>Y</idlookup>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>18</length>
        <precision>0</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>Owner ID</name>
        <field>OwnerId</field>
        <idlookup>N</idlookup>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>18</length>
        <precision>0</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>Deleted</name>
        <field>IsDeleted</field>
        <idlookup>N</idlookup>
        <type>Boolean</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>Portfolio Code</name>
        <field>Name</field>
        <idlookup>Y</idlookup>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>80</length>
        <precision>0</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>Created Date</name>
        <field>CreatedDate</field>
        <idlookup>N</idlookup>
        <type>Date</type>
        <format>yyyy-MM-dd'T'HH:mm:ss'.000'XXX</format>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>Created By ID</name>
        <field>CreatedById</field>
        <idlookup>N</idlookup>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>18</length>
        <precision>0</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>Last Modified Date</name>
        <field>LastModifiedDate</field>
        <idlookup>N</idlookup>
        <type>Date</type>
        <format>yyyy-MM-dd'T'HH:mm:ss'.000'XXX</format>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>Last Modified By ID</name>
        <field>LastModifiedById</field>
        <idlookup>N</idlookup>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>18</length>
        <precision>0</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>System Modstamp</name>
        <field>SystemModstamp</field>
        <idlookup>N</idlookup>
        <type>Date</type>
        <format>yyyy-MM-dd'T'HH:mm:ss'.000'XXX</format>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>Last Viewed Date</name>
        <field>LastViewedDate</field>
        <idlookup>N</idlookup>
        <type>Date</type>
        <format>yyyy-MM-dd'T'HH:mm:ss'.000'XXX</format>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>Last Referenced Date</name>
        <field>LastReferencedDate</field>
        <idlookup>N</idlookup>
        <type>Date</type>
        <format>yyyy-MM-dd'T'HH:mm:ss'.000'XXX</format>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>Financial Analyst</name>
        <field>UHN_Financial_Analyst__c</field>
        <idlookup>N</idlookup>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>18</length>
        <precision>0</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>Senior Analyst</name>
        <field>UHN_Senior_Analyst__c</field>
        <idlookup>N</idlookup>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>18</length>
        <precision>0</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
    </fields>
    <limit>0</limit>
    <attributes/>
    <GUI>
      <xloc>4400</xloc>
      <yloc>384</yloc>
    </GUI>
  </transform>
  <transform>
    <name>RFIS</name>
    <type>DBLookup</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <cache>Y</cache>
    <cache_load_all>Y</cache_load_all>
    <cache_size>0</cache_size>
    <connection>MSSQL_RFSDW</connection>
    <lookup>
      <eat_row_on_failure>N</eat_row_on_failure>
      <fail_on_multiple>N</fail_on_multiple>
      <key>
        <condition>=</condition>
        <field>FCC_NUMBER</field>
        <name>FCC_ID_SAP</name>
      </key>
      <schema>rfis</schema>
      <table>RFIS_VRFIS_FCC_DETAILS</table>
      <value>
        <name>STATUS_ID</name>
        <rename>FCC_STATUS_ID_RFIS</rename>
        <type>String</type>
      </value>
      <value>
        <name>ENID</name>
        <rename>AccountHolder_ENID_RFIS</rename>
        <type>String</type>
      </value>
    </lookup>
    <attributes/>
    <GUI>
      <xloc>5760</xloc>
      <yloc>640</yloc>
    </GUI>
  </transform>
  <transform>
    <name>RFIS Categories</name>
    <type>DBLookup</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <cache>Y</cache>
    <cache_load_all>Y</cache_load_all>
    <cache_size>0</cache_size>
    <connection>MSSQL_RFSDW</connection>
    <lookup>
      <eat_row_on_failure>N</eat_row_on_failure>
      <fail_on_multiple>N</fail_on_multiple>
      <key>
        <condition>=</condition>
        <field>GL_Account</field>
        <name>ACCOUNT_OR_CENTRE</name>
      </key>
      <schema>rfis</schema>
      <table>RFIS_CategoriesFromExcelFile</table>
      <value>
        <name>RFIS_Class</name>
        <rename>RFIS_Class</rename>
        <type>String</type>
      </value>
      <value>
        <name>RFIS_Type</name>
        <rename>RFIS_Type</rename>
        <type>String</type>
      </value>
      <value>
        <name>RFIS_Category</name>
        <rename>RFIS_Category</rename>
        <type>String</type>
      </value>
    </lookup>
    <attributes/>
    <GUI>
      <xloc>2192</xloc>
      <yloc>208</yloc>
    </GUI>
  </transform>
  <transform>
    <name>Record Types</name>
    <type>ScriptValueMod</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <optimizationLevel>9</optimizationLevel>
    <jsScripts>
      <jsScript>
        <jsScript_type>0</jsScript_type>
        <jsScript_name>Script 1</jsScript_name>
        <jsScript_script>//Script here
//Used as filter in KOK5 Database Lookup step
//var Text_RecordType_Sponsor = "UHN_Sponsor_Record_Type"
//var Text_RecordType_Institute = "UHN_Institute_Record_Type"


var Text_RecordType_Sponsor = "Sponsor"
var Text_RecordType_Institute = "Institute"

</jsScript_script>
      </jsScript>
    </jsScripts>
    <fields>
      <field>
        <name>Text_RecordType_Sponsor</name>
        <rename>Text_RecordType_Sponsor</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>
      <field>
        <name>Text_RecordType_Institute</name>
        <rename>Text_RecordType_Institute</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>
    </fields>
    <attributes/>
    <GUI>
      <xloc>3424</xloc>
      <yloc>656</yloc>
    </GUI>
  </transform>
  <transform>
    <name>Replace in string</name>
    <type>ReplaceString</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <fields>
      <field>
        <case_sensitive>N</case_sensitive>
        <in_stream_name>BudgetValidToDate</in_stream_name>
        <is_unicode>N</is_unicode>
        <replace_string>0000-00-00</replace_string>
        <set_empty_string>Y</set_empty_string>
        <use_regex>N</use_regex>
        <whole_word>N</whole_word>
      </field>
    </fields>
    <attributes/>
    <GUI>
      <xloc>2064</xloc>
      <yloc>832</yloc>
    </GUI>
  </transform>
  <transform>
    <name>Replace in string 3</name>
    <type>ReplaceString</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <fields>
      <field>
        <case_sensitive>N</case_sensitive>
        <in_stream_name>FCC_Status_KOK5</in_stream_name>
        <is_unicode>N</is_unicode>
        <replace_by_string>Closed</replace_by_string>
        <replace_string>X</replace_string>
        <set_empty_string>N</set_empty_string>
        <use_regex>N</use_regex>
        <whole_word>N</whole_word>
      </field>
    </fields>
    <attributes/>
    <GUI>
      <xloc>3024</xloc>
      <yloc>656</yloc>
    </GUI>
  </transform>
  <transform>
    <name>Replace in string 4</name>
    <type>ReplaceString</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <fields>
      <field>
        <case_sensitive>N</case_sensitive>
        <in_stream_name>FCC_STATUS_ID_RFIS</in_stream_name>
        <is_unicode>N</is_unicode>
        <replace_by_string>Open</replace_by_string>
        <replace_string>1</replace_string>
        <set_empty_string>N</set_empty_string>
        <use_regex>N</use_regex>
        <whole_word>Y</whole_word>
      </field>
      <field>
        <case_sensitive>N</case_sensitive>
        <in_stream_name>FCC_STATUS_ID_RFIS</in_stream_name>
        <is_unicode>N</is_unicode>
        <replace_by_string>Closed</replace_by_string>
        <replace_string>100</replace_string>
        <set_empty_string>N</set_empty_string>
        <use_regex>N</use_regex>
        <whole_word>Y</whole_word>
      </field>
      <field>
        <case_sensitive>N</case_sensitive>
        <in_stream_name>FCC_STATUS_ID_RFIS</in_stream_name>
        <is_unicode>N</is_unicode>
        <replace_by_string>To be Closed</replace_by_string>
        <replace_string>50</replace_string>
        <set_empty_string>N</set_empty_string>
        <use_regex>N</use_regex>
        <whole_word>Y</whole_word>
      </field>
    </fields>
    <attributes/>
    <GUI>
      <xloc>6208</xloc>
      <yloc>640</yloc>
    </GUI>
  </transform>
  <transform>
    <name>Rules for Non-Grants</name>
    <type>ScriptValueMod</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <optimizationLevel>9</optimizationLevel>
    <jsScripts>
      <jsScript>
        <jsScript_type>0</jsScript_type>
        <jsScript_name>Script 1</jsScript_name>
        <jsScript_script>//Script here
//Account Holders for Grants are maintained in Business Hub only.
//For the time being, we pull Account Holders for Non-Grants from RFIS. At some point, those too should be maintained in Business Hub only.


switch (true) {
	case FCC_Type_long == 'Cost Centre':
		
		//AccountHolder_ID_SF = AccountHolder_SF_ByENID
		//"Institute" also refers to RSS departments. Poor naming choice because initially we only assigned FCCs (Grants) to Insitutes.
		//However, non-Grant accounts can be assigned to Institutes and RSS departments.
		Institute_ID_SF = RSS_Insititute_SF_by_SAP_ID
		break;

}


if (AccountHolder_ID_SF == null) {
	AccountHolder_ID_SF = '0035W000002bQIbQAM' //Gert Wieland
}

if (Institute_ID_SF == null) {
	Institute_ID_SF = '0015W000003RGT9QAO'//Placeholder
}</jsScript_script>
      </jsScript>
    </jsScripts>
    <fields>
      <field>
        <name>AccountHolder_ID_SF</name>
        <rename>AccountHolder_ID_SF</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>Y</replace>
      </field>
      <field>
        <name>Institute_ID_SF</name>
        <rename>Institute_ID_SF</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>Y</replace>
      </field>
    </fields>
    <attributes/>
    <GUI>
      <xloc>9296</xloc>
      <yloc>640</yloc>
    </GUI>
  </transform>
  <transform>
    <name>SADB</name>
    <type>DBLookup</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <cache>Y</cache>
    <cache_load_all>Y</cache_load_all>
    <cache_size>0</cache_size>
    <connection>MSSQL_RFSDW</connection>
    <lookup>
      <eat_row_on_failure>N</eat_row_on_failure>
      <fail_on_multiple>N</fail_on_multiple>
      <key>
        <condition>=</condition>
        <field>FC</field>
        <name>FCC_ID_SAP</name>
      </key>
      <schema>sadb</schema>
      <table>MainAuthorityTable</table>
      <value>
        <name>Rsch Inst / Analyst</name>
        <rename>FinancialPortfolio_SADB</rename>
        <type>String</type>
      </value>
    </lookup>
    <attributes/>
    <GUI>
      <xloc>2288</xloc>
      <yloc>656</yloc>
    </GUI>
  </transform>
  <transform>
    <name>SF Account</name>
    <type>DBLookup</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <cache>Y</cache>
    <cache_load_all>Y</cache_load_all>
    <cache_size>0</cache_size>
    <connection>MSSQL_RFSDW</connection>
    <lookup>
      <eat_row_on_failure>N</eat_row_on_failure>
      <fail_on_multiple>N</fail_on_multiple>
      <key>
        <condition>=</condition>
        <field>SAP Id</field>
        <name>FCC_ID_SAP</name>
      </key>
      <schema>salesforce_dim</schema>
      <table>Entity</table>
      <value>
        <name>Entity ID</name>
        <rename>Entity_ID_SF</rename>
        <type>String</type>
      </value>
    </lookup>
    <attributes/>
    <GUI>
      <xloc>1760</xloc>
      <yloc>656</yloc>
    </GUI>
  </transform>
  <transform>
    <name>SF FCC Error</name>
    <type>InsertUpdate</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <commit>10</commit>
    <connection>MSSQL_RFSDW</connection>
    <lookup>
      <key>
        <condition>=</condition>
        <field>FCC_ID_SAP</field>
        <name>FCC_ID_SAP</name>
      </key>
      <schema>errors_loading</schema>
      <table>SF_FCC</table>
      <value>
        <name>AccountHolder_ID_SF</name>
        <rename>AccountHolder_ID_SF</rename>
        <update>Y</update>
      </value>
      <value>
        <name>Actuals_SAP</name>
        <rename>Actuals_SAP</rename>
        <update>Y</update>
      </value>
      <value>
        <name>AwardTypeDescription</name>
        <rename>AwardTypeDescription</rename>
        <update>Y</update>
      </value>
      <value>
        <name>BudgetEndDate_Max</name>
        <rename>BudgetEndDate_Max</rename>
        <update>Y</update>
      </value>
      <value>
        <name>Checksum_AlreadyInSF</name>
        <rename>Checksum_AlreadyInSF</rename>
        <update>Y</update>
      </value>
      <value>
        <name>Checksum_FlagChanges</name>
        <rename>Checksum_FlagChanges</rename>
        <update>Y</update>
      </value>
      <value>
        <name>Committments_SAP</name>
        <rename>Committments_SAP</rename>
        <update>Y</update>
      </value>
      <value>
        <name>ENTITY_ID</name>
        <rename>ENTITY_ID</rename>
        <update>Y</update>
      </value>
      <value>
        <name>Entity_ID_SF</name>
        <rename>Entity_ID_SF</rename>
        <update>Y</update>
      </value>
      <value>
        <name>ExternalReference_GrantMasterData</name>
        <rename>ExternalReference_GrantMasterData</rename>
        <update>Y</update>
      </value>
      <value>
        <name>FCC_Category</name>
        <rename>FCC_Category</rename>
        <update>Y</update>
      </value>
      <value>
        <name>FCC_Name</name>
        <rename>FCC_Name</rename>
        <update>Y</update>
      </value>
      <value>
        <name>FCC_ID_SAP</name>
        <rename>FCC_ID_SAP</rename>
        <update>Y</update>
      </value>
      <value>
        <name>FCC_KEY_EDW</name>
        <rename>FCC_KEY_EDW</rename>
        <update>Y</update>
      </value>
      <value>
        <name>FCC_Owner_SF</name>
        <rename>FCC_Owner_SF</rename>
        <update>Y</update>
      </value>
      <value>
        <name>FCC_STATUS_RFIS</name>
        <rename>FCC_STATUS_RFIS</rename>
        <update>Y</update>
      </value>
      <value>
        <name>FCC_Status_KOK5</name>
        <rename>FCC_Status_KOK5</rename>
        <update>Y</update>
      </value>
      <value>
        <name>FCC_Title</name>
        <rename>FCC_Title</rename>
        <update>Y</update>
      </value>
      <value>
        <name>FCC_Type</name>
        <rename>FCC_Type</rename>
        <update>Y</update>
      </value>
      <value>
        <name>FCC_Type_long</name>
        <rename>FCC_Type_long</rename>
        <update>Y</update>
      </value>
      <value>
        <name>FCC_Type_short</name>
        <rename>FCC_Type_short</rename>
        <update>Y</update>
      </value>
      <value>
        <name>FinalBudget_SAP</name>
        <rename>FinalBudget_SAP</rename>
        <update>Y</update>
      </value>
      <value>
        <name>FinancialAnalyst_ContactID</name>
        <rename>FinancialAnalyst_ContactID</rename>
        <update>Y</update>
      </value>
      <value>
        <name>FlagForDeletion</name>
        <rename>FlagForDeletion</rename>
        <update>Y</update>
      </value>
      <value>
        <name>GrantEndDate_GrantMasterData</name>
        <rename>GrantEndDate_GrantMasterData</rename>
        <update>Y</update>
      </value>
      <value>
        <name>GrantReturnType_FromKOK5</name>
        <rename>GrantReturnType_FromKOK5</rename>
        <update>Y</update>
      </value>
      <value>
        <name>GrantStartDate_GrantMasterData</name>
        <rename>GrantStartDate_GrantMasterData</rename>
        <update>Y</update>
      </value>
      <value>
        <name>Grant_KOK5</name>
        <rename>Grant_KOK5</rename>
        <update>Y</update>
      </value>
      <value>
        <name>Institute_AccountHolder_ID_SF</name>
        <rename>Institute_AccountHolder_ID_SF</rename>
        <update>Y</update>
      </value>
      <value>
        <name>Institute_ID_SF</name>
        <rename>Institute_ID_SF</rename>
        <update>Y</update>
      </value>
      <value>
        <name>Institute_ID_SF_SAP</name>
        <rename>Institute_ID_SF_SAP</rename>
        <update>Y</update>
      </value>
      <value>
        <name>InternalReference_GrantMasterData</name>
        <rename>InternalReference_GrantMasterData</rename>
        <update>Y</update>
      </value>
      <value>
        <name>Level 1 Description</name>
        <rename>Level 1 Description</rename>
        <update>Y</update>
      </value>
      <value>
        <name>Level 1 Display Number</name>
        <rename>Level 1 Display Number</rename>
        <update>Y</update>
      </value>
      <value>
        <name>Level 1 ID</name>
        <rename>Level 1 ID</rename>
        <update>Y</update>
      </value>
      <value>
        <name>Level 2 Description</name>
        <rename>Level 2 Description</rename>
        <update>Y</update>
      </value>
      <value>
        <name>Level 2 Display Number</name>
        <rename>Level 2 Display Number</rename>
        <update>Y</update>
      </value>
      <value>
        <name>Level 2 ID</name>
        <rename>Level 2 ID</rename>
        <update>Y</update>
      </value>
      <value>
        <name>Level 3 Description</name>
        <rename>Level 3 Description</rename>
        <update>Y</update>
      </value>
      <value>
        <name>Level 3 Display Number</name>
        <rename>Level 3 Display Number</rename>
        <update>Y</update>
      </value>
      <value>
        <name>Level 3 ID</name>
        <rename>Level 3 ID</rename>
        <update>Y</update>
      </value>
      <value>
        <name>Level 4 Description</name>
        <rename>Level 4 Description</rename>
        <update>Y</update>
      </value>
      <value>
        <name>Level 4 Display Number</name>
        <rename>Level 4 Display Number</rename>
        <update>Y</update>
      </value>
      <value>
        <name>Level 4 ID</name>
        <rename>Level 4 ID</rename>
        <update>Y</update>
      </value>
      <value>
        <name>Level 5 Description</name>
        <rename>Level 5 Description</rename>
        <update>Y</update>
      </value>
      <value>
        <name>Level 5 Display Number</name>
        <rename>Level 5 Display Number</rename>
        <update>Y</update>
      </value>
      <value>
        <name>Level 5 ID</name>
        <rename>Level 5 ID</rename>
        <update>Y</update>
      </value>
      <value>
        <name>Level 6 Description</name>
        <rename>Level 6 Description</rename>
        <update>Y</update>
      </value>
      <value>
        <name>Level 6 Display Number</name>
        <rename>Level 6 Display Number</rename>
        <update>Y</update>
      </value>
      <value>
        <name>Level 6 ID</name>
        <rename>Level 6 ID</rename>
        <update>Y</update>
      </value>
      <value>
        <name>Level 7 Description</name>
        <rename>Level 7 Description</rename>
        <update>Y</update>
      </value>
      <value>
        <name>Level 7 Display Number</name>
        <rename>Level 7 Display Number</rename>
        <update>Y</update>
      </value>
      <value>
        <name>Level 7 ID</name>
        <rename>Level 7 ID</rename>
        <update>Y</update>
      </value>
      <value>
        <name>Level 8 Description</name>
        <rename>Level 8 Description</rename>
        <update>Y</update>
      </value>
      <value>
        <name>Level 8 Display Number</name>
        <rename>Level 8 Display Number</rename>
        <update>Y</update>
      </value>
      <value>
        <name>Level 8 ID</name>
        <rename>Level 8 ID</rename>
        <update>Y</update>
      </value>
      <value>
        <name>Level 9 Description</name>
        <rename>Level 9 Description</rename>
        <update>Y</update>
      </value>
      <value>
        <name>Level 9 Display Number</name>
        <rename>Level 9 Display Number</rename>
        <update>Y</update>
      </value>
      <value>
        <name>Level 9 ID</name>
        <rename>Level 9 ID</rename>
        <update>Y</update>
      </value>
      <value>
        <name>Lifecyle_1_GrantMasterData</name>
        <rename>Lifecyle_1_GrantMasterData</rename>
        <update>Y</update>
      </value>
      <value>
        <name>NoOfCards</name>
        <rename>NoOfCards</rename>
        <update>Y</update>
      </value>
      <value>
        <name>OLD_ACCOUNT</name>
        <rename>OLD_ACCOUNT</rename>
        <update>Y</update>
      </value>
      <value>
        <name>OLD_ACCOUNT_DESCRIPTION</name>
        <rename>OLD_ACCOUNT_DESCRIPTION</rename>
        <update>Y</update>
      </value>
      <value>
        <name>OLD_ENTITY</name>
        <rename>OLD_ENTITY</rename>
        <update>Y</update>
      </value>
      <value>
        <name>OrgCostRate_CalculatedForDisplay</name>
        <rename>OrgCostRate_CalculatedForDisplay</rename>
        <update>Y</update>
      </value>
      <value>
        <name>Portfolio_RFS_Analysts</name>
        <rename>Portfolio_RFS_Analysts</rename>
        <update>Y</update>
      </value>
      <value>
        <name>ProjectTitle</name>
        <rename>ProjectTitle</rename>
        <update>Y</update>
      </value>
      <value>
        <name>RecordType</name>
        <rename>RecordType</rename>
        <update>Y</update>
      </value>
      <value>
        <name>SAP_ID</name>
        <rename>SAP_ID</rename>
        <update>Y</update>
      </value>
      <value>
        <name>SITE</name>
        <rename>SITE</rename>
        <update>Y</update>
      </value>
      <value>
        <name>STRUCTURE_NAME</name>
        <rename>STRUCTURE_NAME</rename>
        <update>Y</update>
      </value>
      <value>
        <name>STRUCTURE_TYPE</name>
        <rename>STRUCTURE_TYPE</rename>
        <update>Y</update>
      </value>
      <value>
        <name>SeniorAnalyst_ContactID</name>
        <rename>SeniorAnalyst_ContactID</rename>
        <update>Y</update>
      </value>
      <value>
        <name>Splitting_Rule</name>
        <rename>Splitting_Rule</rename>
        <update>Y</update>
      </value>
      <value>
        <name>Sponsor_ID_SAP_KOK5</name>
        <rename>Sponsor_ID_SAP_KOK5</rename>
        <update>Y</update>
      </value>
      <value>
        <name>Sponsor_ID_SF</name>
        <rename>Sponsor_ID_SF</rename>
        <update>Y</update>
      </value>
      <value>
        <name>Text_RecordType_Sponsor</name>
        <rename>Text_RecordType_Sponsor</rename>
        <update>Y</update>
      </value>
      <value>
        <name>ToleranceProfile</name>
        <rename>ToleranceProfile</rename>
        <update>Y</update>
      </value>
      <value>
        <name>ToleranceProfile_ID</name>
        <rename>ToleranceProfile_ID</rename>
        <update>Y</update>
      </value>
      <value>
        <name>Troubleshooting_Comments</name>
        <rename>Troubleshooting_Comments</rename>
        <update>Y</update>
      </value>
      <value>
        <name>Variance_SAP</name>
        <rename>Variance_SAP</rename>
        <update>Y</update>
      </value>
      <value>
        <name>NoOfErrors</name>
        <rename>NoOfErrors</rename>
        <update>Y</update>
      </value>
      <value>
        <name>ErrorDescription</name>
        <rename>ErrorDescription</rename>
        <update>Y</update>
      </value>
      <value>
        <name>ErrorDate</name>
        <rename>ErrorDate</rename>
        <update>Y</update>
      </value>
    </lookup>
    <update_bypassed>N</update_bypassed>
    <attributes/>
    <GUI>
      <xloc>12256</xloc>
      <yloc>640</yloc>
    </GUI>
  </transform>
  <transform>
    <name>SF GL Error</name>
    <type>InsertUpdate</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>20</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <commit>100</commit>
    <connection>MSSQL_RFSDW</connection>
    <lookup>
      <key>
        <condition>=</condition>
        <field>UHN_SAP_ID</field>
        <name>UHN_SAP_ID</name>
      </key>
      <schema>errors_loading</schema>
      <table>SF_GL_Account</table>
      <value>
        <name>Name_SF</name>
        <rename>Name_SF</rename>
        <update>Y</update>
      </value>
      <value>
        <name>UHN_SAP_ID</name>
        <rename>UHN_SAP_ID</rename>
        <update>N</update>
      </value>
      <value>
        <name>UHN_Level_1_Desc</name>
        <rename>UHN_Level_1_Desc</rename>
        <update>Y</update>
      </value>
      <value>
        <name>UHN_Level_1_Id</name>
        <rename>UHN_Level_1_Id</rename>
        <update>Y</update>
      </value>
      <value>
        <name>UHN_Level_2_Desc</name>
        <rename>UHN_Level_2_Desc</rename>
        <update>Y</update>
      </value>
      <value>
        <name>UHN_Level_2_Id</name>
        <rename>UHN_Level_2_Id</rename>
        <update>Y</update>
      </value>
      <value>
        <name>UHN_Level_3_Desc</name>
        <rename>UHN_Level_3_Desc</rename>
        <update>Y</update>
      </value>
      <value>
        <name>UHN_Level_3_Id</name>
        <rename>UHN_Level_3_Id</rename>
        <update>Y</update>
      </value>
      <value>
        <name>UHN_Level_4_Desc</name>
        <rename>UHN_Level_4_Desc</rename>
        <update>Y</update>
      </value>
      <value>
        <name>UHN_Level_4_Id</name>
        <rename>UHN_Level_4_Id</rename>
        <update>Y</update>
      </value>
      <value>
        <name>UHN_Level_5_Desc</name>
        <rename>UHN_Level_5_Desc</rename>
        <update>Y</update>
      </value>
      <value>
        <name>UHN_Level_5_Id</name>
        <rename>UHN_Level_5_Id</rename>
        <update>Y</update>
      </value>
      <value>
        <name>UHN_Level_6_Desc</name>
        <rename>UHN_Level_6_Desc</rename>
        <update>Y</update>
      </value>
      <value>
        <name>UHN_Level_6_Id</name>
        <rename>UHN_Level_6_Id</rename>
        <update>Y</update>
      </value>
      <value>
        <name>NoOfErrors</name>
        <rename>NoOfErrors</rename>
        <update>Y</update>
      </value>
      <value>
        <name>ErrorDescription</name>
        <rename>ErrorDescription</rename>
        <update>Y</update>
      </value>
      <value>
        <name>ErrorDate</name>
        <rename>ErrorDate</rename>
        <update>Y</update>
      </value>
      <value>
        <name>RFIS_Class</name>
        <rename>RFIS_Class</rename>
        <update>Y</update>
      </value>
      <value>
        <name>RFIS_Category</name>
        <rename>RFIS_Category</rename>
        <update>Y</update>
      </value>
      <value>
        <name>RFIS_Type</name>
        <rename>RFIS_Type</rename>
        <update>Y</update>
      </value>
      <value>
        <name>SponsoredClass</name>
        <rename>SponsoredClass</rename>
        <update>Y</update>
      </value>
      <value>
        <name>SponsoredClass_Detail</name>
        <rename>SponsoredClass_Detail</rename>
        <update>Y</update>
      </value>
    </lookup>
    <update_bypassed>N</update_bypassed>
    <attributes/>
    <GUI>
      <xloc>4240</xloc>
      <yloc>80</yloc>
    </GUI>
  </transform>
  <transform>
    <name>Select values</name>
    <type>SelectValues</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <fields>
      <field>
        <name>ACCOUNT_OR_CENTRE</name>
      </field>
      <field>
        <name>ACCOUNT_OR_CENTRE_DESCRIPTION</name>
      </field>
      <field>
        <name>ACCOUNT_OR_CENTRE_TYPE</name>
      </field>
      <field>
        <name>EIGHT_POINT_DESCRIPTION</name>
      </field>
      <field>
        <name>EIGHT_POINT_DISPLAY_NUMBER</name>
      </field>
      <field>
        <name>EIGHT_POINT_ID</name>
      </field>
      <field>
        <name>ENTITY_ID</name>
      </field>
      <field>
        <name>FIVE_POINT_DESCRIPTION</name>
      </field>
      <field>
        <name>FIVE_POINT_DISPLAY_NUMBER</name>
      </field>
      <field>
        <name>FIVE_POINT_ID</name>
      </field>
      <field>
        <name>FOUR_POINT_DESCRIPTION</name>
      </field>
      <field>
        <name>FOUR_POINT_DISPLAY_NUMBER</name>
      </field>
      <field>
        <name>FOUR_POINT_ID</name>
      </field>
      <field>
        <name>NINE_POINT_DESCRIPTION</name>
      </field>
      <field>
        <name>NINE_POINT_DISPLAY_NUMBER</name>
      </field>
      <field>
        <name>NINE_POINT_ID</name>
      </field>
      <field>
        <name>OLD_ACCOUNT</name>
      </field>
      <field>
        <name>OLD_ACCOUNT_DESCRIPTION</name>
      </field>
      <field>
        <name>OLD_ENTITY</name>
      </field>
      <field>
        <name>ONE_POINT_DESCRIPTION</name>
      </field>
      <field>
        <name>ONE_POINT_DISPLAY_NUMBER</name>
      </field>
      <field>
        <name>ONE_POINT_ID</name>
      </field>
      <field>
        <name>SEVEN_POINT_DESCRIPTION</name>
      </field>
      <field>
        <name>SEVEN_POINT_DISPLAY_NUMBER</name>
      </field>
      <field>
        <name>SEVEN_POINT_ID</name>
      </field>
      <field>
        <name>SITE</name>
      </field>
      <field>
        <name>SIX_POINT_DESCRIPTION</name>
      </field>
      <field>
        <name>SIX_POINT_DISPLAY_NUMBER</name>
      </field>
      <field>
        <name>SIX_POINT_ID</name>
      </field>
      <field>
        <name>STRUCTURE_NAME</name>
      </field>
      <field>
        <name>STRUCTURE_TYPE</name>
      </field>
      <field>
        <name>THREE_POINT_DESCRIPTION</name>
      </field>
      <field>
        <name>THREE_POINT_DISPLAY_NUMBER</name>
      </field>
      <field>
        <name>THREE_POINT_ID</name>
      </field>
      <field>
        <name>TWO_POINT_DESCRIPTION</name>
      </field>
      <field>
        <name>TWO_POINT_DISPLAY_NUMBER</name>
      </field>
      <field>
        <name>TWO_POINT_ID</name>
      </field>
      <select_unspecified>N</select_unspecified>
      <meta>
        <name>ACCOUNT_OR_CENTRE_DESCRIPTION</name>
        <rename>ACCOUNT_OR_CENTRE_DESCRIPTION</rename>
        <type>String</type>
        <length>-2</length>
        <precision>-2</precision>
        <conversion_mask/>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding>UTF-8</encoding>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
    </fields>
    <attributes/>
    <GUI>
      <xloc>1024</xloc>
      <yloc>208</yloc>
    </GUI>
  </transform>
  <transform>
    <name>Select values 10</name>
    <type>SelectValues</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <fields>
      <field>
        <name>FCC_Description_FromKOK5</name>
      </field>
      <select_unspecified>Y</select_unspecified>
      <meta>
        <name>FCC_Description_FromKOK5</name>
        <rename>FCC_Description_FromKOK5</rename>
        <type>String</type>
        <length>-2</length>
        <precision>-2</precision>
        <conversion_mask/>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding>UTF-8</encoding>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
    </fields>
    <attributes/>
    <GUI>
      <xloc>2896</xloc>
      <yloc>656</yloc>
    </GUI>
  </transform>
  <transform>
    <name>Select values 2</name>
    <type>SelectValues</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <fields>
      <field>
        <name>AccountHolder_CurrentInstitute_SF_ID</name>
      </field>
      <field>
        <name>AccountHolder_IsPI</name>
      </field>
      <field>
        <name>Actuals_SAP</name>
      </field>
      <field>
        <name>AwardTypeDescription</name>
      </field>
      <field>
        <name>BudgetEndDate_Max</name>
      </field>
      <field>
        <name>Committments_SAP</name>
      </field>
      <field>
        <name>Description_GMB</name>
      </field>
      <field>
        <name>EIGHT_POINT_DESCRIPTION</name>
        <rename>Level 8 Description</rename>
      </field>
      <field>
        <name>EIGHT_POINT_DISPLAY_NUMBER</name>
        <rename>Level 8 Display Number</rename>
      </field>
      <field>
        <name>EIGHT_POINT_ID</name>
        <rename>Level 8 ID</rename>
      </field>
      <field>
        <name>ENTITY_ID</name>
      </field>
      <field>
        <name>Entity_ID_SF</name>
      </field>
      <field>
        <name>ExternalReference_GrantMasterData</name>
      </field>
      <field>
        <name>FCC_Category</name>
      </field>
      <field>
        <name>FCC_Description_FromKOK5</name>
      </field>
      <field>
        <name>FCC_ID_SAP</name>
      </field>
      <field>
        <name>FCC_KEY_EDW</name>
      </field>
      <field>
        <name>FCC_Owner_SF</name>
      </field>
      <field>
        <name>FCC_STATUS_ID_RFIS</name>
        <rename>FCC_STATUS_RFIS</rename>
      </field>
      <field>
        <name>FCC_Status_KOK5</name>
      </field>
      <field>
        <name>FCC_Title</name>
      </field>
      <field>
        <name>FCC_Type</name>
      </field>
      <field>
        <name>FCC_Type_long</name>
      </field>
      <field>
        <name>FCC_Type_short</name>
      </field>
      <field>
        <name>FIVE_POINT_DESCRIPTION</name>
        <rename>Level 5 Description</rename>
      </field>
      <field>
        <name>FIVE_POINT_DISPLAY_NUMBER</name>
        <rename>Level 5 Display Number</rename>
      </field>
      <field>
        <name>FIVE_POINT_ID</name>
        <rename>Level 5 ID</rename>
      </field>
      <field>
        <name>FOUR_POINT_DESCRIPTION</name>
        <rename>Level 4 Description</rename>
      </field>
      <field>
        <name>FOUR_POINT_DISPLAY_NUMBER</name>
        <rename>Level 4 Display Number</rename>
      </field>
      <field>
        <name>FOUR_POINT_ID</name>
        <rename>Level 4 ID</rename>
      </field>
      <field>
        <name>FinalBudget_SAP</name>
      </field>
      <field>
        <name>FinancialAnalyst_ContactID</name>
      </field>
      <field>
        <name>FinancialPortfolio</name>
        <rename>Portfolio_RFS_Analysts</rename>
      </field>
      <field>
        <name>GrantEndDate_GrantMasterData</name>
      </field>
      <field>
        <name>GrantReturnType_FromKOK5</name>
      </field>
      <field>
        <name>GrantStartDate_GrantMasterData</name>
      </field>
      <field>
        <name>Grant_KOK5</name>
      </field>
      <field>
        <name>Institute_ID_SF_SAP</name>
      </field>
      <field>
        <name>InternalReference_GrantMasterData</name>
      </field>
      <field>
        <name>Lifecyle_1_GrantMasterData</name>
      </field>
      <field>
        <name>NINE_POINT_DESCRIPTION</name>
        <rename>Level 9 Description</rename>
      </field>
      <field>
        <name>NINE_POINT_DISPLAY_NUMBER</name>
        <rename>Level 9 Display Number</rename>
      </field>
      <field>
        <name>NINE_POINT_ID</name>
        <rename>Level 9 ID</rename>
      </field>
      <field>
        <name>NoOfCards</name>
      </field>
      <field>
        <name>OLD_ACCOUNT</name>
      </field>
      <field>
        <name>OLD_ACCOUNT_DESCRIPTION</name>
      </field>
      <field>
        <name>OLD_ENTITY</name>
      </field>
      <field>
        <name>ONE_POINT_DESCRIPTION</name>
        <rename>Level 1 Description</rename>
      </field>
      <field>
        <name>ONE_POINT_DISPLAY_NUMBER</name>
        <rename>Level 1 Display Number</rename>
      </field>
      <field>
        <name>ONE_POINT_ID</name>
        <rename>Level 1 ID</rename>
      </field>
      <field>
        <name>RecordType</name>
      </field>
      <field>
        <name>SAP_ID</name>
      </field>
      <field>
        <name>SEVEN_POINT_DESCRIPTION</name>
        <rename>Level 7 Description</rename>
      </field>
      <field>
        <name>SEVEN_POINT_DISPLAY_NUMBER</name>
        <rename>Level 7 Display Number</rename>
      </field>
      <field>
        <name>SEVEN_POINT_ID</name>
        <rename>Level 7 ID</rename>
      </field>
      <field>
        <name>SITE</name>
      </field>
      <field>
        <name>SIX_POINT_DESCRIPTION</name>
        <rename>Level 6 Description</rename>
      </field>
      <field>
        <name>SIX_POINT_DISPLAY_NUMBER</name>
        <rename>Level 6 Display Number</rename>
      </field>
      <field>
        <name>SIX_POINT_ID</name>
        <rename>Level 6 ID</rename>
      </field>
      <field>
        <name>STRUCTURE_NAME</name>
      </field>
      <field>
        <name>STRUCTURE_TYPE</name>
      </field>
      <field>
        <name>SeniorAnalyst_ContactID</name>
      </field>
      <field>
        <name>Splitting_Rule</name>
      </field>
      <field>
        <name>Sponsor_ID_SAP_KOK5</name>
      </field>
      <field>
        <name>Sponsor_ID_SF</name>
      </field>
      <field>
        <name>THREE_POINT_DESCRIPTION</name>
        <rename>Level 3 Description</rename>
      </field>
      <field>
        <name>THREE_POINT_DISPLAY_NUMBER</name>
        <rename>Level 3 Display Number</rename>
      </field>
      <field>
        <name>THREE_POINT_ID</name>
        <rename>Level 3 ID</rename>
      </field>
      <field>
        <name>TWO_POINT_DESCRIPTION</name>
        <rename>Level 2 Description</rename>
      </field>
      <field>
        <name>TWO_POINT_DISPLAY_NUMBER</name>
        <rename>Level 2 Display Number</rename>
      </field>
      <field>
        <name>TWO_POINT_ID</name>
        <rename>Level 2 ID</rename>
      </field>
      <field>
        <name>Text_RecordType_Sponsor</name>
      </field>
      <field>
        <name>ToleranceProfile</name>
      </field>
      <field>
        <name>ToleranceProfile_ID</name>
      </field>
      <field>
        <name>UID_FlagChanges_AccountHolder</name>
      </field>
      <field>
        <name>Variance_SAP</name>
      </field>
      <field>
        <name>CloseDate</name>
      </field>
      <select_unspecified>N</select_unspecified>
    </fields>
    <attributes/>
    <GUI>
      <xloc>7584</xloc>
      <yloc>640</yloc>
    </GUI>
  </transform>
  <transform>
    <name>Select values 3</name>
    <type>SelectValues</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <fields>
      <field>
        <name>ACCOUNT_OR_CENTRE</name>
        <rename>GL_Account</rename>
      </field>
      <field>
        <name>FOUR_POINT_DESCRIPTION</name>
        <rename>GL_Subcategory</rename>
      </field>
      <field>
        <name>ACCOUNT_OR_CENTRE_DESCRIPTION</name>
        <rename>Acount_Title</rename>
      </field>
      <field>
        <name>ONE_POINT_ID</name>
        <rename>Level_1_ID</rename>
      </field>
      <field>
        <name>ONE_POINT_DESCRIPTION</name>
        <rename>Level_1_Description</rename>
      </field>
      <field>
        <name>TWO_POINT_ID</name>
        <rename>Level_2_ID</rename>
      </field>
      <field>
        <name>TWO_POINT_DESCRIPTION</name>
        <rename>Level_2_Description</rename>
      </field>
      <field>
        <name>THREE_POINT_ID</name>
        <rename>Level_3_ID</rename>
      </field>
      <field>
        <name>THREE_POINT_DESCRIPTION</name>
        <rename>Level_3_Description</rename>
      </field>
      <field>
        <name>FOUR_POINT_ID</name>
        <rename>Level_4_ID</rename>
      </field>
      <field>
        <name>FOUR_POINT_DESCRIPTION</name>
        <rename>Level_4_Description</rename>
      </field>
      <field>
        <name>FIVE_POINT_ID</name>
        <rename>Level_5_ID</rename>
      </field>
      <field>
        <name>FIVE_POINT_DESCRIPTION</name>
        <rename>Level_5_Description</rename>
      </field>
      <field>
        <name>SIX_POINT_ID</name>
        <rename>Level_6_ID</rename>
      </field>
      <field>
        <name>SIX_POINT_DESCRIPTION</name>
        <rename>Level_6_Description</rename>
      </field>
      <field>
        <name>IsFTEaccount</name>
      </field>
      <field>
        <name>RFIS_Class</name>
      </field>
      <field>
        <name>RFIS_Category</name>
      </field>
      <field>
        <name>RFIS_Type</name>
      </field>
      <select_unspecified>N</select_unspecified>
    </fields>
    <attributes/>
    <GUI>
      <xloc>2656</xloc>
      <yloc>208</yloc>
    </GUI>
  </transform>
  <transform>
    <name>Select values 4</name>
    <type>SelectValues</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <fields>
      <field>
        <name>Level 4 ID</name>
        <rename>FOUR_POINT_ID</rename>
      </field>
      <field>
        <name>Level 4 Description</name>
        <rename>FOUR_POINT_DESCRIPTION</rename>
      </field>
      <field>
        <name>Level 5 ID</name>
        <rename>FIVE_POINT_ID</rename>
      </field>
      <field>
        <name>Level 6 ID</name>
        <rename>SIX_POINT_ID</rename>
      </field>
      <field>
        <name>Level 6 Description</name>
        <rename>SIX_POINT_DESCRIPTION</rename>
      </field>
      <select_unspecified>Y</select_unspecified>
    </fields>
    <attributes/>
    <GUI>
      <xloc>8304</xloc>
      <yloc>640</yloc>
    </GUI>
  </transform>
  <transform>
    <name>Select values 4 2</name>
    <type>SelectValues</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <fields>
      <field>
        <name>FOUR_POINT_ID</name>
        <rename>Level 4 ID</rename>
      </field>
      <field>
        <name>FOUR_POINT_DESCRIPTION</name>
        <rename>Level 4 Description</rename>
      </field>
      <field>
        <name>FIVE_POINT_ID</name>
        <rename>Level 5 ID</rename>
      </field>
      <field>
        <name>SIX_POINT_ID</name>
        <rename>Level 6 ID</rename>
      </field>
      <field>
        <name>SIX_POINT_DESCRIPTION</name>
        <rename>Level 6 Description</rename>
      </field>
      <select_unspecified>Y</select_unspecified>
    </fields>
    <attributes/>
    <GUI>
      <xloc>8848</xloc>
      <yloc>640</yloc>
    </GUI>
  </transform>
  <transform>
    <name>Select values 5</name>
    <type>SelectValues</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <fields>
      <field>
        <name>GL_Account</name>
        <rename>Name_SF</rename>
      </field>
      <field>
        <name>GL_Account</name>
        <rename>UHN_SAP_ID</rename>
      </field>
      <field>
        <name>Level_1_Description</name>
        <rename>UHN_Level_1_Desc</rename>
      </field>
      <field>
        <name>Level_1_ID</name>
        <rename>UHN_Level_1_Id</rename>
      </field>
      <field>
        <name>Level_2_Description</name>
        <rename>UHN_Level_2_Desc</rename>
      </field>
      <field>
        <name>Level_2_ID</name>
        <rename>UHN_Level_2_Id</rename>
      </field>
      <field>
        <name>Level_3_Description</name>
        <rename>UHN_Level_3_Desc</rename>
      </field>
      <field>
        <name>Level_3_ID</name>
        <rename>UHN_Level_3_Id</rename>
      </field>
      <field>
        <name>Level_4_Description</name>
        <rename>UHN_Level_4_Desc</rename>
      </field>
      <field>
        <name>Level_4_ID</name>
        <rename>UHN_Level_4_Id</rename>
      </field>
      <field>
        <name>Level_5_Description</name>
        <rename>UHN_Level_5_Desc</rename>
      </field>
      <field>
        <name>Level_5_ID</name>
        <rename>UHN_Level_5_Id</rename>
      </field>
      <field>
        <name>Level_5_Description</name>
        <rename>UHN_Level_6_Desc</rename>
      </field>
      <field>
        <name>Level_6_ID</name>
        <rename>UHN_Level_6_Id</rename>
      </field>
      <field>
        <name>RFIS_Class</name>
      </field>
      <field>
        <name>RFIS_Category</name>
      </field>
      <field>
        <name>RFIS_Type</name>
      </field>
      <field>
        <name>SponsoredClass</name>
      </field>
      <field>
        <name>SponsoredClass_Detail</name>
      </field>
      <select_unspecified>N</select_unspecified>
    </fields>
    <attributes/>
    <GUI>
      <xloc>3568</xloc>
      <yloc>208</yloc>
    </GUI>
  </transform>
  <transform>
    <name>Select values 6</name>
    <type>SelectValues</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <fields>
      <field>
        <name>STRUCTURE_TYPE</name>
      </field>
      <field>
        <name>STRUCTURE_NAME</name>
      </field>
      <field>
        <name>ENTITY_ID</name>
      </field>
      <field>
        <name>ACCOUNT_OR_CENTRE</name>
      </field>
      <field>
        <name>ACCOUNT_OR_CENTRE_DESCRIPTION</name>
      </field>
      <field>
        <name>ACCOUNT_OR_CENTRE_TYPE</name>
      </field>
      <field>
        <name>ONE_POINT_ID_trimmed</name>
        <rename>ONE_POINT_ID</rename>
      </field>
      <field>
        <name>ONE_POINT_DESCRIPTION</name>
      </field>
      <field>
        <name>ONE_POINT_DISPLAY_NUMBER</name>
      </field>
      <field>
        <name>TWO_POINT_ID_trimmed</name>
        <rename>TWO_POINT_ID</rename>
      </field>
      <field>
        <name>TWO_POINT_DESCRIPTION</name>
      </field>
      <field>
        <name>TWO_POINT_DISPLAY_NUMBER</name>
      </field>
      <field>
        <name>THREE_POINT_ID_trimmed</name>
        <rename>THREE_POINT_ID</rename>
      </field>
      <field>
        <name>THREE_POINT_DESCRIPTION</name>
      </field>
      <field>
        <name>THREE_POINT_DISPLAY_NUMBER</name>
      </field>
      <field>
        <name>FOUR_POINT_ID_trimmed</name>
        <rename>FOUR_POINT_ID</rename>
      </field>
      <field>
        <name>FOUR_POINT_DESCRIPTION</name>
      </field>
      <field>
        <name>FOUR_POINT_DISPLAY_NUMBER</name>
      </field>
      <field>
        <name>FIVE_POINT_ID_trimmed</name>
        <rename>FIVE_POINT_ID</rename>
      </field>
      <field>
        <name>FIVE_POINT_DESCRIPTION</name>
      </field>
      <field>
        <name>FIVE_POINT_DISPLAY_NUMBER</name>
      </field>
      <field>
        <name>SIX_POINT_ID_trimmed</name>
        <rename>SIX_POINT_ID</rename>
      </field>
      <field>
        <name>SIX_POINT_DESCRIPTION</name>
      </field>
      <field>
        <name>SIX_POINT_DISPLAY_NUMBER</name>
      </field>
      <field>
        <name>SEVEN_POINT_ID</name>
      </field>
      <field>
        <name>SEVEN_POINT_DESCRIPTION</name>
      </field>
      <field>
        <name>SEVEN_POINT_DISPLAY_NUMBER</name>
      </field>
      <field>
        <name>EIGHT_POINT_ID</name>
      </field>
      <field>
        <name>EIGHT_POINT_DESCRIPTION</name>
      </field>
      <field>
        <name>EIGHT_POINT_DISPLAY_NUMBER</name>
      </field>
      <field>
        <name>NINE_POINT_ID</name>
      </field>
      <field>
        <name>NINE_POINT_DESCRIPTION</name>
      </field>
      <field>
        <name>NINE_POINT_DISPLAY_NUMBER</name>
      </field>
      <field>
        <name>SITE</name>
      </field>
      <field>
        <name>OLD_ACCOUNT</name>
      </field>
      <field>
        <name>OLD_ACCOUNT_DESCRIPTION</name>
      </field>
      <field>
        <name>OLD_ENTITY</name>
      </field>
      <select_unspecified>N</select_unspecified>
    </fields>
    <attributes/>
    <GUI>
      <xloc>1568</xloc>
      <yloc>208</yloc>
    </GUI>
  </transform>
  <transform>
    <name>Select values 7</name>
    <type>SelectValues</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <fields>
      <field>
        <name>Grant</name>
      </field>
      <field>
        <name>BudgetValidToDate</name>
      </field>
      <field>
        <name>Description</name>
      </field>
      <field>
        <name>AwardType_Description</name>
      </field>
      <select_unspecified>N</select_unspecified>
      <meta>
        <name>BudgetValidToDate</name>
        <rename>BudgetValidToDate</rename>
        <type>Date</type>
        <length>-2</length>
        <precision>-2</precision>
        <conversion_mask>yyyy-MM-dd</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
    </fields>
    <attributes/>
    <GUI>
      <xloc>3792</xloc>
      <yloc>832</yloc>
    </GUI>
  </transform>
  <transform>
    <name>Select values 8</name>
    <type>SelectValues</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <fields>
      <field>
        <name>AccountHolder_ID_SF</name>
      </field>
      <field>
        <name>Actuals_SAP</name>
      </field>
      <field>
        <name>AwardTypeDescription</name>
      </field>
      <field>
        <name>BudgetEndDate_Max</name>
      </field>
      <field>
        <name>Checksum_AlreadyInSF</name>
      </field>
      <field>
        <name>Checksum_FlagChanges</name>
      </field>
      <field>
        <name>Committments_SAP</name>
      </field>
      <field>
        <name>ENTITY_ID</name>
      </field>
      <field>
        <name>Entity_ID_SF</name>
      </field>
      <field>
        <name>ExternalReference_GrantMasterData</name>
      </field>
      <field>
        <name>FCC_Category</name>
      </field>
      <field>
        <name>FCC_Name</name>
      </field>
      <field>
        <name>FCC_ID_SAP</name>
      </field>
      <field>
        <name>FCC_KEY_EDW</name>
      </field>
      <field>
        <name>FCC_Owner_SF</name>
      </field>
      <field>
        <name>FCC_STATUS_RFIS</name>
      </field>
      <field>
        <name>FCC_Status_KOK5</name>
      </field>
      <field>
        <name>FCC_Title</name>
      </field>
      <field>
        <name>FCC_Type</name>
      </field>
      <field>
        <name>FCC_Type_long</name>
      </field>
      <field>
        <name>FCC_Type_short</name>
      </field>
      <field>
        <name>FinalBudget_SAP</name>
      </field>
      <field>
        <name>FinancialAnalyst_ContactID</name>
      </field>
      <field>
        <name>FlagForDeletion</name>
      </field>
      <field>
        <name>GrantEndDate_GrantMasterData</name>
      </field>
      <field>
        <name>GrantReturnType_FromKOK5</name>
      </field>
      <field>
        <name>GrantStartDate_GrantMasterData</name>
      </field>
      <field>
        <name>Grant_KOK5</name>
      </field>
      <field>
        <name>Institute_AccountHolder_ID_SF</name>
      </field>
      <field>
        <name>Institute_ID_SF</name>
      </field>
      <field>
        <name>Institute_ID_SF_SAP</name>
      </field>
      <field>
        <name>InternalReference_GrantMasterData</name>
      </field>
      <field>
        <name>Level 1 Description</name>
      </field>
      <field>
        <name>Level 1 Display Number</name>
      </field>
      <field>
        <name>Level 1 ID</name>
      </field>
      <field>
        <name>Level 2 Description</name>
      </field>
      <field>
        <name>Level 2 Display Number</name>
      </field>
      <field>
        <name>Level 2 ID</name>
      </field>
      <field>
        <name>Level 3 Description</name>
      </field>
      <field>
        <name>Level 3 Display Number</name>
      </field>
      <field>
        <name>Level 3 ID</name>
      </field>
      <field>
        <name>Level 4 Description</name>
      </field>
      <field>
        <name>Level 4 Display Number</name>
      </field>
      <field>
        <name>Level 4 ID</name>
      </field>
      <field>
        <name>Level 5 Description</name>
      </field>
      <field>
        <name>Level 5 Display Number</name>
      </field>
      <field>
        <name>Level 5 ID</name>
      </field>
      <field>
        <name>Level 6 Description</name>
      </field>
      <field>
        <name>Level 6 Display Number</name>
      </field>
      <field>
        <name>Level 6 ID</name>
      </field>
      <field>
        <name>Level 7 Description</name>
      </field>
      <field>
        <name>Level 7 Display Number</name>
      </field>
      <field>
        <name>Level 7 ID</name>
      </field>
      <field>
        <name>Level 8 Description</name>
      </field>
      <field>
        <name>Level 8 Display Number</name>
      </field>
      <field>
        <name>Level 8 ID</name>
      </field>
      <field>
        <name>Level 9 Description</name>
      </field>
      <field>
        <name>Level 9 Display Number</name>
      </field>
      <field>
        <name>Level 9 ID</name>
      </field>
      <field>
        <name>Lifecyle_1_GrantMasterData</name>
      </field>
      <field>
        <name>NoOfCards</name>
      </field>
      <field>
        <name>OLD_ACCOUNT</name>
      </field>
      <field>
        <name>OLD_ACCOUNT_DESCRIPTION</name>
      </field>
      <field>
        <name>OLD_ENTITY</name>
      </field>
      <field>
        <name>OrgCostRate_CalculatedForDisplay</name>
      </field>
      <field>
        <name>Portfolio_RFS_Analysts</name>
      </field>
      <field>
        <name>ProjectTitle</name>
      </field>
      <field>
        <name>RecordType</name>
      </field>
      <field>
        <name>SAP_ID</name>
      </field>
      <field>
        <name>SITE</name>
      </field>
      <field>
        <name>STRUCTURE_NAME</name>
      </field>
      <field>
        <name>STRUCTURE_TYPE</name>
      </field>
      <field>
        <name>SeniorAnalyst_ContactID</name>
      </field>
      <field>
        <name>Splitting_Rule</name>
      </field>
      <field>
        <name>Sponsor_ID_SAP_KOK5</name>
      </field>
      <field>
        <name>Sponsor_ID_SF</name>
      </field>
      <field>
        <name>Text_RecordType_Sponsor</name>
      </field>
      <field>
        <name>ToleranceProfile</name>
      </field>
      <field>
        <name>ToleranceProfile_ID</name>
      </field>
      <field>
        <name>Troubleshooting_Comments</name>
      </field>
      <field>
        <name>Variance_SAP</name>
      </field>
      <field>
        <name>CloseDate</name>
      </field>
      <select_unspecified>N</select_unspecified>
      <meta>
        <name>FinalBudget_SAP</name>
        <rename>FinalBudget_SAP</rename>
        <type>Number</type>
        <length>-2</length>
        <precision>-2</precision>
        <conversion_mask>#,##0.###</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>CloseDate</name>
        <rename>CloseDate</rename>
        <type>Date</type>
        <length>-2</length>
        <precision>-2</precision>
        <conversion_mask>yyyy-MM-dd</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
    </fields>
    <attributes/>
    <GUI>
      <xloc>11264</xloc>
      <yloc>640</yloc>
    </GUI>
  </transform>
  <transform>
    <name>Select values 9</name>
    <type>SelectValues</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <fields>
      <field>
        <name>FCC_ID_SAP</name>
      </field>
      <field>
        <name>ENTITY_ID</name>
        <rename>BusinessArea</rename>
      </field>
      <select_unspecified>N</select_unspecified>
    </fields>
    <attributes/>
    <GUI>
      <xloc>11360</xloc>
      <yloc>816</yloc>
    </GUI>
  </transform>
  <transform>
    <name>Separate FCCs and Accounts</name>
    <type>FilterRows</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <compare>
      <condition>
        <conditions>
          <condition>
            <conditions>
</conditions>
            <function>=</function>
            <leftvalue>ENTITY_ID</leftvalue>
            <negated>N</negated>
            <operator>-</operator>
            <value>
              <isnull>N</isnull>
              <length>-1</length>
              <name>constant</name>
              <precision>-1</precision>
              <text>SAP</text>
              <type>String</type>
            </value>
          </condition>
        </conditions>
        <function>=</function>
        <negated>N</negated>
        <operator>-</operator>
      </condition>
    </compare>
    <send_false_to>Filter FCCs only</send_false_to>
    <send_true_to>Filter GL Accounts</send_true_to>
    <attributes/>
    <GUI>
      <xloc>1760</xloc>
      <yloc>208</yloc>
    </GUI>
  </transform>
  <transform>
    <name>Set FCC Owner SF</name>
    <type>ScriptValueMod</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <optimizationLevel>9</optimizationLevel>
    <jsScripts>
      <jsScript>
        <jsScript_type>0</jsScript_type>
        <jsScript_name>Script 1</jsScript_name>
        <jsScript_script>
var FCC_Owner_SF = null;

//If a PI does not have an active community license, then make Gert the default owner of the record. The ID is the corresponding USER ID in SF
var FCC_Default_Owner = '0055W000000K8y2QAC' //Gert Wieland

//if (PI_Role_IsActive == "Yes") {

//	FCC_Owner_SF = PI_UserID_SF

//} else {

	//FCC_Owner_SF = FCC_Default_Owner

//}





//if (HasLicense == 'true') {
//		FCC_Owner_SF =  UserID

//	} else {

// FCC_Owner_SF = FCC_Default_Owner //Default is Gert
//}




//if (HasLicense == 'true') {
//Active means User has license
if (UserHasActiveLicense == true) {

		FCC_Owner_SF =  UserID_SF;

	} else {

 FCC_Owner_SF = FCC_Default_Owner //Default is Gert
}

</jsScript_script>
      </jsScript>
    </jsScripts>
    <fields>
      <field>
        <name>FCC_Owner_SF</name>
        <rename>FCC_Owner_SF</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>
    </fields>
    <attributes/>
    <GUI>
      <xloc>4064</xloc>
      <yloc>640</yloc>
    </GUI>
  </transform>
  <transform>
    <name>Sort rows</name>
    <type>SortRows</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <directory>%%java.io.tmpdir%%</directory>
    <prefix>out</prefix>
    <sort_size>1000000</sort_size>
    <free_memory/>
    <compress>N</compress>
    <compress_variable/>
    <unique_rows>N</unique_rows>
    <fields>
      <field>
        <name>FUNCTIONAL_CENTRE</name>
        <ascending>Y</ascending>
        <case_sensitive>N</case_sensitive>
        <collator_enabled>N</collator_enabled>
        <collator_strength>2</collator_strength>
        <presorted>N</presorted>
      </field>
      <field>
        <name>CURRENT_RECORD_INDICATOR</name>
        <ascending>N</ascending>
        <case_sensitive>N</case_sensitive>
        <collator_enabled>N</collator_enabled>
        <collator_strength>2</collator_strength>
        <presorted>N</presorted>
      </field>
    </fields>
    <attributes/>
    <GUI>
      <xloc>1904</xloc>
      <yloc>1312</yloc>
    </GUI>
  </transform>
  <transform>
    <name>Sponsored Program (= Institute)</name>
    <type>TableInput</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>MSSQL_RFSDW</connection>
    <execute_each_row>N</execute_each_row>
    <limit>0</limit>
    <sql>SELECT  [Institute_ID_SAP]
      ,[Institute_Code]
      ,[Institute_Sponsored_Program]
  FROM [salesforce_dim].[Institute]
where [Institute_Sponsored_Program] is not null</sql>
    <variables_active>N</variables_active>
    <attributes/>
    <GUI>
      <xloc>4656</xloc>
      <yloc>528</yloc>
    </GUI>
  </transform>
  <transform>
    <name>Stream lookup</name>
    <type>StreamLookup</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <from>Count PCards</from>
    <input_sorted>N</input_sorted>
    <preserve_memory>Y</preserve_memory>
    <sorted_list>N</sorted_list>
    <integer_pair>N</integer_pair>
    <lookup>
      <key>
        <name>FCC_ID_SAP</name>
        <field>FC</field>
      </key>
      <value>
        <name>NoOfCards</name>
        <rename>NoOfCards</rename>
        <default/>
        <type>Integer</type>
      </value>
    </lookup>
    <attributes/>
    <GUI>
      <xloc>6384</xloc>
      <yloc>640</yloc>
    </GUI>
  </transform>
  <transform>
    <name>Stream lookup 2</name>
    <type>StreamLookup</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <from>Dummy (do nothing)</from>
    <input_sorted>N</input_sorted>
    <preserve_memory>Y</preserve_memory>
    <sorted_list>N</sorted_list>
    <integer_pair>N</integer_pair>
    <lookup>
      <key>
        <name>FCC_ID_SAP</name>
        <field>FUNCTIONAL_CENTRE</field>
      </key>
      <value>
        <name>FCC_KEY</name>
        <rename>FCC_KEY_EDW</rename>
        <default/>
        <type>String</type>
      </value>
    </lookup>
    <attributes/>
    <GUI>
      <xloc>6624</xloc>
      <yloc>640</yloc>
    </GUI>
  </transform>
  <transform>
    <name>Stream lookup 3</name>
    <type>StreamLookup</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <from>Sponsored Program (= Institute)</from>
    <input_sorted>N</input_sorted>
    <preserve_memory>Y</preserve_memory>
    <sorted_list>N</sorted_list>
    <integer_pair>N</integer_pair>
    <lookup>
      <key>
        <name>SponsoredProgram</name>
        <field>Institute_Sponsored_Program</field>
      </key>
      <value>
        <name>Institute_ID_SAP</name>
        <rename>Institute_ID_SF_SAP</rename>
        <default/>
        <type>None</type>
      </value>
      <value>
        <name>Institute_Code</name>
        <rename>Institute_Code_SAP</rename>
        <default/>
        <type>None</type>
      </value>
    </lookup>
    <attributes/>
    <GUI>
      <xloc>4736</xloc>
      <yloc>640</yloc>
    </GUI>
  </transform>
  <transform>
    <name>String operations</name>
    <type>StringOperations</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <fields>
      <field>
        <in_stream_name>GL_Account</in_stream_name>
        <out_stream_name/>
        <trim_type>both</trim_type>
        <lower_upper>none</lower_upper>
        <padding_type>none</padding_type>
        <pad_char/>
        <pad_len/>
        <init_cap>no</init_cap>
        <mask_xml>none</mask_xml>
        <digits>none</digits>
        <remove_special_characters>none</remove_special_characters>
      </field>
      <field>
        <in_stream_name>Acount_Title</in_stream_name>
        <out_stream_name/>
        <trim_type>both</trim_type>
        <lower_upper>none</lower_upper>
        <padding_type>none</padding_type>
        <pad_char/>
        <pad_len/>
        <init_cap>no</init_cap>
        <mask_xml>none</mask_xml>
        <digits>none</digits>
        <remove_special_characters>none</remove_special_characters>
      </field>
      <field>
        <in_stream_name>Level_1_ID</in_stream_name>
        <out_stream_name/>
        <trim_type>both</trim_type>
        <lower_upper>none</lower_upper>
        <padding_type>none</padding_type>
        <pad_char/>
        <pad_len/>
        <init_cap>no</init_cap>
        <mask_xml>none</mask_xml>
        <digits>none</digits>
        <remove_special_characters>none</remove_special_characters>
      </field>
      <field>
        <in_stream_name>Level_2_ID</in_stream_name>
        <out_stream_name/>
        <trim_type>both</trim_type>
        <lower_upper>none</lower_upper>
        <padding_type>none</padding_type>
        <pad_char/>
        <pad_len/>
        <init_cap>no</init_cap>
        <mask_xml>none</mask_xml>
        <digits>none</digits>
        <remove_special_characters>none</remove_special_characters>
      </field>
      <field>
        <in_stream_name>Level_3_ID</in_stream_name>
        <out_stream_name/>
        <trim_type>both</trim_type>
        <lower_upper>none</lower_upper>
        <padding_type>none</padding_type>
        <pad_char/>
        <pad_len/>
        <init_cap>no</init_cap>
        <mask_xml>none</mask_xml>
        <digits>none</digits>
        <remove_special_characters>none</remove_special_characters>
      </field>
      <field>
        <in_stream_name>Level_4_ID</in_stream_name>
        <out_stream_name/>
        <trim_type>both</trim_type>
        <lower_upper>none</lower_upper>
        <padding_type>none</padding_type>
        <pad_char/>
        <pad_len/>
        <init_cap>no</init_cap>
        <mask_xml>none</mask_xml>
        <digits>none</digits>
        <remove_special_characters>none</remove_special_characters>
      </field>
      <field>
        <in_stream_name>Level_5_ID</in_stream_name>
        <out_stream_name/>
        <trim_type>both</trim_type>
        <lower_upper>none</lower_upper>
        <padding_type>none</padding_type>
        <pad_char/>
        <pad_len/>
        <init_cap>no</init_cap>
        <mask_xml>none</mask_xml>
        <digits>none</digits>
        <remove_special_characters>none</remove_special_characters>
      </field>
      <field>
        <in_stream_name>Level_6_ID</in_stream_name>
        <out_stream_name/>
        <trim_type>both</trim_type>
        <lower_upper>none</lower_upper>
        <padding_type>none</padding_type>
        <pad_char/>
        <pad_len/>
        <init_cap>no</init_cap>
        <mask_xml>none</mask_xml>
        <digits>none</digits>
        <remove_special_characters>none</remove_special_characters>
      </field>
      <field>
        <in_stream_name>Level_1_Description</in_stream_name>
        <out_stream_name/>
        <trim_type>both</trim_type>
        <lower_upper>none</lower_upper>
        <padding_type>none</padding_type>
        <pad_char/>
        <pad_len/>
        <init_cap>no</init_cap>
        <mask_xml>none</mask_xml>
        <digits>none</digits>
        <remove_special_characters>none</remove_special_characters>
      </field>
      <field>
        <in_stream_name>Level_2_Description</in_stream_name>
        <out_stream_name/>
        <trim_type>both</trim_type>
        <lower_upper>none</lower_upper>
        <padding_type>none</padding_type>
        <pad_char/>
        <pad_len/>
        <init_cap>no</init_cap>
        <mask_xml>none</mask_xml>
        <digits>none</digits>
        <remove_special_characters>none</remove_special_characters>
      </field>
      <field>
        <in_stream_name>Level_3_Description</in_stream_name>
        <out_stream_name/>
        <trim_type>both</trim_type>
        <lower_upper>none</lower_upper>
        <padding_type>none</padding_type>
        <pad_char/>
        <pad_len/>
        <init_cap>no</init_cap>
        <mask_xml>none</mask_xml>
        <digits>none</digits>
        <remove_special_characters>none</remove_special_characters>
      </field>
      <field>
        <in_stream_name>Level_4_Description</in_stream_name>
        <out_stream_name/>
        <trim_type>both</trim_type>
        <lower_upper>none</lower_upper>
        <padding_type>none</padding_type>
        <pad_char/>
        <pad_len/>
        <init_cap>no</init_cap>
        <mask_xml>none</mask_xml>
        <digits>none</digits>
        <remove_special_characters>none</remove_special_characters>
      </field>
      <field>
        <in_stream_name>Level_5_Description</in_stream_name>
        <out_stream_name/>
        <trim_type>both</trim_type>
        <lower_upper>none</lower_upper>
        <padding_type>none</padding_type>
        <pad_char/>
        <pad_len/>
        <init_cap>no</init_cap>
        <mask_xml>none</mask_xml>
        <digits>none</digits>
        <remove_special_characters>none</remove_special_characters>
      </field>
      <field>
        <in_stream_name>Level_6_Description</in_stream_name>
        <out_stream_name/>
        <trim_type>both</trim_type>
        <lower_upper>none</lower_upper>
        <padding_type>none</padding_type>
        <pad_char/>
        <pad_len/>
        <init_cap>no</init_cap>
        <mask_xml>none</mask_xml>
        <digits>none</digits>
        <remove_special_characters>none</remove_special_characters>
      </field>
    </fields>
    <attributes/>
    <GUI>
      <xloc>2880</xloc>
      <yloc>208</yloc>
    </GUI>
  </transform>
  <transform>
    <name>String operations 4</name>
    <type>StringOperations</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <fields>
      <field>
        <in_stream_name>FOUR_POINT_ID</in_stream_name>
        <out_stream_name>FOUR_POINT_ID_trimmed</out_stream_name>
        <trim_type>both</trim_type>
        <lower_upper>none</lower_upper>
        <padding_type>none</padding_type>
        <pad_char/>
        <pad_len/>
        <init_cap>no</init_cap>
        <mask_xml>none</mask_xml>
        <digits>none</digits>
        <remove_special_characters>none</remove_special_characters>
      </field>
      <field>
        <in_stream_name>FIVE_POINT_ID</in_stream_name>
        <out_stream_name>FIVE_POINT_ID_trimmed</out_stream_name>
        <trim_type>both</trim_type>
        <lower_upper>none</lower_upper>
        <padding_type>none</padding_type>
        <pad_char/>
        <pad_len/>
        <init_cap>no</init_cap>
        <mask_xml>none</mask_xml>
        <digits>none</digits>
        <remove_special_characters>none</remove_special_characters>
      </field>
      <field>
        <in_stream_name>SIX_POINT_ID</in_stream_name>
        <out_stream_name>SIX_POINT_ID_trimmed</out_stream_name>
        <trim_type>both</trim_type>
        <lower_upper>none</lower_upper>
        <padding_type>none</padding_type>
        <pad_char/>
        <pad_len/>
        <init_cap>no</init_cap>
        <mask_xml>none</mask_xml>
        <digits>none</digits>
        <remove_special_characters>none</remove_special_characters>
      </field>
      <field>
        <in_stream_name>ONE_POINT_ID</in_stream_name>
        <out_stream_name>ONE_POINT_ID_trimmed</out_stream_name>
        <trim_type>both</trim_type>
        <lower_upper>none</lower_upper>
        <padding_type>none</padding_type>
        <pad_char/>
        <pad_len/>
        <init_cap>no</init_cap>
        <mask_xml>none</mask_xml>
        <digits>none</digits>
        <remove_special_characters>none</remove_special_characters>
      </field>
      <field>
        <in_stream_name>TWO_POINT_ID</in_stream_name>
        <out_stream_name>TWO_POINT_ID_trimmed</out_stream_name>
        <trim_type>both</trim_type>
        <lower_upper>none</lower_upper>
        <padding_type>none</padding_type>
        <pad_char/>
        <pad_len/>
        <init_cap>no</init_cap>
        <mask_xml>none</mask_xml>
        <digits>none</digits>
        <remove_special_characters>none</remove_special_characters>
      </field>
      <field>
        <in_stream_name>THREE_POINT_ID</in_stream_name>
        <out_stream_name>THREE_POINT_ID_trimmed</out_stream_name>
        <trim_type>both</trim_type>
        <lower_upper>none</lower_upper>
        <padding_type>none</padding_type>
        <pad_char/>
        <pad_len/>
        <init_cap>no</init_cap>
        <mask_xml>none</mask_xml>
        <digits>none</digits>
        <remove_special_characters>none</remove_special_characters>
      </field>
    </fields>
    <attributes/>
    <GUI>
      <xloc>1392</xloc>
      <yloc>208</yloc>
    </GUI>
  </transform>
  <transform>
    <name>Truncate errors_loading.SF_FCC</name>
    <type>ExecSql</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <arguments>
</arguments>
    <connection>MSSQL_RFSDW</connection>
    <execute_each_row>N</execute_each_row>
    <quoteString>N</quoteString>
    <replace_variables>N</replace_variables>
    <set_params>N</set_params>
    <single_statement>N</single_statement>
    <sql>truncate table [errors_loading].[SF_FCC]</sql>
    <attributes/>
    <GUI>
      <xloc>320</xloc>
      <yloc>64</yloc>
    </GUI>
  </transform>
  <transform>
    <name>Tweak splitting rule</name>
    <type>ReplaceString</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <fields>
      <field>
        <case_sensitive>N</case_sensitive>
        <in_stream_name>Splitting_Rule</in_stream_name>
        <is_unicode>N</is_unicode>
        <replace_by_string>2 (Grant Validity period)</replace_by_string>
        <replace_string>Grant Validity period</replace_string>
        <set_empty_string>N</set_empty_string>
        <use_regex>N</use_regex>
        <whole_word>Y</whole_word>
      </field>
      <field>
        <case_sensitive>N</case_sensitive>
        <in_stream_name>Splitting_Rule</in_stream_name>
        <is_unicode>N</is_unicode>
        <replace_by_string>1 (Sponsor's fiscal year)</replace_by_string>
        <replace_string>Sponsor's fiscal year</replace_string>
        <set_empty_string>N</set_empty_string>
        <use_regex>N</use_regex>
        <whole_word>Y</whole_word>
      </field>
    </fields>
    <attributes/>
    <GUI>
      <xloc>5280</xloc>
      <yloc>640</yloc>
    </GUI>
  </transform>
  <transform>
    <name>Unique rows (HashSet)</name>
    <type>UniqueRowsByHashSet</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <store_values>N</store_values>
    <reject_duplicate_row>N</reject_duplicate_row>
    <error_description/>
    <fields>      </fields>
    <attributes/>
    <GUI>
      <xloc>624</xloc>
      <yloc>1024</yloc>
    </GUI>
  </transform>
  <transform>
    <name>Upper Code</name>
    <type>StringOperations</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <fields>
      <field>
        <in_stream_name>Portfolio Code</in_stream_name>
        <out_stream_name/>
        <trim_type>none</trim_type>
        <lower_upper>upper</lower_upper>
        <padding_type>none</padding_type>
        <pad_char/>
        <pad_len/>
        <init_cap>no</init_cap>
        <mask_xml>none</mask_xml>
        <digits>none</digits>
        <remove_special_characters>none</remove_special_characters>
      </field>
    </fields>
    <attributes/>
    <GUI>
      <xloc>4400</xloc>
      <yloc>496</yloc>
    </GUI>
  </transform>
  <transform>
    <name>Upper Portfolio</name>
    <type>StringOperations</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <fields>
      <field>
        <in_stream_name>FinancialPortfolio_In_SF</in_stream_name>
        <out_stream_name/>
        <trim_type>none</trim_type>
        <lower_upper>upper</lower_upper>
        <padding_type>none</padding_type>
        <pad_char/>
        <pad_len/>
        <init_cap>no</init_cap>
        <mask_xml>none</mask_xml>
        <digits>none</digits>
        <remove_special_characters>none</remove_special_characters>
      </field>
      <field>
        <in_stream_name>FinancialPortfolio_KOK5</in_stream_name>
        <out_stream_name/>
        <trim_type>none</trim_type>
        <lower_upper>upper</lower_upper>
        <padding_type>none</padding_type>
        <pad_char/>
        <pad_len/>
        <init_cap>no</init_cap>
        <mask_xml>none</mask_xml>
        <digits>none</digits>
        <remove_special_characters>none</remove_special_characters>
      </field>
      <field>
        <in_stream_name>FinancialPortfolio_SADB</in_stream_name>
        <out_stream_name/>
        <trim_type>none</trim_type>
        <lower_upper>upper</lower_upper>
        <padding_type>none</padding_type>
        <pad_char/>
        <pad_len/>
        <init_cap>no</init_cap>
        <mask_xml>none</mask_xml>
        <digits>none</digits>
        <remove_special_characters>none</remove_special_characters>
      </field>
    </fields>
    <attributes/>
    <GUI>
      <xloc>2608</xloc>
      <yloc>656</yloc>
    </GUI>
  </transform>
  <transform>
    <name>User (to determine Owner) 2</name>
    <type>DBLookup</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <cache>Y</cache>
    <cache_load_all>Y</cache_load_all>
    <cache_size>0</cache_size>
    <connection>MSSQL_RFSDW</connection>
    <lookup>
      <eat_row_on_failure>N</eat_row_on_failure>
      <fail_on_multiple>N</fail_on_multiple>
      <key>
        <condition>=</condition>
        <field>Contact ID</field>
        <name>AccountHolder_ID_SF</name>
      </key>
      <schema>salesforce_dim</schema>
      <table>User</table>
      <value>
        <name>Active</name>
        <rename>UserHasActiveLicense</rename>
        <type>String</type>
      </value>
      <value>
        <name>User ID</name>
        <rename>UserID_SF</rename>
        <type>String</type>
      </value>
    </lookup>
    <attributes/>
    <GUI>
      <xloc>3840</xloc>
      <yloc>640</yloc>
    </GUI>
  </transform>
  <transform>
    <name>bihelper.PCARD_Statements</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>MSSQL_RFSDW</connection>
    <execute_each_row>N</execute_each_row>
    <limit>0</limit>
    <sql>SELECT
FC,"Account Number"
FROM bihelper.PCARD_Statements
where 
"Statement Date" >= DATEADD(DAY, -366, GETDATE())
</sql>
    <variables_active>N</variables_active>
    <attributes/>
    <GUI>
      <xloc>304</xloc>
      <yloc>1024</yloc>
    </GUI>
  </transform>
  <transform_error_handling>
    <error>
      <source_transform>FCC Upsert </source_transform>
      <target_transform>Error Date FCC</target_transform>
      <is_enabled>Y</is_enabled>
      <nr_valuename>NoOfErrors</nr_valuename>
      <descriptions_valuename>ErrorDescription</descriptions_valuename>
      <fields_valuename/>
      <codes_valuename/>
      <max_errors/>
      <max_pct_errors/>
      <min_pct_rows/>
    </error>
    <error>
      <source_transform>GL Account Upsert</source_transform>
      <target_transform>Error Date GL</target_transform>
      <is_enabled>Y</is_enabled>
      <nr_valuename>NoOfErrors</nr_valuename>
      <descriptions_valuename>ErrorDescription</descriptions_valuename>
      <fields_valuename/>
      <codes_valuename/>
      <max_errors/>
      <max_pct_errors/>
      <min_pct_rows/>
    </error>
  </transform_error_handling>
  <attributes/>
</pipeline>
