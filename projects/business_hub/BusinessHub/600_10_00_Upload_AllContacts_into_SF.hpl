<pipeline>
  <info>
    <name>600_10_00_Upload_AllContacts_into_SF</name>
    <name_sync_with_filename>Y</name_sync_with_filename>
    <description/>
    <extended_description/>
    <pipeline_version/>
    <pipeline_type>Normal</pipeline_type>
    <directory>/BusinessHub</directory>
    <parameters>
    </parameters>
    <capture_transform_performance>N</capture_transform_performance>
    <transform_performance_capturing_delay>1000</transform_performance_capturing_delay>
    <transform_performance_capturing_size_limit>100</transform_performance_capturing_size_limit>
    <created_user>gert</created_user>
    <created_date>2022/02/22 16:34:47.780</created_date>
    <modified_user>gert</modified_user>
    <modified_date>2023/03/08 10:36:10.980</modified_date>
    <key_for_session_key>H4sIAAAAAAAAAAMAAAAAAAAAAAA=</key_for_session_key>
    <is_key_private>N</is_key_private>
  </info>
  <notepads>
    <notepad>
      <note>Not updating T-ID for now.
See 650_00_00</note>
      <xloc>8784</xloc>
      <yloc>1200</yloc>
      <width>248</width>
      <heigth>64</heigth>
      <fontname>Segoe UI</fontname>
      <fontsize>10</fontsize>
      <fontbold>N</fontbold>
      <fontitalic>N</fontitalic>
      <fontcolorred>0</fontcolorred>
      <fontcolorgreen>0</fontcolorgreen>
      <fontcolorblue>0</fontcolorblue>
      <backgroundcolorred>255</backgroundcolorred>
      <backgroundcolorgreen>205</backgroundcolorgreen>
      <backgroundcolorblue>112</backgroundcolorblue>
      <bordercolorred>100</bordercolorred>
      <bordercolorgreen>100</bordercolorgreen>
      <bordercolorblue>100</bordercolorblue>
      <drawshadow>Y</drawshadow>
    </notepad>
    <notepad>
      <note>Find Email and ENID in PDB</note>
      <xloc>1744</xloc>
      <yloc>864</yloc>
      <width>426</width>
      <heigth>53</heigth>
      <fontname>Segoe UI</fontname>
      <fontsize>16</fontsize>
      <fontbold>Y</fontbold>
      <fontitalic>N</fontitalic>
      <fontcolorred>0</fontcolorred>
      <fontcolorgreen>0</fontcolorgreen>
      <fontcolorblue>0</fontcolorblue>
      <backgroundcolorred>255</backgroundcolorred>
      <backgroundcolorgreen>205</backgroundcolorgreen>
      <backgroundcolorblue>112</backgroundcolorblue>
      <bordercolorred>100</bordercolorred>
      <bordercolorgreen>100</bordercolorgreen>
      <bordercolorblue>100</bordercolorblue>
      <drawshadow>Y</drawshadow>
    </notepad>
    <notepad>
      <note>Tracked</note>
      <xloc>144</xloc>
      <yloc>64</yloc>
      <width>76</width>
      <heigth>37</heigth>
      <fontname>Segoe UI</fontname>
      <fontsize>10</fontsize>
      <fontbold>N</fontbold>
      <fontitalic>N</fontitalic>
      <fontcolorred>0</fontcolorred>
      <fontcolorgreen>0</fontcolorgreen>
      <fontcolorblue>0</fontcolorblue>
      <backgroundcolorred>255</backgroundcolorred>
      <backgroundcolorgreen>205</backgroundcolorgreen>
      <backgroundcolorblue>112</backgroundcolorblue>
      <bordercolorred>100</bordercolorred>
      <bordercolorgreen>100</bordercolorgreen>
      <bordercolorblue>100</bordercolorblue>
      <drawshadow>Y</drawshadow>
    </notepad>
    <notepad>
      <note>Lookup existing checksum</note>
      <xloc>8240</xloc>
      <yloc>784</yloc>
      <width>239</width>
      <heigth>37</heigth>
      <fontname>Segoe UI</fontname>
      <fontsize>10</fontsize>
      <fontbold>N</fontbold>
      <fontitalic>N</fontitalic>
      <fontcolorred>0</fontcolorred>
      <fontcolorgreen>0</fontcolorgreen>
      <fontcolorblue>0</fontcolorblue>
      <backgroundcolorred>255</backgroundcolorred>
      <backgroundcolorgreen>205</backgroundcolorgreen>
      <backgroundcolorblue>112</backgroundcolorblue>
      <bordercolorred>100</bordercolorred>
      <bordercolorgreen>100</bordercolorgreen>
      <bordercolorblue>100</bordercolorblue>
      <drawshadow>Y</drawshadow>
    </notepad>
    <notepad>
      <note>Also search where email = UPN</note>
      <xloc>8016</xloc>
      <yloc>960</yloc>
      <width>257</width>
      <heigth>34</heigth>
      <fontname>Segoe UI</fontname>
      <fontsize>9</fontsize>
      <fontbold>N</fontbold>
      <fontitalic>N</fontitalic>
      <fontcolorred>0</fontcolorred>
      <fontcolorgreen>0</fontcolorgreen>
      <fontcolorblue>0</fontcolorblue>
      <backgroundcolorred>255</backgroundcolorred>
      <backgroundcolorgreen>205</backgroundcolorgreen>
      <backgroundcolorblue>112</backgroundcolorblue>
      <bordercolorred>100</bordercolorred>
      <bordercolorgreen>100</bordercolorgreen>
      <bordercolorblue>100</bordercolorblue>
      <drawshadow>Y</drawshadow>
    </notepad>
    <notepad>
      <note>This is just a "quick'n dirty" solution. 
It's too slow and needs a better aproach.</note>
      <xloc>416</xloc>
      <yloc>1424</yloc>
      <width>333</width>
      <heigth>58</heigth>
      <fontname>Segoe UI</fontname>
      <fontsize>9</fontsize>
      <fontbold>N</fontbold>
      <fontitalic>N</fontitalic>
      <fontcolorred>0</fontcolorred>
      <fontcolorgreen>0</fontcolorgreen>
      <fontcolorblue>0</fontcolorblue>
      <backgroundcolorred>255</backgroundcolorred>
      <backgroundcolorgreen>205</backgroundcolorgreen>
      <backgroundcolorblue>112</backgroundcolorblue>
      <bordercolorred>100</bordercolorred>
      <bordercolorgreen>100</bordercolorgreen>
      <bordercolorblue>100</bordercolorblue>
      <drawshadow>Y</drawshadow>
    </notepad>
  </notepads>
  <order>
    <hop>
      <from>Find existing UPN, Fed_ID</from>
      <to>Set UPN, Fed_ID</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Set UPN, Fed_ID</from>
      <to>Dummy (do nothing) 2</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Copy of Institute</from>
      <to>Replace in string</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Replace in string</from>
      <to>Find Institute SF ID</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Select values 11</from>
      <to>Copy of Institute</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Select values 2</from>
      <to>remove "inactive"</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>String operations 2</from>
      <to>Select values 11</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>remove "inactive"</from>
      <to>String operations 2</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>EDW_HR_INDIVIDUAL</from>
      <to>Stream lookup</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Calculator</from>
      <to>Stream lookup</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Stream lookup</from>
      <to>Stream lookup 2</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Row denormaliser</from>
      <to>Stream lookup 2</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Record Type Name</from>
      <to>RecordType</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>RecordType</from>
      <to>Find Institute SF ID 2</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>String operations 3</from>
      <to>Must have ENID and Email</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Job, Position, Location</from>
      <to>Status in PDB</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>bihelper.PDB_MainEmailList</from>
      <to>Append streams</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Find Institute SF ID 2</from>
      <to>SF Contacts</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>SF Contacts</from>
      <to>Consolidation</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>FCC</from>
      <to>ENID</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>ENID</from>
      <to>Stream lookup 3</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>String operations</from>
      <to>Stream lookup 3</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Append streams</from>
      <to>Sort rows</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Sort rows</from>
      <to>Sorted merge</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Must have ENID and Email</from>
      <to>Find UPN by PDB_Email</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Sorted merge</from>
      <to>Unique rows</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Unique rows</from>
      <to>Find Employee ID</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Find UPN by PDB_Email</from>
      <to>Find UPN by T-D from Contact</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Dummy (do nothing)</from>
      <to>UPN consolidated</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Find UPN by T-D from Contact</from>
      <to>Dummy (do nothing)</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Dummy (do nothing) 2</from>
      <to>Stream lookup 4</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Contact</from>
      <to>String operations 4</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>String operations 4</from>
      <to>Select values 3</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Select values 4</from>
      <to>Append streams</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Replace in string 2</from>
      <to>Find existing UPN, Fed_ID</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Stream lookup 4</from>
      <to>Stream lookup 5</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Consolidation</from>
      <to>Find User</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Find User</from>
      <to>Job, Position, Location</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Find Institute SF ID</from>
      <to>Calculator</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Select values 3</from>
      <to>Filter rows 3</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Filter rows 3</from>
      <to>Stream lookup 4</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Select values 3</from>
      <to>Filter rows 4</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Filter rows 4</from>
      <to>Stream lookup 5</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Stream lookup 5</from>
      <to>Keep existing Email</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>UPN consolidated</from>
      <to>Add a checksum</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Stream lookup 2</from>
      <to>Block this step until steps finish</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Is ENID numeric?</from>
      <to>Only numeric ENIDs</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>PI Master File</from>
      <to>Is ENID numeric?</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Only numeric ENIDs</from>
      <to>Dummy (do nothing) 4</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Dummy (do nothing) 4</from>
      <to>Select values 4</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Dummy (do nothing) 4</from>
      <to>Select values 2</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Stream lookup 3</from>
      <to>Record Type Name</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Error Date Transactions</from>
      <to>Insert / update</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>SF Contact</from>
      <to>Error Date Transactions</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Dummy (do nothing) 3</from>
      <to>Select values 5</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Add a checksum</from>
      <to>Checksum errors</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Status in PDB</from>
      <to>Select values</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Find Employee ID</from>
      <to>Employee ID numeric?</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Employee ID numeric?</from>
      <to>Select values 6</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Select values 6</from>
      <to>Remove non-numeric Employee ID</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Remove non-numeric Employee ID</from>
      <to>EDW_HR_INDIVIDUAL</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Cleansing</from>
      <to>String operations 3</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Select values 5</from>
      <to>Just temp for verification</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Select values</from>
      <to>Cleansing</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Keep existing Email</from>
      <to>Dummy (do nothing) 3</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Checksum errors</from>
      <to>Only new</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Only new</from>
      <to>Replace in string 2</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Select values 5</from>
      <to>SF Contact</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Email</from>
      <to>String operations</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Current EVSQN</from>
      <to>Current name per ENID in PDB</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Current name per ENID in PDB</from>
      <to>Row denormaliser</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Block this step until steps finish</from>
      <to>Email</to>
      <enabled>Y</enabled>
    </hop>
  </order>
  <transform>
    <name>Add a checksum</name>
    <type>CheckSum</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <checksumtype>SHA-256</checksumtype>
    <resultfieldName>Checksum_FlagChanges</resultfieldName>
    <resultType>hexadecimal</resultType>
    <compatibilityMode>N</compatibilityMode>
    <oldChecksumBehaviour>N</oldChecksumBehaviour>
    <fieldSeparatorString>-</fieldSeparatorString>
    <checksumtype>SHA-256</checksumtype>
    <resultfieldName>Checksum_FlagChanges</resultfieldName>
    <resultType>hexadecimal</resultType>
    <compatibilityMode>N</compatibilityMode>
    <oldChecksumBehaviour>N</oldChecksumBehaviour>
    <fieldSeparatorString>-</fieldSeparatorString>
    <fields>
      <field>
        <name>AccountID</name>
      </field>
      <field>
        <name>AccountID_In_SF</name>
      </field>
      <field>
        <name>CPSO_Licence</name>
      </field>
      <field>
        <name>Checksum_FlagChanges_existing</name>
      </field>
      <field>
        <name>ClinicalCategory</name>
      </field>
      <field>
        <name>ClinicalDepartment</name>
      </field>
      <field>
        <name>ENID</name>
      </field>
      <field>
        <name>Email</name>
      </field>
      <field>
        <name>Email_PDB</name>
      </field>
      <field>
        <name>Email_Source</name>
      </field>
      <field>
        <name>Employee_ID</name>
      </field>
      <field>
        <name>Employee_ID_PDB</name>
      </field>
      <field>
        <name>Employee_ID_Source</name>
      </field>
      <field>
        <name>FirstName</name>
      </field>
      <field>
        <name>FirstName_HR_Individual</name>
      </field>
      <field>
        <name>FirstName_PDB</name>
      </field>
      <field>
        <name>IsPI</name>
      </field>
      <field>
        <name>Job</name>
      </field>
      <field>
        <name>LastName</name>
      </field>
      <field>
        <name>LastName_HR_Individual</name>
      </field>
      <field>
        <name>LastName_PDB</name>
      </field>
      <field>
        <name>Location</name>
      </field>
      <field>
        <name>Name_Source</name>
      </field>
      <field>
        <name>PI_Account</name>
      </field>
      <field>
        <name>PI_Email</name>
      </field>
      <field>
        <name>PI_FirstName_MasterList</name>
      </field>
      <field>
        <name>PI_LastName_MasterList</name>
      </field>
      <field>
        <name>PI_Status_MasterList</name>
      </field>
      <field>
        <name>PI_Type</name>
      </field>
      <field>
        <name>Position</name>
      </field>
      <field>
        <name>PrimaryAppointment</name>
      </field>
      <field>
        <name>PrimaryResearchInstitute</name>
      </field>
      <field>
        <name>PrimaryResearchInstitute_ID_SF</name>
      </field>
      <field>
        <name>PrimaryResearchInstitute_SAP_ID</name>
      </field>
      <field>
        <name>RecordTypeName_ForContact</name>
      </field>
      <field>
        <name>Record_Type_ID</name>
      </field>
      <field>
        <name>Source_PI_Master_File</name>
      </field>
      <field>
        <name>Status_411_Directory</name>
      </field>
      <field>
        <name>UserProfile_In_SF</name>
      </field>
      <field>
        <name>T_ID_SF_Contact</name>
      </field>
      <field>
        <name>User_ID_SF</name>
      </field>
      <field>
        <name>UPN_lowercase_by_PDB_Email</name>
      </field>
      <field>
        <name>Federation_ID_PDB_Email</name>
      </field>
      <field>
        <name>UPN_lowercase_by_Contact_T_ID</name>
      </field>
      <field>
        <name>Federation_ID_by_Contact_T_ID</name>
      </field>
      <field>
        <name>userPrincipalName_consolidated</name>
      </field>
      <field>
        <name>Federation_ID_consolidated</name>
      </field>
    </fields>
    <attributes/>
    <cluster_schema/>
    <GUI>
      <xloc>8368</xloc>
      <yloc>1008</yloc>
      <draw>Y</draw>
    </GUI>
  </transform>
  <transform>
    <name>Append streams</name>
    <type>Append</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <head_name>bihelper.PDB_MainEmailList</head_name>
    <tail_name>Select values 4</tail_name>
    <attributes/>
    <cluster_schema/>
    <GUI>
      <xloc>1264</xloc>
      <yloc>1008</yloc>
      <draw>Y</draw>
    </GUI>
  </transform>
  <transform>
    <name>Block this step until steps finish</name>
    <type>BlockUntilTransformsFinish</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <transforms>
      <transform>
        <name>Truncate Error Table</name>
        <CopyNr>0</CopyNr>
      </transform>
    </transforms>
    <attributes/>
    <cluster_schema/>
    <GUI>
      <xloc>3632</xloc>
      <yloc>1008</yloc>
      <draw>Y</draw>
    </GUI>
  </transform>
  <transform>
    <name>Calculator</name>
    <type>Calculator</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <failIfNoFile>Y</failIfNoFile>
    <calculation>
      <field_name>Source_PI_Master_File</field_name>
      <calc_type>CONSTANT</calc_type>
      <field_a>PI Master File</field_a>
      <field_b/>
      <field_c/>
      <value_type>String</value_type>
      <value_length>-1</value_length>
      <value_precision>-1</value_precision>
      <remove>N</remove>
      <conversion_mask/>
      <decimal_symbol/>
      <grouping_symbol/>
      <currency_symbol/>
    </calculation>
    <attributes/>
    <cluster_schema/>
    <GUI>
      <xloc>3216</xloc>
      <yloc>1296</yloc>
      <draw>Y</draw>
    </GUI>
  </transform>
  <transform>
    <name>Checksum errors</name>
    <type>DBLookup</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>MSSQL_RFSDW</connection>
    <cache>Y</cache>
    <cache_load_all>Y</cache_load_all>
    <cache_size>0</cache_size>
    <lookup>
      <schema>errors_loading</schema>
      <table>SF_Contacts</table>
      <orderby/>
      <fail_on_multiple>N</fail_on_multiple>
      <eat_row_on_failure>N</eat_row_on_failure>
      <key>
        <name>Checksum_FlagChanges</name>
        <field>Checksum_FlagChanges_Errors</field>
        <condition>=</condition>
        <name2/>
      </key>
      <value>
        <name>Checksum_FlagChanges_Errors</name>
        <rename>Checksum_FlagChanges_Errors</rename>
        <default/>
        <type>String</type>
      </value>
    </lookup>
    <attributes/>
    <cluster_schema/>
    <GUI>
      <xloc>8560</xloc>
      <yloc>1008</yloc>
      <draw>Y</draw>
    </GUI>
  </transform>
  <transform>
    <name>Cleansing</name>
    <type>ScriptValueMod</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <compatible>N</compatible>
    <optimizationLevel>9</optimizationLevel>
    <jsScripts>
      <jsScript>
        <jsScript_type>0</jsScript_type>
        <jsScript_name>Script 1</jsScript_name>
        <jsScript_script>
//If no institute known, assign to Placeholder (SF Account ID 0015W000003RGT9QAO)
if (PrimaryResearchInstitute_ID_SF === null) {
PrimaryResearchInstitute_ID_SF = '0015W000003RGT9QAO'
}

//For Institute Manager User, keep the AccountID (= PrimaryResearchInstitute) from Salesforce
if (UserProfile_In_SF == 'Institute Manager User') {
PrimaryResearchInstitute_ID_SF = AccountID_In_SF
}



//In the Business Hub, show only status Active or Inactive
if (Status_411_Directory != 'Active') {
	Status_411_Directory = 'Inactive'
}</jsScript_script>
      </jsScript>
    </jsScripts>
    <fields>
      <field>
        <name>AccountID</name>
        <rename>AccountID</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>Y</replace>
      </field>
      <field>
        <name>PrimaryResearchInstitute_ID_SF</name>
        <rename>PrimaryResearchInstitute_ID_SF</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>Y</replace>
      </field>
      <field>
        <name>Status_411_Directory</name>
        <rename>Status_411_Directory</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>Y</replace>
      </field>
    </fields>
    <attributes/>
    <cluster_schema/>
    <GUI>
      <xloc>6960</xloc>
      <yloc>1008</yloc>
      <draw>Y</draw>
    </GUI>
  </transform>
  <transform>
    <name>Consolidation</name>
    <type>ScriptValueMod</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <compatible>N</compatible>
    <optimizationLevel>9</optimizationLevel>
    <jsScripts>
      <jsScript>
        <jsScript_type>0</jsScript_type>
        <jsScript_name>Script 1</jsScript_name>
        <jsScript_script>//Script here


var AccountID = null;


switch (true) {
//	case PI_Account !== null:
//		AccountID = PI_Account;
//		break;

//Only update 'Account ID' (= Institute) for PIs
	case IsPI = 'Yes':
		AccountID = PI_Account;
		break;		

//If not PI, then leave setting in SF unchanged (i. e. for Non-PIs, Institute will be updated only directly in SF)	
	default:
	AccountID = AccountID_In_SF;
	
}


</jsScript_script>
      </jsScript>
    </jsScripts>
    <fields>
      <field>
        <name>AccountID</name>
        <rename>AccountID</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>
    </fields>
    <attributes/>
    <cluster_schema/>
    <GUI>
      <xloc>5696</xloc>
      <yloc>1008</yloc>
      <draw>Y</draw>
    </GUI>
  </transform>
  <transform>
    <name>Contact</name>
    <type>SalesforceInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <targeturl>${GW_Salesforce_Webservice_URL}</targeturl>
    <username>${GW_Salesforce_UserName}</username>
    <password>${GW_Salesforce_Password}</password>
    <timeout>60000</timeout>
    <useCompression>N</useCompression>
    <module>Contact</module>
    <condition/>
    <specifyQuery>N</specifyQuery>
    <query/>
    <include_targeturl>N</include_targeturl>
    <targeturl_field/>
    <include_module>N</include_module>
    <module_field/>
    <include_rownum>N</include_rownum>
    <include_deletion_date>N</include_deletion_date>
    <deletion_date_field/>
    <rownum_field/>
    <include_sql>N</include_sql>
    <sql_field/>
    <include_Timestamp>N</include_Timestamp>
    <timestamp_field/>
    <read_from/>
    <read_to/>
    <records_filter>all</records_filter>
    <queryAll>N</queryAll>
    <fields>
      <field>
        <name>Contact ID</name>
        <field>Id</field>
        <idlookup>Y</idlookup>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>18</length>
        <precision>0</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>Deleted</name>
        <field>IsDeleted</field>
        <idlookup>N</idlookup>
        <type>Boolean</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>Master Record ID</name>
        <field>MasterRecordId</field>
        <idlookup>N</idlookup>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>18</length>
        <precision>0</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>Entity Name</name>
        <field>AccountId</field>
        <idlookup>N</idlookup>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>18</length>
        <precision>0</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>Last Name</name>
        <field>LastName</field>
        <idlookup>N</idlookup>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>80</length>
        <precision>0</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>First Name</name>
        <field>FirstName</field>
        <idlookup>N</idlookup>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>40</length>
        <precision>0</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>Salutation</name>
        <field>Salutation</field>
        <idlookup>N</idlookup>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>40</length>
        <precision>0</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>Middle Name</name>
        <field>MiddleName</field>
        <idlookup>N</idlookup>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>40</length>
        <precision>0</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>Suffix</name>
        <field>Suffix</field>
        <idlookup>N</idlookup>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>40</length>
        <precision>0</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>Full Name</name>
        <field>Name</field>
        <idlookup>N</idlookup>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>121</length>
        <precision>0</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>Record Type ID</name>
        <field>RecordTypeId</field>
        <idlookup>N</idlookup>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>18</length>
        <precision>0</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>Mailing Street</name>
        <field>MailingStreet</field>
        <idlookup>N</idlookup>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>255</length>
        <precision>0</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>Mailing City</name>
        <field>MailingCity</field>
        <idlookup>N</idlookup>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>40</length>
        <precision>0</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>Mailing State/Province</name>
        <field>MailingState</field>
        <idlookup>N</idlookup>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>80</length>
        <precision>0</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>Mailing Zip/Postal Code</name>
        <field>MailingPostalCode</field>
        <idlookup>N</idlookup>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>20</length>
        <precision>0</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>Mailing Country</name>
        <field>MailingCountry</field>
        <idlookup>N</idlookup>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>80</length>
        <precision>0</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>Mailing Latitude</name>
        <field>MailingLatitude</field>
        <idlookup>N</idlookup>
        <type>Number</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>0</length>
        <precision>18</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>Mailing Longitude</name>
        <field>MailingLongitude</field>
        <idlookup>N</idlookup>
        <type>Number</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>0</length>
        <precision>18</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>Mailing Geocode Accuracy</name>
        <field>MailingGeocodeAccuracy</field>
        <idlookup>N</idlookup>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>40</length>
        <precision>0</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>Mailing Address</name>
        <field>MailingAddress</field>
        <idlookup>N</idlookup>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>0</length>
        <precision>0</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>Business Phone</name>
        <field>Phone</field>
        <idlookup>N</idlookup>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>40</length>
        <precision>0</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>Business Fax</name>
        <field>Fax</field>
        <idlookup>N</idlookup>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>40</length>
        <precision>0</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>Mobile Phone</name>
        <field>MobilePhone</field>
        <idlookup>N</idlookup>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>40</length>
        <precision>0</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>Reports To ID</name>
        <field>ReportsToId</field>
        <idlookup>N</idlookup>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>18</length>
        <precision>0</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>Email</name>
        <field>Email</field>
        <idlookup>Y</idlookup>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>80</length>
        <precision>0</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>Title</name>
        <field>Title</field>
        <idlookup>N</idlookup>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>128</length>
        <precision>0</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>Department</name>
        <field>Department</field>
        <idlookup>N</idlookup>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>80</length>
        <precision>0</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>Owner ID</name>
        <field>OwnerId</field>
        <idlookup>N</idlookup>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>18</length>
        <precision>0</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>Created Date</name>
        <field>CreatedDate</field>
        <idlookup>N</idlookup>
        <type>Date</type>
        <format>yyyy-MM-dd'T'HH:mm:ss'.000'XXX</format>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>Created By ID</name>
        <field>CreatedById</field>
        <idlookup>N</idlookup>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>18</length>
        <precision>0</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>Last Modified Date</name>
        <field>LastModifiedDate</field>
        <idlookup>N</idlookup>
        <type>Date</type>
        <format>yyyy-MM-dd'T'HH:mm:ss'.000'XXX</format>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>Last Modified By ID</name>
        <field>LastModifiedById</field>
        <idlookup>N</idlookup>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>18</length>
        <precision>0</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>System Modstamp</name>
        <field>SystemModstamp</field>
        <idlookup>N</idlookup>
        <type>Date</type>
        <format>yyyy-MM-dd'T'HH:mm:ss'.000'XXX</format>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>Last Activity</name>
        <field>LastActivityDate</field>
        <idlookup>N</idlookup>
        <type>Date</type>
        <format>yyyy-MM-dd</format>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>Last Stay-in-Touch Request Date</name>
        <field>LastCURequestDate</field>
        <idlookup>N</idlookup>
        <type>Date</type>
        <format>yyyy-MM-dd'T'HH:mm:ss'.000'XXX</format>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>Last Stay-in-Touch Save Date</name>
        <field>LastCUUpdateDate</field>
        <idlookup>N</idlookup>
        <type>Date</type>
        <format>yyyy-MM-dd'T'HH:mm:ss'.000'XXX</format>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>Last Viewed Date</name>
        <field>LastViewedDate</field>
        <idlookup>N</idlookup>
        <type>Date</type>
        <format>yyyy-MM-dd'T'HH:mm:ss'.000'XXX</format>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>Last Referenced Date</name>
        <field>LastReferencedDate</field>
        <idlookup>N</idlookup>
        <type>Date</type>
        <format>yyyy-MM-dd'T'HH:mm:ss'.000'XXX</format>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>Email Bounced Reason</name>
        <field>EmailBouncedReason</field>
        <idlookup>N</idlookup>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>255</length>
        <precision>0</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>Email Bounced Date</name>
        <field>EmailBouncedDate</field>
        <idlookup>N</idlookup>
        <type>Date</type>
        <format>yyyy-MM-dd'T'HH:mm:ss'.000'XXX</format>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>Is Email Bounced</name>
        <field>IsEmailBounced</field>
        <idlookup>N</idlookup>
        <type>Boolean</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>Photo URL</name>
        <field>PhotoUrl</field>
        <idlookup>N</idlookup>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>255</length>
        <precision>0</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>Data.com Key</name>
        <field>Jigsaw</field>
        <idlookup>N</idlookup>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>20</length>
        <precision>0</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>Jigsaw Contact ID</name>
        <field>JigsawContactId</field>
        <idlookup>N</idlookup>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>20</length>
        <precision>0</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>Individual ID</name>
        <field>IndividualId</field>
        <idlookup>N</idlookup>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>18</length>
        <precision>0</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>Currency Test</name>
        <field>rh2__Currency_Test__c</field>
        <idlookup>N</idlookup>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>0</length>
        <precision>18</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>Describe</name>
        <field>rh2__Describe__c</field>
        <idlookup>N</idlookup>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>18</length>
        <precision>0</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>Formula Test</name>
        <field>rh2__Formula_Test__c</field>
        <idlookup>N</idlookup>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>0</length>
        <precision>18</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>Integer Test</name>
        <field>rh2__Integer_Test__c</field>
        <idlookup>N</idlookup>
        <type>Number</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>0</length>
        <precision>3</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>Active As Delegate</name>
        <field>UHN_Active__c</field>
        <idlookup>N</idlookup>
        <type>Boolean</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>ECode</name>
        <field>UHN_ECode__c</field>
        <idlookup>N</idlookup>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>10</length>
        <precision>0</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>ENID</name>
        <field>UHN_ENID__c</field>
        <idlookup>Y</idlookup>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>20</length>
        <precision>0</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>Employee ID</name>
        <field>UHN_Employee_ID__c</field>
        <idlookup>N</idlookup>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>20</length>
        <precision>0</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>Is PI</name>
        <field>UHN_IS_PI__c</field>
        <idlookup>N</idlookup>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>1300</length>
        <precision>0</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>411 Directory Status</name>
        <field>UHN_411_Directory_Status__c</field>
        <idlookup>N</idlookup>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>255</length>
        <precision>0</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>PI Status</name>
        <field>UHN_PI_Status__c</field>
        <idlookup>N</idlookup>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>255</length>
        <precision>0</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>PI Type</name>
        <field>UHN_PI_Type__c</field>
        <idlookup>N</idlookup>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>255</length>
        <precision>0</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>Research Appointment Type</name>
        <field>UHN_Research_Appointment_Type__c</field>
        <idlookup>N</idlookup>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>1300</length>
        <precision>0</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>Research Appointment</name>
        <field>UHN_Research_Appointment__c</field>
        <idlookup>N</idlookup>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>255</length>
        <precision>0</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>Signature Image URL</name>
        <field>UHN_Signature_Image_URL__c</field>
        <idlookup>N</idlookup>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>255</length>
        <precision>0</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>Signature Image</name>
        <field>UHN_Signature_Image__c</field>
        <idlookup>N</idlookup>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>1300</length>
        <precision>0</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>T-ID</name>
        <field>UHN_T_ID__c</field>
        <idlookup>N</idlookup>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>20</length>
        <precision>0</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>Total Funding</name>
        <field>UHN_Total_Funding__c</field>
        <idlookup>N</idlookup>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>0</length>
        <precision>18</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>Total Open Funding</name>
        <field>UHN_Total_Open_Funding__c</field>
        <idlookup>N</idlookup>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>0</length>
        <precision>18</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>CPSO Licence</name>
        <field>UHN_CPSO_Licence__c</field>
        <idlookup>N</idlookup>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>50</length>
        <precision>0</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>Has CPSO License</name>
        <field>UHN_Has_CPSO_License__c</field>
        <idlookup>N</idlookup>
        <type>Boolean</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>User Profile</name>
        <field>UHN_User_Profile__c</field>
        <idlookup>N</idlookup>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>1300</length>
        <precision>0</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>No of red/yellow accounts</name>
        <field>UHN_No_of_redyellow_accounts__c</field>
        <idlookup>N</idlookup>
        <type>Number</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>0</length>
        <precision>3</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>Number of Open FCCs</name>
        <field>UHN_Number_of_Open_FCC__c</field>
        <idlookup>N</idlookup>
        <type>Number</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>0</length>
        <precision>18</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>Employee ID Status</name>
        <field>UHN_Employee_ID_Status__c</field>
        <idlookup>N</idlookup>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>255</length>
        <precision>0</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>Number of active delegate records</name>
        <field>UHN_number_of_active_delegate_records__c</field>
        <idlookup>N</idlookup>
        <type>Number</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>0</length>
        <precision>16</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>Email (Unique)</name>
        <field>UHN_Email_Unique__c</field>
        <idlookup>N</idlookup>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>100</length>
        <precision>0</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>411 Directory</name>
        <field>UHN_411_Directory_Link__c</field>
        <idlookup>N</idlookup>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>1300</length>
        <precision>0</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>Email Data Source</name>
        <field>UHN_Email_Data_Source__c</field>
        <idlookup>N</idlookup>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>50</length>
        <precision>0</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>PI Master File</name>
        <field>UHN_PI_Master_File_Link__c</field>
        <idlookup>N</idlookup>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>1300</length>
        <precision>0</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>User</name>
        <field>UHN_User__c</field>
        <idlookup>N</idlookup>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>18</length>
        <precision>0</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>Checksum (Flag changes)</name>
        <field>UHN_Checksum_FlagChanges__c</field>
        <idlookup>N</idlookup>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>64</length>
        <precision>0</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>Full Name</name>
        <field>UHN_Full_Name__c</field>
        <idlookup>N</idlookup>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>1300</length>
        <precision>0</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>Licence Type</name>
        <field>UHN_Licence_Type__c</field>
        <idlookup>N</idlookup>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>1300</length>
        <precision>0</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>Job</name>
        <field>UHN_Job__c</field>
        <idlookup>N</idlookup>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>150</length>
        <precision>0</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>Position</name>
        <field>UHN_Position__c</field>
        <idlookup>N</idlookup>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>150</length>
        <precision>0</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>Location</name>
        <field>UHN_Location__c</field>
        <idlookup>N</idlookup>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>150</length>
        <precision>0</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>Clinical Department</name>
        <field>UHN_Clinical_Department__c</field>
        <idlookup>N</idlookup>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>150</length>
        <precision>0</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>Sub-Institute</name>
        <field>UHN_Sub_Institute__c</field>
        <idlookup>N</idlookup>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>255</length>
        <precision>0</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>Last Login</name>
        <field>UHN_Last_Login__c</field>
        <idlookup>N</idlookup>
        <type>Date</type>
        <format>yyyy-MM-dd'T'HH:mm:ss'.000'XXX</format>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>Active User</name>
        <field>UHN_Active_User__c</field>
        <idlookup>N</idlookup>
        <type>Boolean</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>AD Account Name</name>
        <field>UHN_AD_Account_Name__c</field>
        <idlookup>N</idlookup>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>150</length>
        <precision>0</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>No of Active Delegate Records w/ Signing</name>
        <field>UHN_No_of_Active_Delegate_Records_w_Sign__c</field>
        <idlookup>N</idlookup>
        <type>Number</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>0</length>
        <precision>18</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>Is Current UHN employee</name>
        <field>UHN_Is_Current_UHN_employee__c</field>
        <idlookup>N</idlookup>
        <type>Boolean</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>Sub-institute (Multi)</name>
        <field>UHN_Sub_Institute_Multi__c</field>
        <idlookup>N</idlookup>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>4099</length>
        <precision>4</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>UofT PI ID</name>
        <field>UofT_PI_ID__c</field>
        <idlookup>N</idlookup>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>30</length>
        <precision>0</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>Exclude from Email Notification</name>
        <field>UHN_Exclude_from_Email_Notification__c</field>
        <idlookup>N</idlookup>
        <type>Boolean</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
    </fields>
    <limit>0</limit>
    <attributes/>
    <cluster_schema/>
    <GUI>
      <xloc>9648</xloc>
      <yloc>560</yloc>
      <draw>Y</draw>
    </GUI>
  </transform>
  <transform>
    <name>Copy of Institute</name>
    <type>Calculator</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <failIfNoFile>Y</failIfNoFile>
    <calculation>
      <field_name>PrimaryResearchInstitute_SAP_ID</field_name>
      <calc_type>COPY_FIELD</calc_type>
      <field_a>PrimaryResearchInstitute</field_a>
      <field_b/>
      <field_c/>
      <value_type>String</value_type>
      <value_length>-1</value_length>
      <value_precision>-1</value_precision>
      <remove>N</remove>
      <conversion_mask/>
      <decimal_symbol/>
      <grouping_symbol/>
      <currency_symbol/>
    </calculation>
    <attributes/>
    <cluster_schema/>
    <GUI>
      <xloc>2224</xloc>
      <yloc>1296</yloc>
      <draw>Y</draw>
    </GUI>
  </transform>
  <transform>
    <name>Current EVSQN</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>MSSQL_RFSDW</connection>
    <sql>--Order of fields matters for next step, do not change.
SELECT
 ENID
, Current_Valid_EVSQN
FROM pdb.STDB_ENTITYNAME_Current_EVSQN

</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
    <cached_row_meta_active>N</cached_row_meta_active>
    <row-meta>
      <value-meta>
        <type>String</type>
        <storagetype>normal</storagetype>
        <name>ENID</name>
        <length>20</length>
        <precision>-1</precision>
        <origin>Current EVSQN</origin>
        <comments>ENID</comments>
        <conversion_Mask/>
        <decimal_symbol>.</decimal_symbol>
        <grouping_symbol>,</grouping_symbol>
        <currency_symbol/>
        <trim_type>none</trim_type>
        <case_insensitive>N</case_insensitive>
        <collator_disabled>Y</collator_disabled>
        <collator_strength>0</collator_strength>
        <sort_descending>N</sort_descending>
        <output_padding>N</output_padding>
        <date_format_lenient>N</date_format_lenient>
        <date_format_locale>en_US</date_format_locale>
        <date_format_timezone>America/New_York</date_format_timezone>
        <lenient_string_to_number>N</lenient_string_to_number>
      </value-meta>
      <value-meta>
        <type>Integer</type>
        <storagetype>normal</storagetype>
        <name>Current_Valid_EVSQN</name>
        <length>15</length>
        <precision>0</precision>
        <origin>Current EVSQN</origin>
        <comments>Current_Valid_EVSQN</comments>
        <conversion_Mask>####0;-####0</conversion_Mask>
        <decimal_symbol>.</decimal_symbol>
        <grouping_symbol>,</grouping_symbol>
        <currency_symbol/>
        <trim_type>none</trim_type>
        <case_insensitive>N</case_insensitive>
        <collator_disabled>Y</collator_disabled>
        <collator_strength>0</collator_strength>
        <sort_descending>N</sort_descending>
        <output_padding>N</output_padding>
        <date_format_lenient>N</date_format_lenient>
        <date_format_locale>en_US</date_format_locale>
        <date_format_timezone>America/New_York</date_format_timezone>
        <lenient_string_to_number>N</lenient_string_to_number>
      </value-meta>
    </row-meta>
    <attributes/>
    <cluster_schema/>
    <GUI>
      <xloc>384</xloc>
      <yloc>1536</yloc>
      <draw>Y</draw>
    </GUI>
  </transform>
  <transform>
    <name>Current name per ENID in PDB</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>MSSQL_RFSDW</connection>
    <sql>SELECT
ENID
, NAME
, NAMEINDEX



FROM pdb.STDB_ENTITYNAME

--Field order in where block needs to match order of incoming stream
where ENID = ? and EVSQN = ?

ORDER BY ENID, NAMEINDEX


</sql>
    <limit>0</limit>
    <lookup>Current EVSQN</lookup>
    <execute_each_row>Y</execute_each_row>
    <variables_active>Y</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
    <cached_row_meta_active>N</cached_row_meta_active>
    <row-meta>
      <value-meta>
        <type>String</type>
        <storagetype>normal</storagetype>
        <name>ENID</name>
        <length>100</length>
        <precision>-1</precision>
        <origin>Current name per ENID in PDB</origin>
        <comments>ENID</comments>
        <conversion_Mask/>
        <decimal_symbol>.</decimal_symbol>
        <grouping_symbol>,</grouping_symbol>
        <currency_symbol/>
        <trim_type>none</trim_type>
        <case_insensitive>N</case_insensitive>
        <collator_disabled>Y</collator_disabled>
        <collator_strength>0</collator_strength>
        <sort_descending>N</sort_descending>
        <output_padding>N</output_padding>
        <date_format_lenient>N</date_format_lenient>
        <date_format_locale>en_US</date_format_locale>
        <date_format_timezone>America/New_York</date_format_timezone>
        <lenient_string_to_number>N</lenient_string_to_number>
      </value-meta>
      <value-meta>
        <type>String</type>
        <storagetype>normal</storagetype>
        <name>NAME</name>
        <length>70</length>
        <precision>-1</precision>
        <origin>Current name per ENID in PDB</origin>
        <comments>NAME</comments>
        <conversion_Mask/>
        <decimal_symbol>.</decimal_symbol>
        <grouping_symbol>,</grouping_symbol>
        <currency_symbol/>
        <trim_type>none</trim_type>
        <case_insensitive>N</case_insensitive>
        <collator_disabled>Y</collator_disabled>
        <collator_strength>0</collator_strength>
        <sort_descending>N</sort_descending>
        <output_padding>N</output_padding>
        <date_format_lenient>N</date_format_lenient>
        <date_format_locale>en_US</date_format_locale>
        <date_format_timezone>America/New_York</date_format_timezone>
        <lenient_string_to_number>N</lenient_string_to_number>
      </value-meta>
      <value-meta>
        <type>Integer</type>
        <storagetype>normal</storagetype>
        <name>NAMEINDEX</name>
        <length>9</length>
        <precision>0</precision>
        <origin>Current name per ENID in PDB</origin>
        <comments>NAMEINDEX</comments>
        <conversion_Mask>####0;-####0</conversion_Mask>
        <decimal_symbol>.</decimal_symbol>
        <grouping_symbol>,</grouping_symbol>
        <currency_symbol/>
        <trim_type>none</trim_type>
        <case_insensitive>N</case_insensitive>
        <collator_disabled>Y</collator_disabled>
        <collator_strength>0</collator_strength>
        <sort_descending>N</sort_descending>
        <output_padding>N</output_padding>
        <date_format_lenient>N</date_format_lenient>
        <date_format_locale>en_US</date_format_locale>
        <date_format_timezone>America/New_York</date_format_timezone>
        <lenient_string_to_number>N</lenient_string_to_number>
      </value-meta>
    </row-meta>
    <attributes/>
    <cluster_schema/>
    <GUI>
      <xloc>704</xloc>
      <yloc>1536</yloc>
      <draw>Y</draw>
    </GUI>
  </transform>
  <transform>
    <name>Dummy (do nothing)</name>
    <type>Dummy</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <attributes/>
    <cluster_schema/>
    <GUI>
      <xloc>8016</xloc>
      <yloc>832</yloc>
      <draw>Y</draw>
    </GUI>
  </transform>
  <transform>
    <name>Dummy (do nothing) 2</name>
    <type>Dummy</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <attributes/>
    <cluster_schema/>
    <GUI>
      <xloc>9360</xloc>
      <yloc>1008</yloc>
      <draw>Y</draw>
    </GUI>
  </transform>
  <transform>
    <name>Dummy (do nothing) 3</name>
    <type>Dummy</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <attributes/>
    <cluster_schema/>
    <GUI>
      <xloc>10160</xloc>
      <yloc>1008</yloc>
      <draw>Y</draw>
    </GUI>
  </transform>
  <transform>
    <name>Dummy (do nothing) 4</name>
    <type>Dummy</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <attributes/>
    <cluster_schema/>
    <GUI>
      <xloc>896</xloc>
      <yloc>1232</yloc>
      <draw>Y</draw>
    </GUI>
  </transform>
  <transform>
    <name>EDW_HR_INDIVIDUAL</name>
    <type>DBLookup</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>MSSQL_RFSDW</connection>
    <cache>Y</cache>
    <cache_load_all>Y</cache_load_all>
    <cache_size>0</cache_size>
    <lookup>
      <schema>edwhr</schema>
      <table>EDW_HR_INDIVIDUAL</table>
      <orderby/>
      <fail_on_multiple>N</fail_on_multiple>
      <eat_row_on_failure>N</eat_row_on_failure>
      <key>
        <name>Employee_ID_PDB</name>
        <field>INDIVIDUAL_ID</field>
        <condition>=</condition>
        <name2/>
      </key>
      <value>
        <name>FIRST_NAME</name>
        <rename>FirstName_HR_Individual</rename>
        <default/>
        <type>String</type>
      </value>
      <value>
        <name>SURNAME</name>
        <rename>LastName_HR_Individual</rename>
        <default/>
        <type>String</type>
      </value>
    </lookup>
    <attributes/>
    <cluster_schema/>
    <GUI>
      <xloc>3040</xloc>
      <yloc>1008</yloc>
      <draw>Y</draw>
    </GUI>
  </transform>
  <transform>
    <name>ENID</name>
    <type>DBLookup</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>MSSQL_RFSDW</connection>
    <cache>Y</cache>
    <cache_load_all>Y</cache_load_all>
    <cache_size>0</cache_size>
    <lookup>
      <schema>salesforce_dim</schema>
      <table>Contact</table>
      <orderby/>
      <fail_on_multiple>N</fail_on_multiple>
      <eat_row_on_failure>N</eat_row_on_failure>
      <key>
        <name>Account Holder</name>
        <field>Contact ID</field>
        <condition>=</condition>
        <name2/>
      </key>
      <value>
        <name>ENID</name>
        <rename>ENID_FCC_Master</rename>
        <default/>
        <type>String</type>
      </value>
    </lookup>
    <attributes/>
    <cluster_schema/>
    <GUI>
      <xloc>4464</xloc>
      <yloc>800</yloc>
      <draw>Y</draw>
    </GUI>
  </transform>
  <transform>
    <name>Email</name>
    <type>ScriptValueMod</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <compatible>N</compatible>
    <optimizationLevel>9</optimizationLevel>
    <jsScripts>
      <jsScript>
        <jsScript_type>0</jsScript_type>
        <jsScript_name>Script 1</jsScript_name>
        <jsScript_script>//Script here

var FirstName = null;
var LastName = null;
var Name_Source = null;

var Employee_ID = null;
var Employee_ID_Source = null;

var Email = null;
var Email_Source = null;


//Set first and last name
switch (true) {
	case FirstName_PDB !== null &amp;&amp; LastName_PDB !== null:
		FirstName = FirstName_PDB;
		LastName = LastName_PDB;
		Name_Source = 'PDB';
		break;

	case FirstName_HR_Individual !== null &amp;&amp; LastName_HR_Individual !== null:
		FirstName = FirstName_HR_Individual;
		LastName = LastName_HR_Individual;
		Name_Source = 'VIP';
		break;

	case PI_FirstName_MasterList !== null &amp;&amp; PI_LastName_MasterList !== null:
		FirstName = PI_FirstName_MasterList;
		LastName = PI_LastName_MasterList;
		Name_Source = 'PI Master File';
		break;
}

//Set Employee ID
Employee_ID = Employee_ID_PDB;
Employee_ID_Source = 'PDB'


//Set Email
switch (true) {
	//Give PI email priority, therefore first in order
	case PI_Email !== null:
		Email = PI_Email;
		Email_Source = 'PI Master File'
		break;

	case Email_PDB !== null:
		Email = Email_PDB;
		Email_Source = 'PDB'
		break;


	}</jsScript_script>
      </jsScript>
    </jsScripts>
    <fields>
      <field>
        <name>FirstName</name>
        <rename>FirstName</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>
      <field>
        <name>LastName</name>
        <rename>LastName</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>
      <field>
        <name>Name_Source</name>
        <rename>Name_Source</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>
      <field>
        <name>Employee_ID</name>
        <rename>Employee_ID</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>
      <field>
        <name>Employee_ID_Source</name>
        <rename>Employee_ID_Source</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>
      <field>
        <name>Email</name>
        <rename>Email</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>
      <field>
        <name>Email_Source</name>
        <rename>Email_Source</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>
    </fields>
    <attributes/>
    <cluster_schema/>
    <GUI>
      <xloc>4064</xloc>
      <yloc>1008</yloc>
      <draw>Y</draw>
    </GUI>
  </transform>
  <transform>
    <name>Employee ID numeric?</name>
    <type>RegexEval</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <script>^[0-9]*$</script>
    <matcher>Employee_ID_PDB</matcher>
    <resultfieldname>Is_Employee_ID_PDB_numeric</resultfieldname>
    <usevar>N</usevar>
    <allowcapturegroups>N</allowcapturegroups>
    <replacefields>Y</replacefields>
    <canoneq>N</canoneq>
    <caseinsensitive>N</caseinsensitive>
    <comment>N</comment>
    <dotall>N</dotall>
    <multiline>N</multiline>
    <unicode>N</unicode>
    <unix>N</unix>
    <fields>
    </fields>
    <attributes/>
    <cluster_schema/>
    <GUI>
      <xloc>2336</xloc>
      <yloc>1008</yloc>
      <draw>Y</draw>
    </GUI>
  </transform>
  <transform>
    <name>Error Date Transactions</name>
    <type>SystemInfo</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <fields>
      <field>
        <name>ErrorDate</name>
        <type>system date (variable)</type>
      </field>
    </fields>
    <attributes/>
    <cluster_schema/>
    <GUI>
      <xloc>10560</xloc>
      <yloc>800</yloc>
      <draw>Y</draw>
    </GUI>
  </transform>
  <transform>
    <name>FCC</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>MSSQL_RFSDW</connection>
    <sql>SELECT distinct "Account Holder"
FROM salesforce_dim.FCC
</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
    <cached_row_meta_active>N</cached_row_meta_active>
    <row-meta>
      <value-meta>
        <type>String</type>
        <storagetype>normal</storagetype>
        <name>Account Holder</name>
        <length>18</length>
        <precision>-1</precision>
        <origin>FCC</origin>
        <comments>Account Holder</comments>
        <conversion_Mask/>
        <decimal_symbol>.</decimal_symbol>
        <grouping_symbol>,</grouping_symbol>
        <currency_symbol/>
        <trim_type>none</trim_type>
        <case_insensitive>N</case_insensitive>
        <collator_disabled>Y</collator_disabled>
        <collator_strength>0</collator_strength>
        <sort_descending>N</sort_descending>
        <output_padding>N</output_padding>
        <date_format_lenient>N</date_format_lenient>
        <date_format_locale>en_US</date_format_locale>
        <date_format_timezone>America/New_York</date_format_timezone>
        <lenient_string_to_number>N</lenient_string_to_number>
      </value-meta>
    </row-meta>
    <attributes/>
    <cluster_schema/>
    <GUI>
      <xloc>4464</xloc>
      <yloc>672</yloc>
      <draw>Y</draw>
    </GUI>
  </transform>
  <transform>
    <name>Filter rows 3</name>
    <type>FilterRows</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <send_true_to>Stream lookup 4</send_true_to>
    <send_false_to/>
    <compare>
      <condition>
        <negated>N</negated>
        <leftvalue>Email_InSF</leftvalue>
        <function>IS NOT NULL</function>
        <rightvalue/>
      </condition>
    </compare>
    <attributes/>
    <cluster_schema/>
    <GUI>
      <xloc>9552</xloc>
      <yloc>896</yloc>
      <draw>Y</draw>
    </GUI>
  </transform>
  <transform>
    <name>Filter rows 4</name>
    <type>FilterRows</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <send_true_to>Stream lookup 5</send_true_to>
    <send_false_to/>
    <compare>
      <condition>
        <negated>N</negated>
        <leftvalue>ENID_InSF</leftvalue>
        <function>IS NOT NULL</function>
        <rightvalue/>
      </condition>
    </compare>
    <attributes/>
    <cluster_schema/>
    <GUI>
      <xloc>9728</xloc>
      <yloc>896</yloc>
      <draw>Y</draw>
    </GUI>
  </transform>
  <transform>
    <name>Find Employee ID</name>
    <type>DBLookup</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>MSSQL_RFSDW</connection>
    <cache>Y</cache>
    <cache_load_all>Y</cache_load_all>
    <cache_size>0</cache_size>
    <lookup>
      <schema>bihelper</schema>
      <table>PDB_MainEmailList</table>
      <orderby/>
      <fail_on_multiple>N</fail_on_multiple>
      <eat_row_on_failure>N</eat_row_on_failure>
      <key>
        <name>ENID</name>
        <field>ENID</field>
        <condition>=</condition>
        <name2/>
      </key>
      <value>
        <name>EMAILADDRESS</name>
        <rename>Email_PDB</rename>
        <default/>
        <type>String</type>
      </value>
      <value>
        <name>EMPLOYEE_ID</name>
        <rename>Employee_ID_PDB</rename>
        <default/>
        <type>String</type>
      </value>
    </lookup>
    <attributes/>
    <cluster_schema/>
    <GUI>
      <xloc>2128</xloc>
      <yloc>1008</yloc>
      <draw>Y</draw>
    </GUI>
  </transform>
  <transform>
    <name>Find Institute SF ID</name>
    <type>DBLookup</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>MSSQL_RFSDW</connection>
    <cache>Y</cache>
    <cache_load_all>Y</cache_load_all>
    <cache_size>0</cache_size>
    <lookup>
      <schema>salesforce_dim</schema>
      <table>Institute</table>
      <orderby/>
      <fail_on_multiple>N</fail_on_multiple>
      <eat_row_on_failure>N</eat_row_on_failure>
      <key>
        <name>PrimaryResearchInstitute_SAP_ID</name>
        <field>Institute_ID_SAP</field>
        <condition>=</condition>
        <name2/>
      </key>
      <value>
        <name>Institute_ID_SF</name>
        <rename>PrimaryResearchInstitute_ID_SF</rename>
        <default/>
        <type>String</type>
      </value>
    </lookup>
    <attributes/>
    <cluster_schema/>
    <GUI>
      <xloc>2880</xloc>
      <yloc>1296</yloc>
      <draw>Y</draw>
    </GUI>
  </transform>
  <transform>
    <name>Find Institute SF ID 2</name>
    <type>DBLookup</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>MSSQL_RFSDW</connection>
    <cache>Y</cache>
    <cache_load_all>Y</cache_load_all>
    <cache_size>0</cache_size>
    <lookup>
      <schema>salesforce_dim</schema>
      <table>Entity</table>
      <orderby/>
      <fail_on_multiple>N</fail_on_multiple>
      <eat_row_on_failure>N</eat_row_on_failure>
      <key>
        <name>PrimaryResearchInstitute_SAP_ID</name>
        <field>SAP Id</field>
        <condition>=</condition>
        <name2/>
      </key>
      <value>
        <name>Entity ID</name>
        <rename>PI_Account</rename>
        <default/>
        <type>String</type>
      </value>
    </lookup>
    <attributes/>
    <cluster_schema/>
    <GUI>
      <xloc>5200</xloc>
      <yloc>1008</yloc>
      <draw>Y</draw>
    </GUI>
  </transform>
  <transform>
    <name>Find UPN by PDB_Email</name>
    <type>DBLookup</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>MSSQL_RFSDW</connection>
    <cache>Y</cache>
    <cache_load_all>Y</cache_load_all>
    <cache_size>0</cache_size>
    <lookup>
      <schema>activedirectory</schema>
      <table>LDAP</table>
      <orderby/>
      <fail_on_multiple>N</fail_on_multiple>
      <eat_row_on_failure>N</eat_row_on_failure>
      <key>
        <name>Email</name>
        <field>mail_lowercase</field>
        <condition>=</condition>
        <name2/>
      </key>
      <value>
        <name>userPrincipalName_lowercase</name>
        <rename>UPN_lowercase_by_PDB_Email</rename>
        <default/>
        <type>String</type>
      </value>
      <value>
        <name>sAMAccountName</name>
        <rename>Federation_ID_PDB_Email</rename>
        <default/>
        <type>String</type>
      </value>
    </lookup>
    <attributes/>
    <cluster_schema/>
    <GUI>
      <xloc>7648</xloc>
      <yloc>1008</yloc>
      <draw>Y</draw>
    </GUI>
  </transform>
  <transform>
    <name>Find UPN by T-D from Contact</name>
    <type>DBLookup</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>MSSQL_RFSDW</connection>
    <cache>Y</cache>
    <cache_load_all>N</cache_load_all>
    <cache_size>0</cache_size>
    <lookup>
      <schema>activedirectory</schema>
      <table>LDAP</table>
      <orderby/>
      <fail_on_multiple>N</fail_on_multiple>
      <eat_row_on_failure>N</eat_row_on_failure>
      <key>
        <name>T_ID_SF_Contact</name>
        <field>sAMAccountName</field>
        <condition>=</condition>
        <name2/>
      </key>
      <value>
        <name>userPrincipalName_lowercase</name>
        <rename>UPN_lowercase_by_Contact_T_ID</rename>
        <default/>
        <type>String</type>
      </value>
      <value>
        <name>sAMAccountName</name>
        <rename>Federation_ID_by_Contact_T_ID</rename>
        <default/>
        <type>String</type>
      </value>
    </lookup>
    <attributes/>
    <cluster_schema/>
    <GUI>
      <xloc>7792</xloc>
      <yloc>832</yloc>
      <draw>Y</draw>
    </GUI>
  </transform>
  <transform>
    <name>Find User</name>
    <type>DBLookup</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>MSSQL_RFSDW</connection>
    <cache>Y</cache>
    <cache_load_all>Y</cache_load_all>
    <cache_size>0</cache_size>
    <lookup>
      <schema>salesforce_dim</schema>
      <table>User</table>
      <orderby/>
      <fail_on_multiple>N</fail_on_multiple>
      <eat_row_on_failure>N</eat_row_on_failure>
      <key>
        <name>Email</name>
        <field>Email</field>
        <condition>=</condition>
        <name2/>
      </key>
      <value>
        <name>User ID</name>
        <rename>User_ID_SF</rename>
        <default/>
        <type>String</type>
      </value>
    </lookup>
    <attributes/>
    <cluster_schema/>
    <GUI>
      <xloc>5936</xloc>
      <yloc>1008</yloc>
      <draw>Y</draw>
    </GUI>
  </transform>
  <transform>
    <name>Find existing UPN, Fed_ID</name>
    <type>DBLookup</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>MSSQL_RFSDW</connection>
    <cache>Y</cache>
    <cache_load_all>Y</cache_load_all>
    <cache_size>0</cache_size>
    <lookup>
      <schema>salesforce_dim</schema>
      <table>User</table>
      <orderby/>
      <fail_on_multiple>N</fail_on_multiple>
      <eat_row_on_failure>N</eat_row_on_failure>
      <key>
        <name>User_ID_SF</name>
        <field>User ID</field>
        <condition>=</condition>
        <name2/>
      </key>
      <value>
        <name>userPrincipalName</name>
        <rename>UPN_in_SF</rename>
        <default/>
        <type>String</type>
      </value>
      <value>
        <name>SAML Federation ID</name>
        <rename>Federation_ID_in_SF</rename>
        <default/>
        <type>String</type>
      </value>
    </lookup>
    <attributes/>
    <cluster_schema/>
    <GUI>
      <xloc>9024</xloc>
      <yloc>1008</yloc>
      <draw>Y</draw>
    </GUI>
  </transform>
  <transform>
    <name>Insert / update</name>
    <type>InsertUpdate</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>MSSQL_RFSDW</connection>
    <commit>1</commit>
    <update_bypassed>N</update_bypassed>
    <lookup>
      <schema>errors_loading</schema>
      <table>SF_Contacts</table>
      <key>
        <name>ENID</name>
        <field>ENID</field>
        <condition>=</condition>
        <name2/>
      </key>
      <value>
        <name>Checksum_FlagChanges</name>
        <rename>Checksum_FlagChanges</rename>
        <update>Y</update>
      </value>
      <value>
        <name>ClinicalDepartment</name>
        <rename>ClinicalDepartment</rename>
        <update>Y</update>
      </value>
      <value>
        <name>ENID</name>
        <rename>ENID</rename>
        <update>Y</update>
      </value>
      <value>
        <name>Email</name>
        <rename>Email</rename>
        <update>Y</update>
      </value>
      <value>
        <name>Email_Source</name>
        <rename>Email_Source</rename>
        <update>Y</update>
      </value>
      <value>
        <name>Employee_ID</name>
        <rename>Employee_ID</rename>
        <update>Y</update>
      </value>
      <value>
        <name>FirstName</name>
        <rename>FirstName</rename>
        <update>Y</update>
      </value>
      <value>
        <name>Job</name>
        <rename>Job</rename>
        <update>Y</update>
      </value>
      <value>
        <name>LastName</name>
        <rename>LastName</rename>
        <update>Y</update>
      </value>
      <value>
        <name>Location</name>
        <rename>Location</rename>
        <update>Y</update>
      </value>
      <value>
        <name>PI_Status_MasterList</name>
        <rename>PI_Status_MasterList</rename>
        <update>Y</update>
      </value>
      <value>
        <name>PI_Type</name>
        <rename>PI_Type</rename>
        <update>Y</update>
      </value>
      <value>
        <name>Position</name>
        <rename>Position</rename>
        <update>Y</update>
      </value>
      <value>
        <name>PrimaryAppointment</name>
        <rename>PrimaryAppointment</rename>
        <update>Y</update>
      </value>
      <value>
        <name>PrimaryResearchInstitute_ID_SF</name>
        <rename>PrimaryResearchInstitute_ID_SF</rename>
        <update>Y</update>
      </value>
      <value>
        <name>Record_Type_ID</name>
        <rename>Record_Type_ID</rename>
        <update>Y</update>
      </value>
      <value>
        <name>Status_411_Directory</name>
        <rename>Status_411_Directory</rename>
        <update>Y</update>
      </value>
      <value>
        <name>NoOfErrors</name>
        <rename>NoOfErrors</rename>
        <update>Y</update>
      </value>
      <value>
        <name>ErrorDescription</name>
        <rename>ErrorDescription</rename>
        <update>Y</update>
      </value>
      <value>
        <name>ErrorDate</name>
        <rename>ErrorDate</rename>
        <update>Y</update>
      </value>
    </lookup>
    <attributes/>
    <cluster_schema/>
    <GUI>
      <xloc>10752</xloc>
      <yloc>800</yloc>
      <draw>Y</draw>
    </GUI>
  </transform>
  <transform>
    <name>Is ENID numeric?</name>
    <type>RegexEval</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <script>^[0-9]*$</script>
    <matcher>ENID</matcher>
    <resultfieldname>Is_ENID_numeric</resultfieldname>
    <usevar>N</usevar>
    <allowcapturegroups>N</allowcapturegroups>
    <replacefields>Y</replacefields>
    <canoneq>N</canoneq>
    <caseinsensitive>N</caseinsensitive>
    <comment>N</comment>
    <dotall>N</dotall>
    <multiline>N</multiline>
    <unicode>N</unicode>
    <unix>N</unix>
    <fields>
    </fields>
    <attributes/>
    <cluster_schema/>
    <GUI>
      <xloc>464</xloc>
      <yloc>1232</yloc>
      <draw>Y</draw>
    </GUI>
  </transform>
  <transform>
    <name>Job, Position, Location</name>
    <type>DBLookup</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>MSSQL_RFSDW</connection>
    <cache>Y</cache>
    <cache_load_all>Y</cache_load_all>
    <cache_size>0</cache_size>
    <lookup>
      <schema>bihrdim</schema>
      <table>Individual</table>
      <orderby/>
      <fail_on_multiple>N</fail_on_multiple>
      <eat_row_on_failure>N</eat_row_on_failure>
      <key>
        <name>Employee_ID</name>
        <field>INDIVIDUAL_ID</field>
        <condition>=</condition>
        <name2/>
      </key>
      <value>
        <name>JOB_DETAIL_NAME_ENGLISH</name>
        <rename>Job</rename>
        <default/>
        <type>String</type>
      </value>
      <value>
        <name>POSITION_NAME_ONE</name>
        <rename>Position</rename>
        <default/>
        <type>String</type>
      </value>
      <value>
        <name>LOCATION_ENGLISH_NAME</name>
        <rename>Location</rename>
        <default/>
        <type>String</type>
      </value>
      <value>
        <name>Email</name>
        <rename>Email_bihrdim_Individual</rename>
        <default/>
        <type>String</type>
      </value>
    </lookup>
    <attributes/>
    <cluster_schema/>
    <GUI>
      <xloc>6176</xloc>
      <yloc>1008</yloc>
      <draw>Y</draw>
    </GUI>
  </transform>
  <transform>
    <name>Just temp for verification</name>
    <type>TableOutput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>MSSQL_RFSDW</connection>
    <schema>bihelper</schema>
    <table>Contacts_Output_600_10_00</table>
    <commit>1000</commit>
    <truncate>Y</truncate>
    <ignore_errors>N</ignore_errors>
    <use_batch>Y</use_batch>
    <specify_fields>Y</specify_fields>
    <partitioning_enabled>N</partitioning_enabled>
    <partitioning_field/>
    <partitioning_daily>N</partitioning_daily>
    <partitioning_monthly>Y</partitioning_monthly>
    <tablename_in_field>N</tablename_in_field>
    <tablename_field/>
    <tablename_in_table>Y</tablename_in_table>
    <return_keys>N</return_keys>
    <return_field/>
    <fields>
      <field>
        <column_name>Checksum_FlagChanges</column_name>
        <stream_name>Checksum_FlagChanges</stream_name>
      </field>
      <field>
        <column_name>ClinicalDepartment</column_name>
        <stream_name>ClinicalDepartment</stream_name>
      </field>
      <field>
        <column_name>ENID</column_name>
        <stream_name>ENID</stream_name>
      </field>
      <field>
        <column_name>Email</column_name>
        <stream_name>Email</stream_name>
      </field>
      <field>
        <column_name>Email_Source</column_name>
        <stream_name>Email_Source</stream_name>
      </field>
      <field>
        <column_name>Employee_ID</column_name>
        <stream_name>Employee_ID</stream_name>
      </field>
      <field>
        <column_name>FirstName</column_name>
        <stream_name>FirstName</stream_name>
      </field>
      <field>
        <column_name>Job</column_name>
        <stream_name>Job</stream_name>
      </field>
      <field>
        <column_name>LastName</column_name>
        <stream_name>LastName</stream_name>
      </field>
      <field>
        <column_name>Location</column_name>
        <stream_name>Location</stream_name>
      </field>
      <field>
        <column_name>PI_Status_MasterList</column_name>
        <stream_name>PI_Status_MasterList</stream_name>
      </field>
      <field>
        <column_name>PI_Type</column_name>
        <stream_name>PI_Type</stream_name>
      </field>
      <field>
        <column_name>Position</column_name>
        <stream_name>Position</stream_name>
      </field>
      <field>
        <column_name>PrimaryAppointment</column_name>
        <stream_name>PrimaryAppointment</stream_name>
      </field>
      <field>
        <column_name>PrimaryResearchInstitute_ID_SF</column_name>
        <stream_name>PrimaryResearchInstitute_ID_SF</stream_name>
      </field>
      <field>
        <column_name>Record_Type_ID</column_name>
        <stream_name>Record_Type_ID</stream_name>
      </field>
      <field>
        <column_name>Status_411_Directory</column_name>
        <stream_name>Status_411_Directory</stream_name>
      </field>
    </fields>
    <attributes/>
    <cluster_schema/>
    <GUI>
      <xloc>10368</xloc>
      <yloc>1184</yloc>
      <draw>Y</draw>
    </GUI>
  </transform>
  <transform>
    <name>Keep existing Email</name>
    <type>ScriptValueMod</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <compatible>N</compatible>
    <optimizationLevel>9</optimizationLevel>
    <jsScripts>
      <jsScript>
        <jsScript_type>0</jsScript_type>
        <jsScript_name>Script 1</jsScript_name>
        <jsScript_script>//Script here

//Do not change/update email addresses once they exist in the Business Hub
if (Email_InSF !== null) {	
	Email = Email_InSF
}


	</jsScript_script>
      </jsScript>
    </jsScripts>
    <fields>
      <field>
        <name>Email</name>
        <rename>Email</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>Y</replace>
      </field>
    </fields>
    <attributes/>
    <cluster_schema/>
    <GUI>
      <xloc>9936</xloc>
      <yloc>1008</yloc>
      <draw>Y</draw>
    </GUI>
  </transform>
  <transform>
    <name>Must have ENID and Email</name>
    <type>FilterRows</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <send_true_to>Find UPN by PDB_Email</send_true_to>
    <send_false_to/>
    <compare>
      <condition>
        <negated>N</negated>
        <conditions>
          <condition>
            <negated>N</negated>
            <leftvalue>ENID</leftvalue>
            <function>IS NOT NULL</function>
            <rightvalue/>
          </condition>
          <condition>
            <negated>N</negated>
            <operator>AND</operator>
            <leftvalue>Email</leftvalue>
            <function>IS NOT NULL</function>
            <rightvalue/>
          </condition>
        </conditions>
      </condition>
    </compare>
    <attributes/>
    <cluster_schema/>
    <GUI>
      <xloc>7408</xloc>
      <yloc>1008</yloc>
      <draw>Y</draw>
    </GUI>
  </transform>
  <transform>
    <name>Only new</name>
    <type>FilterRows</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <send_true_to>Replace in string 2</send_true_to>
    <send_false_to/>
    <compare>
      <condition>
        <negated>N</negated>
        <conditions>
          <condition>
            <negated>N</negated>
            <leftvalue>Checksum_FlagChanges_existing</leftvalue>
            <function>&lt;></function>
            <rightvalue>Checksum_FlagChanges</rightvalue>
          </condition>
        </conditions>
      </condition>
    </compare>
    <attributes/>
    <cluster_schema/>
    <GUI>
      <xloc>8688</xloc>
      <yloc>1008</yloc>
      <draw>Y</draw>
    </GUI>
  </transform>
  <transform>
    <name>Only numeric ENIDs</name>
    <type>FilterRows</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <send_true_to>Dummy (do nothing) 4</send_true_to>
    <send_false_to/>
    <compare>
      <condition>
        <negated>N</negated>
        <leftvalue>Is_ENID_numeric</leftvalue>
        <function>=</function>
        <rightvalue/>
        <value>
          <name>constant</name>
          <type>Boolean</type>
          <text>Y</text>
          <length>-1</length>
          <precision>-1</precision>
          <isnull>N</isnull>
          <mask/>
        </value>
      </condition>
    </compare>
    <attributes/>
    <cluster_schema/>
    <GUI>
      <xloc>688</xloc>
      <yloc>1232</yloc>
      <draw>Y</draw>
    </GUI>
  </transform>
  <transform>
    <name>PI Master File</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>MSSQL_RFSDW</connection>
    <sql>SELECT *
FROM pidata.PI_Master_File
</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
    <cached_row_meta_active>N</cached_row_meta_active>
    <row-meta>
      <value-meta>
        <type>String</type>
        <storagetype>normal</storagetype>
        <name>ENID</name>
        <length>20</length>
        <precision>-1</precision>
        <origin>PI Master File</origin>
        <comments>ENID</comments>
        <conversion_Mask/>
        <decimal_symbol>.</decimal_symbol>
        <grouping_symbol>,</grouping_symbol>
        <currency_symbol/>
        <trim_type>none</trim_type>
        <case_insensitive>N</case_insensitive>
        <collator_disabled>Y</collator_disabled>
        <collator_strength>0</collator_strength>
        <sort_descending>N</sort_descending>
        <output_padding>N</output_padding>
        <date_format_lenient>N</date_format_lenient>
        <date_format_locale>en_US</date_format_locale>
        <date_format_timezone>America/New_York</date_format_timezone>
        <lenient_string_to_number>N</lenient_string_to_number>
      </value-meta>
      <value-meta>
        <type>String</type>
        <storagetype>normal</storagetype>
        <name>LastName</name>
        <length>100</length>
        <precision>-1</precision>
        <origin>PI Master File</origin>
        <comments>LastName</comments>
        <conversion_Mask/>
        <decimal_symbol>.</decimal_symbol>
        <grouping_symbol>,</grouping_symbol>
        <currency_symbol/>
        <trim_type>none</trim_type>
        <case_insensitive>N</case_insensitive>
        <collator_disabled>Y</collator_disabled>
        <collator_strength>0</collator_strength>
        <sort_descending>N</sort_descending>
        <output_padding>N</output_padding>
        <date_format_lenient>N</date_format_lenient>
        <date_format_locale>en_US</date_format_locale>
        <date_format_timezone>America/New_York</date_format_timezone>
        <lenient_string_to_number>N</lenient_string_to_number>
      </value-meta>
      <value-meta>
        <type>String</type>
        <storagetype>normal</storagetype>
        <name>FirstName</name>
        <length>100</length>
        <precision>-1</precision>
        <origin>PI Master File</origin>
        <comments>FirstName</comments>
        <conversion_Mask/>
        <decimal_symbol>.</decimal_symbol>
        <grouping_symbol>,</grouping_symbol>
        <currency_symbol/>
        <trim_type>none</trim_type>
        <case_insensitive>N</case_insensitive>
        <collator_disabled>Y</collator_disabled>
        <collator_strength>0</collator_strength>
        <sort_descending>N</sort_descending>
        <output_padding>N</output_padding>
        <date_format_lenient>N</date_format_lenient>
        <date_format_locale>en_US</date_format_locale>
        <date_format_timezone>America/New_York</date_format_timezone>
        <lenient_string_to_number>N</lenient_string_to_number>
      </value-meta>
      <value-meta>
        <type>String</type>
        <storagetype>normal</storagetype>
        <name>Status</name>
        <length>100</length>
        <precision>-1</precision>
        <origin>PI Master File</origin>
        <comments>Status</comments>
        <conversion_Mask/>
        <decimal_symbol>.</decimal_symbol>
        <grouping_symbol>,</grouping_symbol>
        <currency_symbol/>
        <trim_type>none</trim_type>
        <case_insensitive>N</case_insensitive>
        <collator_disabled>Y</collator_disabled>
        <collator_strength>0</collator_strength>
        <sort_descending>N</sort_descending>
        <output_padding>N</output_padding>
        <date_format_lenient>N</date_format_lenient>
        <date_format_locale>en_US</date_format_locale>
        <date_format_timezone>America/New_York</date_format_timezone>
        <lenient_string_to_number>N</lenient_string_to_number>
      </value-meta>
      <value-meta>
        <type>String</type>
        <storagetype>normal</storagetype>
        <name>StatusComment</name>
        <length>100</length>
        <precision>-1</precision>
        <origin>PI Master File</origin>
        <comments>StatusComment</comments>
        <conversion_Mask/>
        <decimal_symbol>.</decimal_symbol>
        <grouping_symbol>,</grouping_symbol>
        <currency_symbol/>
        <trim_type>none</trim_type>
        <case_insensitive>N</case_insensitive>
        <collator_disabled>Y</collator_disabled>
        <collator_strength>0</collator_strength>
        <sort_descending>N</sort_descending>
        <output_padding>N</output_padding>
        <date_format_lenient>N</date_format_lenient>
        <date_format_locale>en_US</date_format_locale>
        <date_format_timezone>America/New_York</date_format_timezone>
        <lenient_string_to_number>N</lenient_string_to_number>
      </value-meta>
      <value-meta>
        <type>String</type>
        <storagetype>normal</storagetype>
        <name>SearchFilter</name>
        <length>20</length>
        <precision>-1</precision>
        <origin>PI Master File</origin>
        <comments>SearchFilter</comments>
        <conversion_Mask/>
        <decimal_symbol>.</decimal_symbol>
        <grouping_symbol>,</grouping_symbol>
        <currency_symbol/>
        <trim_type>none</trim_type>
        <case_insensitive>N</case_insensitive>
        <collator_disabled>Y</collator_disabled>
        <collator_strength>0</collator_strength>
        <sort_descending>N</sort_descending>
        <output_padding>N</output_padding>
        <date_format_lenient>N</date_format_lenient>
        <date_format_locale>en_US</date_format_locale>
        <date_format_timezone>America/New_York</date_format_timezone>
        <lenient_string_to_number>N</lenient_string_to_number>
      </value-meta>
      <value-meta>
        <type>String</type>
        <storagetype>normal</storagetype>
        <name>PrimaryResearchInstitute</name>
        <length>100</length>
        <precision>-1</precision>
        <origin>PI Master File</origin>
        <comments>PrimaryResearchInstitute</comments>
        <conversion_Mask/>
        <decimal_symbol>.</decimal_symbol>
        <grouping_symbol>,</grouping_symbol>
        <currency_symbol/>
        <trim_type>none</trim_type>
        <case_insensitive>N</case_insensitive>
        <collator_disabled>Y</collator_disabled>
        <collator_strength>0</collator_strength>
        <sort_descending>N</sort_descending>
        <output_padding>N</output_padding>
        <date_format_lenient>N</date_format_lenient>
        <date_format_locale>en_US</date_format_locale>
        <date_format_timezone>America/New_York</date_format_timezone>
        <lenient_string_to_number>N</lenient_string_to_number>
      </value-meta>
      <value-meta>
        <type>String</type>
        <storagetype>normal</storagetype>
        <name>PrimaryAppointment</name>
        <length>100</length>
        <precision>-1</precision>
        <origin>PI Master File</origin>
        <comments>PrimaryAppointment</comments>
        <conversion_Mask/>
        <decimal_symbol>.</decimal_symbol>
        <grouping_symbol>,</grouping_symbol>
        <currency_symbol/>
        <trim_type>none</trim_type>
        <case_insensitive>N</case_insensitive>
        <collator_disabled>Y</collator_disabled>
        <collator_strength>0</collator_strength>
        <sort_descending>N</sort_descending>
        <output_padding>N</output_padding>
        <date_format_lenient>N</date_format_lenient>
        <date_format_locale>en_US</date_format_locale>
        <date_format_timezone>America/New_York</date_format_timezone>
        <lenient_string_to_number>N</lenient_string_to_number>
      </value-meta>
      <value-meta>
        <type>String</type>
        <storagetype>normal</storagetype>
        <name>PrimaryDirector</name>
        <length>100</length>
        <precision>-1</precision>
        <origin>PI Master File</origin>
        <comments>PrimaryDirector</comments>
        <conversion_Mask/>
        <decimal_symbol>.</decimal_symbol>
        <grouping_symbol>,</grouping_symbol>
        <currency_symbol/>
        <trim_type>none</trim_type>
        <case_insensitive>N</case_insensitive>
        <collator_disabled>Y</collator_disabled>
        <collator_strength>0</collator_strength>
        <sort_descending>N</sort_descending>
        <output_padding>N</output_padding>
        <date_format_lenient>N</date_format_lenient>
        <date_format_locale>en_US</date_format_locale>
        <date_format_timezone>America/New_York</date_format_timezone>
        <lenient_string_to_number>N</lenient_string_to_number>
      </value-meta>
      <value-meta>
        <type>String</type>
        <storagetype>normal</storagetype>
        <name>ENIDforPrimaryDirector</name>
        <length>20</length>
        <precision>-1</precision>
        <origin>PI Master File</origin>
        <comments>ENIDforPrimaryDirector</comments>
        <conversion_Mask/>
        <decimal_symbol>.</decimal_symbol>
        <grouping_symbol>,</grouping_symbol>
        <currency_symbol/>
        <trim_type>none</trim_type>
        <case_insensitive>N</case_insensitive>
        <collator_disabled>Y</collator_disabled>
        <collator_strength>0</collator_strength>
        <sort_descending>N</sort_descending>
        <output_padding>N</output_padding>
        <date_format_lenient>N</date_format_lenient>
        <date_format_locale>en_US</date_format_locale>
        <date_format_timezone>America/New_York</date_format_timezone>
        <lenient_string_to_number>N</lenient_string_to_number>
      </value-meta>
      <value-meta>
        <type>String</type>
        <storagetype>normal</storagetype>
        <name>SecondaryResearchInstitute</name>
        <length>100</length>
        <precision>-1</precision>
        <origin>PI Master File</origin>
        <comments>SecondaryResearchInstitute</comments>
        <conversion_Mask/>
        <decimal_symbol>.</decimal_symbol>
        <grouping_symbol>,</grouping_symbol>
        <currency_symbol/>
        <trim_type>none</trim_type>
        <case_insensitive>N</case_insensitive>
        <collator_disabled>Y</collator_disabled>
        <collator_strength>0</collator_strength>
        <sort_descending>N</sort_descending>
        <output_padding>N</output_padding>
        <date_format_lenient>N</date_format_lenient>
        <date_format_locale>en_US</date_format_locale>
        <date_format_timezone>America/New_York</date_format_timezone>
        <lenient_string_to_number>N</lenient_string_to_number>
      </value-meta>
      <value-meta>
        <type>String</type>
        <storagetype>normal</storagetype>
        <name>SecondaryAppointment</name>
        <length>100</length>
        <precision>-1</precision>
        <origin>PI Master File</origin>
        <comments>SecondaryAppointment</comments>
        <conversion_Mask/>
        <decimal_symbol>.</decimal_symbol>
        <grouping_symbol>,</grouping_symbol>
        <currency_symbol/>
        <trim_type>none</trim_type>
        <case_insensitive>N</case_insensitive>
        <collator_disabled>Y</collator_disabled>
        <collator_strength>0</collator_strength>
        <sort_descending>N</sort_descending>
        <output_padding>N</output_padding>
        <date_format_lenient>N</date_format_lenient>
        <date_format_locale>en_US</date_format_locale>
        <date_format_timezone>America/New_York</date_format_timezone>
        <lenient_string_to_number>N</lenient_string_to_number>
      </value-meta>
      <value-meta>
        <type>String</type>
        <storagetype>normal</storagetype>
        <name>SecondaryDirector</name>
        <length>100</length>
        <precision>-1</precision>
        <origin>PI Master File</origin>
        <comments>SecondaryDirector</comments>
        <conversion_Mask/>
        <decimal_symbol>.</decimal_symbol>
        <grouping_symbol>,</grouping_symbol>
        <currency_symbol/>
        <trim_type>none</trim_type>
        <case_insensitive>N</case_insensitive>
        <collator_disabled>Y</collator_disabled>
        <collator_strength>0</collator_strength>
        <sort_descending>N</sort_descending>
        <output_padding>N</output_padding>
        <date_format_lenient>N</date_format_lenient>
        <date_format_locale>en_US</date_format_locale>
        <date_format_timezone>America/New_York</date_format_timezone>
        <lenient_string_to_number>N</lenient_string_to_number>
      </value-meta>
      <value-meta>
        <type>String</type>
        <storagetype>normal</storagetype>
        <name>ENIDforSecondaryDirector</name>
        <length>20</length>
        <precision>-1</precision>
        <origin>PI Master File</origin>
        <comments>ENIDforSecondaryDirector</comments>
        <conversion_Mask/>
        <decimal_symbol>.</decimal_symbol>
        <grouping_symbol>,</grouping_symbol>
        <currency_symbol/>
        <trim_type>none</trim_type>
        <case_insensitive>N</case_insensitive>
        <collator_disabled>Y</collator_disabled>
        <collator_strength>0</collator_strength>
        <sort_descending>N</sort_descending>
        <output_padding>N</output_padding>
        <date_format_lenient>N</date_format_lenient>
        <date_format_locale>en_US</date_format_locale>
        <date_format_timezone>America/New_York</date_format_timezone>
        <lenient_string_to_number>N</lenient_string_to_number>
      </value-meta>
      <value-meta>
        <type>String</type>
        <storagetype>normal</storagetype>
        <name>ClinicalDepartment</name>
        <length>100</length>
        <precision>-1</precision>
        <origin>PI Master File</origin>
        <comments>ClinicalDepartment</comments>
        <conversion_Mask/>
        <decimal_symbol>.</decimal_symbol>
        <grouping_symbol>,</grouping_symbol>
        <currency_symbol/>
        <trim_type>none</trim_type>
        <case_insensitive>N</case_insensitive>
        <collator_disabled>Y</collator_disabled>
        <collator_strength>0</collator_strength>
        <sort_descending>N</sort_descending>
        <output_padding>N</output_padding>
        <date_format_lenient>N</date_format_lenient>
        <date_format_locale>en_US</date_format_locale>
        <date_format_timezone>America/New_York</date_format_timezone>
        <lenient_string_to_number>N</lenient_string_to_number>
      </value-meta>
      <value-meta>
        <type>String</type>
        <storagetype>normal</storagetype>
        <name>ClinicalCategory</name>
        <length>100</length>
        <precision>-1</precision>
        <origin>PI Master File</origin>
        <comments>ClinicalCategory</comments>
        <conversion_Mask/>
        <decimal_symbol>.</decimal_symbol>
        <grouping_symbol>,</grouping_symbol>
        <currency_symbol/>
        <trim_type>none</trim_type>
        <case_insensitive>N</case_insensitive>
        <collator_disabled>Y</collator_disabled>
        <collator_strength>0</collator_strength>
        <sort_descending>N</sort_descending>
        <output_padding>N</output_padding>
        <date_format_lenient>N</date_format_lenient>
        <date_format_locale>en_US</date_format_locale>
        <date_format_timezone>America/New_York</date_format_timezone>
        <lenient_string_to_number>N</lenient_string_to_number>
      </value-meta>
      <value-meta>
        <type>String</type>
        <storagetype>normal</storagetype>
        <name>CPSOLicence</name>
        <length>100</length>
        <precision>-1</precision>
        <origin>PI Master File</origin>
        <comments>CPSOLicence</comments>
        <conversion_Mask/>
        <decimal_symbol>.</decimal_symbol>
        <grouping_symbol>,</grouping_symbol>
        <currency_symbol/>
        <trim_type>none</trim_type>
        <case_insensitive>N</case_insensitive>
        <collator_disabled>Y</collator_disabled>
        <collator_strength>0</collator_strength>
        <sort_descending>N</sort_descending>
        <output_padding>N</output_padding>
        <date_format_lenient>N</date_format_lenient>
        <date_format_locale>en_US</date_format_locale>
        <date_format_timezone>America/New_York</date_format_timezone>
        <lenient_string_to_number>N</lenient_string_to_number>
      </value-meta>
      <value-meta>
        <type>String</type>
        <storagetype>normal</storagetype>
        <name>PI_FullName</name>
        <length>100</length>
        <precision>-1</precision>
        <origin>PI Master File</origin>
        <comments>PI_FullName</comments>
        <conversion_Mask/>
        <decimal_symbol>.</decimal_symbol>
        <grouping_symbol>,</grouping_symbol>
        <currency_symbol/>
        <trim_type>none</trim_type>
        <case_insensitive>N</case_insensitive>
        <collator_disabled>Y</collator_disabled>
        <collator_strength>0</collator_strength>
        <sort_descending>N</sort_descending>
        <output_padding>N</output_padding>
        <date_format_lenient>N</date_format_lenient>
        <date_format_locale>en_US</date_format_locale>
        <date_format_timezone>America/New_York</date_format_timezone>
        <lenient_string_to_number>N</lenient_string_to_number>
      </value-meta>
      <value-meta>
        <type>String</type>
        <storagetype>normal</storagetype>
        <name>Email</name>
        <length>100</length>
        <precision>-1</precision>
        <origin>PI Master File</origin>
        <comments>Email</comments>
        <conversion_Mask/>
        <decimal_symbol>.</decimal_symbol>
        <grouping_symbol>,</grouping_symbol>
        <currency_symbol/>
        <trim_type>none</trim_type>
        <case_insensitive>N</case_insensitive>
        <collator_disabled>Y</collator_disabled>
        <collator_strength>0</collator_strength>
        <sort_descending>N</sort_descending>
        <output_padding>N</output_padding>
        <date_format_lenient>N</date_format_lenient>
        <date_format_locale>en_US</date_format_locale>
        <date_format_timezone>America/New_York</date_format_timezone>
        <lenient_string_to_number>N</lenient_string_to_number>
      </value-meta>
      <value-meta>
        <type>Timestamp</type>
        <storagetype>normal</storagetype>
        <name>LastUpdated</name>
        <length>7</length>
        <precision>-1</precision>
        <origin>PI Master File</origin>
        <comments>LastUpdated</comments>
        <conversion_Mask/>
        <decimal_symbol>.</decimal_symbol>
        <grouping_symbol>,</grouping_symbol>
        <currency_symbol/>
        <trim_type>none</trim_type>
        <case_insensitive>N</case_insensitive>
        <collator_disabled>Y</collator_disabled>
        <collator_strength>0</collator_strength>
        <sort_descending>N</sort_descending>
        <output_padding>N</output_padding>
        <date_format_lenient>N</date_format_lenient>
        <date_format_locale>en_US</date_format_locale>
        <date_format_timezone>America/New_York</date_format_timezone>
        <lenient_string_to_number>N</lenient_string_to_number>
      </value-meta>
      <value-meta>
        <type>String</type>
        <storagetype>normal</storagetype>
        <name>Email_Source</name>
        <length>20</length>
        <precision>-1</precision>
        <origin>PI Master File</origin>
        <comments>Email_Source</comments>
        <conversion_Mask/>
        <decimal_symbol>.</decimal_symbol>
        <grouping_symbol>,</grouping_symbol>
        <currency_symbol/>
        <trim_type>none</trim_type>
        <case_insensitive>N</case_insensitive>
        <collator_disabled>Y</collator_disabled>
        <collator_strength>0</collator_strength>
        <sort_descending>N</sort_descending>
        <output_padding>N</output_padding>
        <date_format_lenient>N</date_format_lenient>
        <date_format_locale>en_US</date_format_locale>
        <date_format_timezone>America/New_York</date_format_timezone>
        <lenient_string_to_number>N</lenient_string_to_number>
      </value-meta>
      <value-meta>
        <type>String</type>
        <storagetype>normal</storagetype>
        <name>Checksum_FlagChanges</name>
        <length>64</length>
        <precision>-1</precision>
        <origin>PI Master File</origin>
        <comments>Checksum_FlagChanges</comments>
        <conversion_Mask/>
        <decimal_symbol>.</decimal_symbol>
        <grouping_symbol>,</grouping_symbol>
        <currency_symbol/>
        <trim_type>none</trim_type>
        <case_insensitive>N</case_insensitive>
        <collator_disabled>Y</collator_disabled>
        <collator_strength>0</collator_strength>
        <sort_descending>N</sort_descending>
        <output_padding>N</output_padding>
        <date_format_lenient>N</date_format_lenient>
        <date_format_locale>en_US</date_format_locale>
        <date_format_timezone>America/New_York</date_format_timezone>
        <lenient_string_to_number>N</lenient_string_to_number>
      </value-meta>
      <value-meta>
        <type>String</type>
        <storagetype>normal</storagetype>
        <name>PI_Type</name>
        <length>30</length>
        <precision>-1</precision>
        <origin>PI Master File</origin>
        <comments>PI_Type</comments>
        <conversion_Mask/>
        <decimal_symbol>.</decimal_symbol>
        <grouping_symbol>,</grouping_symbol>
        <currency_symbol/>
        <trim_type>none</trim_type>
        <case_insensitive>N</case_insensitive>
        <collator_disabled>Y</collator_disabled>
        <collator_strength>0</collator_strength>
        <sort_descending>N</sort_descending>
        <output_padding>N</output_padding>
        <date_format_lenient>N</date_format_lenient>
        <date_format_locale>en_US</date_format_locale>
        <date_format_timezone>America/New_York</date_format_timezone>
        <lenient_string_to_number>N</lenient_string_to_number>
      </value-meta>
    </row-meta>
    <attributes/>
    <cluster_schema/>
    <GUI>
      <xloc>256</xloc>
      <yloc>1232</yloc>
      <draw>Y</draw>
    </GUI>
  </transform>
  <transform>
    <name>Record Type Name</name>
    <type>ScriptValueMod</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <compatible>N</compatible>
    <optimizationLevel>9</optimizationLevel>
    <jsScripts>
      <jsScript>
        <jsScript_type>0</jsScript_type>
        <jsScript_name>Script 1</jsScript_name>
        <jsScript_script>//Script here

var RecordTypeName_ForContact
var ActiveAsDelegate = null;

switch (true) {

	case PI_Type == 'Active PI':
		RecordTypeName_ForContact = 'UHN_Account_Holder_PI';
		break;

	//case PI_Type == 'Active Staff Scientist' || PI_Type == 'Inactive' || Source_PI_Master_File === null:
	//	RecordTypeName_ForContact = 'UHN_Account_Holder_Non_PI';
	//	break;

	case ENID_FCC_Master !== null:
		RecordTypeName_ForContact = 'UHN_Account_Holder_Non_PI';
		break;

	//This transformation only updates PIs and other account holders, so the "default" should never apply here. 
	//It will apply though in the transformation that updates all regular contacts.
	default:
		RecordTypeName_ForContact = 'UHN_Other_UHN_staff';

}


//Set all to true for now, hoping to get in all data.
//ActiveAsDelegate = true;</jsScript_script>
      </jsScript>
    </jsScripts>
    <fields>
      <field>
        <name>RecordTypeName_ForContact</name>
        <rename>RecordTypeName_ForContact</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>
    </fields>
    <attributes/>
    <cluster_schema/>
    <GUI>
      <xloc>4720</xloc>
      <yloc>1008</yloc>
      <draw>Y</draw>
    </GUI>
  </transform>
  <transform>
    <name>RecordType</name>
    <type>DBLookup</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>MSSQL_RFSDW</connection>
    <cache>Y</cache>
    <cache_load_all>Y</cache_load_all>
    <cache_size>0</cache_size>
    <lookup>
      <schema>salesforce_backup</schema>
      <table>RecordType</table>
      <orderby/>
      <fail_on_multiple>N</fail_on_multiple>
      <eat_row_on_failure>N</eat_row_on_failure>
      <key>
        <name>RecordTypeName_ForContact</name>
        <field>Record Type Name</field>
        <condition>=</condition>
        <name2/>
      </key>
      <value>
        <name>Record Type ID</name>
        <rename>Record_Type_ID</rename>
        <default/>
        <type>String</type>
      </value>
    </lookup>
    <attributes/>
    <cluster_schema/>
    <GUI>
      <xloc>4960</xloc>
      <yloc>1008</yloc>
      <draw>Y</draw>
    </GUI>
  </transform>
  <transform>
    <name>Remove non-numeric Employee ID</name>
    <type>ScriptValueMod</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <compatible>N</compatible>
    <optimizationLevel>9</optimizationLevel>
    <jsScripts>
      <jsScript>
        <jsScript_type>0</jsScript_type>
        <jsScript_name>Script 1</jsScript_name>
        <jsScript_script>//Script here


//Remove Employee ID if not numeric. UHN Employee IDs are always numeric
if (Is_Employee_ID_PDB_numeric != 'Y') {
	Employee_ID_PDB = null
}

</jsScript_script>
      </jsScript>
    </jsScripts>
    <fields>
      <field>
        <name>Employee_ID_PDB</name>
        <rename>Employee_ID_PDB</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>Y</replace>
      </field>
    </fields>
    <attributes/>
    <cluster_schema/>
    <GUI>
      <xloc>2768</xloc>
      <yloc>1008</yloc>
      <draw>Y</draw>
    </GUI>
  </transform>
  <transform>
    <name>Replace in string</name>
    <type>ReplaceString</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <fields>
      <field>
        <in_stream_name>PrimaryResearchInstitute_SAP_ID</in_stream_name>
        <out_stream_name/>
        <use_regex>no</use_regex>
        <replace_string>PM</replace_string>
        <replace_by_string>100R02A01</replace_by_string>
        <set_empty_string>N</set_empty_string>
        <replace_field_by_string/>
        <whole_word>no</whole_word>
        <case_sensitive>no</case_sensitive>
        <is_unicode>no</is_unicode>
      </field>
      <field>
        <in_stream_name>PrimaryResearchInstitute_SAP_ID</in_stream_name>
        <out_stream_name/>
        <use_regex>no</use_regex>
        <replace_string>TGHRI</replace_string>
        <replace_by_string>100R02B01</replace_by_string>
        <set_empty_string>N</set_empty_string>
        <replace_field_by_string/>
        <whole_word>no</whole_word>
        <case_sensitive>no</case_sensitive>
        <is_unicode>no</is_unicode>
      </field>
      <field>
        <in_stream_name>PrimaryResearchInstitute_SAP_ID</in_stream_name>
        <out_stream_name/>
        <use_regex>no</use_regex>
        <replace_string>KREMBIL</replace_string>
        <replace_by_string>100R02C01</replace_by_string>
        <set_empty_string>N</set_empty_string>
        <replace_field_by_string/>
        <whole_word>no</whole_word>
        <case_sensitive>no</case_sensitive>
        <is_unicode>no</is_unicode>
      </field>
      <field>
        <in_stream_name>PrimaryResearchInstitute_SAP_ID</in_stream_name>
        <out_stream_name/>
        <use_regex>no</use_regex>
        <replace_string>TRI</replace_string>
        <replace_by_string>100R02D01</replace_by_string>
        <set_empty_string>N</set_empty_string>
        <replace_field_by_string/>
        <whole_word>no</whole_word>
        <case_sensitive>no</case_sensitive>
        <is_unicode>no</is_unicode>
      </field>
      <field>
        <in_stream_name>PrimaryResearchInstitute_SAP_ID</in_stream_name>
        <out_stream_name/>
        <use_regex>no</use_regex>
        <replace_string>KITE</replace_string>
        <replace_by_string>100R02D01</replace_by_string>
        <set_empty_string>N</set_empty_string>
        <replace_field_by_string/>
        <whole_word>no</whole_word>
        <case_sensitive>no</case_sensitive>
        <is_unicode>no</is_unicode>
      </field>
      <field>
        <in_stream_name>PrimaryResearchInstitute_SAP_ID</in_stream_name>
        <out_stream_name/>
        <use_regex>no</use_regex>
        <replace_string>TECHNA</replace_string>
        <replace_by_string>100R02E01</replace_by_string>
        <set_empty_string>N</set_empty_string>
        <replace_field_by_string/>
        <whole_word>no</whole_word>
        <case_sensitive>no</case_sensitive>
        <is_unicode>no</is_unicode>
      </field>
      <field>
        <in_stream_name>PrimaryResearchInstitute_SAP_ID</in_stream_name>
        <out_stream_name/>
        <use_regex>no</use_regex>
        <replace_string>MCEWEN</replace_string>
        <replace_by_string>100R02F01</replace_by_string>
        <set_empty_string>N</set_empty_string>
        <replace_field_by_string/>
        <whole_word>no</whole_word>
        <case_sensitive>no</case_sensitive>
        <is_unicode>no</is_unicode>
      </field>
      <field>
        <in_stream_name>PrimaryResearchInstitute_SAP_ID</in_stream_name>
        <out_stream_name/>
        <use_regex>no</use_regex>
        <replace_string>TIER</replace_string>
        <replace_by_string>100R02G01</replace_by_string>
        <set_empty_string>N</set_empty_string>
        <replace_field_by_string/>
        <whole_word>no</whole_word>
        <case_sensitive>no</case_sensitive>
        <is_unicode>no</is_unicode>
      </field>
    </fields>
    <attributes/>
    <cluster_schema/>
    <GUI>
      <xloc>2560</xloc>
      <yloc>1296</yloc>
      <draw>Y</draw>
    </GUI>
  </transform>
  <transform>
    <name>Replace in string 2</name>
    <type>ReplaceString</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <fields>
      <field>
        <in_stream_name>Location</in_stream_name>
        <out_stream_name/>
        <use_regex>no</use_regex>
        <replace_string>Tgh</replace_string>
        <replace_by_string>TGH</replace_by_string>
        <set_empty_string>N</set_empty_string>
        <replace_field_by_string/>
        <whole_word>no</whole_word>
        <case_sensitive>no</case_sensitive>
        <is_unicode>no</is_unicode>
      </field>
    </fields>
    <attributes/>
    <cluster_schema/>
    <GUI>
      <xloc>8848</xloc>
      <yloc>1008</yloc>
      <draw>Y</draw>
    </GUI>
  </transform>
  <transform>
    <name>Row denormaliser</name>
    <type>Denormaliser</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <key_field>NAMEINDEX</key_field>
    <group>
      <field>
        <name>ENID</name>
      </field>
    </group>
    <fields>
      <field>
        <field_name>NAME</field_name>
        <key_value>1</key_value>
        <target_name>FirstName_PDB</target_name>
        <target_type>String</target_type>
        <target_format/>
        <target_length>70</target_length>
        <target_precision>-1</target_precision>
        <target_decimal_symbol/>
        <target_grouping_symbol/>
        <target_currency_symbol/>
        <target_null_string/>
        <target_aggregation_type>CONCAT_COMMA</target_aggregation_type>
      </field>
      <field>
        <field_name>NAME</field_name>
        <key_value>0</key_value>
        <target_name>LastName_PDB</target_name>
        <target_type>String</target_type>
        <target_format/>
        <target_length>-1</target_length>
        <target_precision>-1</target_precision>
        <target_decimal_symbol/>
        <target_grouping_symbol/>
        <target_currency_symbol/>
        <target_null_string/>
        <target_aggregation_type>CONCAT_COMMA</target_aggregation_type>
      </field>
    </fields>
    <attributes/>
    <cluster_schema/>
    <GUI>
      <xloc>3424</xloc>
      <yloc>1552</yloc>
      <draw>Y</draw>
    </GUI>
  </transform>
  <transform>
    <name>SF Contact</name>
    <type>SalesforceUpsert</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <targeturl>${GW_Salesforce_Webservice_URL}</targeturl>
    <username>${GW_Salesforce_UserName}</username>
    <password>${GW_Salesforce_Password}</password>
    <timeout>60000</timeout>
    <useCompression>Y</useCompression>
    <module>Contact</module>
    <upsertfield>UHN_ENID__c</upsertfield>
    <batchSize>20</batchSize>
    <salesforceIDFieldName>UHN_ENID__c</salesforceIDFieldName>
    <fields>
      <field>
        <name>AccountId</name>
        <field>PrimaryResearchInstitute_ID_SF</field>
        <useExternalId>N</useExternalId>
      </field>
      <field>
        <name>Email</name>
        <field>Email</field>
        <useExternalId>N</useExternalId>
      </field>
      <field>
        <name>FirstName</name>
        <field>FirstName</field>
        <useExternalId>N</useExternalId>
      </field>
      <field>
        <name>LastName</name>
        <field>LastName</field>
        <useExternalId>N</useExternalId>
      </field>
      <field>
        <name>RecordTypeId</name>
        <field>Record_Type_ID</field>
        <useExternalId>N</useExternalId>
      </field>
      <field>
        <name>UHN_411_Directory_Status__c</name>
        <field>Status_411_Directory</field>
        <useExternalId>N</useExternalId>
      </field>
      <field>
        <name>UHN_Checksum_FlagChanges__c</name>
        <field>Checksum_FlagChanges</field>
        <useExternalId>N</useExternalId>
      </field>
      <field>
        <name>UHN_Clinical_Department__c</name>
        <field>ClinicalDepartment</field>
        <useExternalId>N</useExternalId>
      </field>
      <field>
        <name>UHN_ENID__c</name>
        <field>ENID</field>
        <useExternalId>N</useExternalId>
      </field>
      <field>
        <name>UHN_Email_Data_Source__c</name>
        <field>Email_Source</field>
        <useExternalId>N</useExternalId>
      </field>
      <field>
        <name>UHN_Email_Unique__c</name>
        <field>Email</field>
        <useExternalId>N</useExternalId>
      </field>
      <field>
        <name>UHN_Employee_ID__c</name>
        <field>Employee_ID</field>
        <useExternalId>N</useExternalId>
      </field>
      <field>
        <name>UHN_Job__c</name>
        <field>Job</field>
        <useExternalId>N</useExternalId>
      </field>
      <field>
        <name>UHN_Location__c</name>
        <field>Location</field>
        <useExternalId>N</useExternalId>
      </field>
      <field>
        <name>UHN_PI_Status__c</name>
        <field>PI_Status_MasterList</field>
        <useExternalId>N</useExternalId>
      </field>
      <field>
        <name>UHN_PI_Type__c</name>
        <field>PI_Type</field>
        <useExternalId>N</useExternalId>
      </field>
      <field>
        <name>UHN_Position__c</name>
        <field>Position</field>
        <useExternalId>N</useExternalId>
      </field>
      <field>
        <name>UHN_Research_Appointment__c</name>
        <field>PrimaryAppointment</field>
        <useExternalId>N</useExternalId>
      </field>
    </fields>
    <rollbackAllChangesOnError>N</rollbackAllChangesOnError>
    <attributes/>
    <cluster_schema/>
    <GUI>
      <xloc>10352</xloc>
      <yloc>800</yloc>
      <draw>Y</draw>
    </GUI>
  </transform>
  <transform>
    <name>SF Contacts</name>
    <type>DBLookup</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>MSSQL_RFSDW</connection>
    <cache>Y</cache>
    <cache_load_all>Y</cache_load_all>
    <cache_size>0</cache_size>
    <lookup>
      <schema>salesforce_dim</schema>
      <table>Contact</table>
      <orderby/>
      <fail_on_multiple>N</fail_on_multiple>
      <eat_row_on_failure>N</eat_row_on_failure>
      <key>
        <name>ENID</name>
        <field>ENID</field>
        <condition>=</condition>
        <name2/>
      </key>
      <value>
        <name>ENID</name>
        <rename>ENID</rename>
        <default/>
        <type>String</type>
      </value>
      <value>
        <name>Entity Name</name>
        <rename>AccountID_In_SF</rename>
        <default/>
        <type>String</type>
      </value>
      <value>
        <name>Is PI</name>
        <rename>IsPI</rename>
        <default/>
        <type>String</type>
      </value>
      <value>
        <name>User Profile</name>
        <rename>UserProfile_In_SF</rename>
        <default/>
        <type>String</type>
      </value>
      <value>
        <name>Checksum (Flag changes)</name>
        <rename>Checksum_FlagChanges_existing</rename>
        <default/>
        <type>String</type>
      </value>
      <value>
        <name>T-ID</name>
        <rename>T_ID_SF_Contact</rename>
        <default/>
        <type>String</type>
      </value>
    </lookup>
    <attributes/>
    <cluster_schema/>
    <GUI>
      <xloc>5440</xloc>
      <yloc>1008</yloc>
      <draw>Y</draw>
    </GUI>
  </transform>
  <transform>
    <name>Select values</name>
    <type>SelectValues</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <fields>
      <field>
        <name>AccountID</name>
      </field>
      <field>
        <name>AccountID_In_SF</name>
      </field>
      <field>
        <name>CPSO_Licence</name>
      </field>
      <field>
        <name>Checksum_FlagChanges_existing</name>
      </field>
      <field>
        <name>ClinicalCategory</name>
      </field>
      <field>
        <name>ClinicalDepartment</name>
      </field>
      <field>
        <name>ENID</name>
      </field>
      <field>
        <name>Email</name>
      </field>
      <field>
        <name>Email_PDB</name>
      </field>
      <field>
        <name>Email_Source</name>
      </field>
      <field>
        <name>Employee_ID</name>
      </field>
      <field>
        <name>Employee_ID_PDB</name>
      </field>
      <field>
        <name>Employee_ID_Source</name>
      </field>
      <field>
        <name>FirstName</name>
      </field>
      <field>
        <name>FirstName_HR_Individual</name>
      </field>
      <field>
        <name>FirstName_PDB</name>
      </field>
      <field>
        <name>IsPI</name>
      </field>
      <field>
        <name>Job</name>
      </field>
      <field>
        <name>LastName</name>
      </field>
      <field>
        <name>LastName_HR_Individual</name>
      </field>
      <field>
        <name>LastName_PDB</name>
      </field>
      <field>
        <name>Location</name>
      </field>
      <field>
        <name>Name_Source</name>
      </field>
      <field>
        <name>PI_Account</name>
      </field>
      <field>
        <name>PI_Email</name>
      </field>
      <field>
        <name>PI_FirstName_MasterList</name>
      </field>
      <field>
        <name>PI_LastName_MasterList</name>
      </field>
      <field>
        <name>PI_Status_MasterList</name>
      </field>
      <field>
        <name>PI_Type</name>
      </field>
      <field>
        <name>Position</name>
      </field>
      <field>
        <name>PrimaryAppointment</name>
      </field>
      <field>
        <name>PrimaryResearchInstitute</name>
      </field>
      <field>
        <name>PrimaryResearchInstitute_ID_SF</name>
      </field>
      <field>
        <name>PrimaryResearchInstitute_SAP_ID</name>
      </field>
      <field>
        <name>RecordTypeName_ForContact</name>
      </field>
      <field>
        <name>Record_Type_ID</name>
      </field>
      <field>
        <name>Source_PI_Master_File</name>
      </field>
      <field>
        <name>Status_411_Directory</name>
      </field>
      <field>
        <name>UserProfile_In_SF</name>
      </field>
      <field>
        <name>T_ID_SF_Contact</name>
      </field>
      <field>
        <name>User_ID_SF</name>
      </field>
      <select_unspecified>N</select_unspecified>
    </fields>
    <attributes/>
    <cluster_schema/>
    <GUI>
      <xloc>6672</xloc>
      <yloc>1008</yloc>
      <draw>Y</draw>
    </GUI>
  </transform>
  <transform>
    <name>Select values 11</name>
    <type>SelectValues</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <fields>
      <field>
        <name>Status</name>
      </field>
      <field>
        <name>LastName</name>
      </field>
      <field>
        <name>FirstName</name>
      </field>
      <field>
        <name>PrimaryAppointment</name>
      </field>
      <field>
        <name>PrimaryResearchInstitute</name>
      </field>
      <field>
        <name>ClinicalDepartment</name>
      </field>
      <field>
        <name>ENID_Cleansed_2</name>
        <rename>ENID</rename>
      </field>
      <field>
        <name>ClinicalCategory</name>
      </field>
      <field>
        <name>CPSO_Licence</name>
      </field>
      <field>
        <name>PI_Type</name>
      </field>
      <field>
        <name>Email</name>
      </field>
      <select_unspecified>N</select_unspecified>
    </fields>
    <attributes/>
    <cluster_schema/>
    <GUI>
      <xloc>1904</xloc>
      <yloc>1296</yloc>
      <draw>Y</draw>
    </GUI>
  </transform>
  <transform>
    <name>Select values 2</name>
    <type>SelectValues</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <fields>
      <field>
        <name>Status</name>
      </field>
      <field>
        <name>LastName</name>
      </field>
      <field>
        <name>FirstName</name>
      </field>
      <field>
        <name>PrimaryAppointment</name>
      </field>
      <field>
        <name>PrimaryResearchInstitute</name>
      </field>
      <field>
        <name>ClinicalDepartment</name>
      </field>
      <field>
        <name>ENID</name>
      </field>
      <field>
        <name>ClinicalCategory</name>
      </field>
      <field>
        <name>CPSOLicence</name>
        <rename>CPSO_Licence</rename>
      </field>
      <field>
        <name>PI_Type</name>
      </field>
      <field>
        <name>Email</name>
      </field>
      <select_unspecified>N</select_unspecified>
    </fields>
    <attributes/>
    <cluster_schema/>
    <GUI>
      <xloc>1120</xloc>
      <yloc>1296</yloc>
      <draw>Y</draw>
    </GUI>
  </transform>
  <transform>
    <name>Select values 3</name>
    <type>SelectValues</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <fields>
      <field>
        <name>ENID</name>
        <rename>ENID_InSF</rename>
      </field>
      <field>
        <name>Email</name>
        <rename>Email_InSF</rename>
      </field>
      <field>
        <name>Contact ID</name>
        <rename>Contact_ID_InSF</rename>
      </field>
      <field>
        <name>ECode</name>
        <rename>ECode_InSF</rename>
      </field>
      <field>
        <name>T-ID</name>
        <rename>T-ID_In_SF</rename>
      </field>
      <field>
        <name>Email (Unique)</name>
        <rename>EmailUnique_In_SF</rename>
      </field>
      <select_unspecified>N</select_unspecified>
    </fields>
    <attributes/>
    <cluster_schema/>
    <GUI>
      <xloc>9648</xloc>
      <yloc>752</yloc>
      <draw>Y</draw>
    </GUI>
  </transform>
  <transform>
    <name>Select values 4</name>
    <type>SelectValues</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <fields>
      <field>
        <name>ENID</name>
      </field>
      <select_unspecified>N</select_unspecified>
    </fields>
    <attributes/>
    <cluster_schema/>
    <GUI>
      <xloc>1120</xloc>
      <yloc>1088</yloc>
      <draw>Y</draw>
    </GUI>
  </transform>
  <transform>
    <name>Select values 5</name>
    <type>SelectValues</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <fields>
      <field>
        <name>Checksum_FlagChanges</name>
      </field>
      <field>
        <name>ClinicalDepartment</name>
      </field>
      <field>
        <name>ENID</name>
      </field>
      <field>
        <name>Email</name>
      </field>
      <field>
        <name>Email_Source</name>
      </field>
      <field>
        <name>Employee_ID</name>
      </field>
      <field>
        <name>FirstName</name>
      </field>
      <field>
        <name>Job</name>
      </field>
      <field>
        <name>LastName</name>
      </field>
      <field>
        <name>Location</name>
      </field>
      <field>
        <name>PI_Status_MasterList</name>
      </field>
      <field>
        <name>PI_Type</name>
      </field>
      <field>
        <name>Position</name>
      </field>
      <field>
        <name>PrimaryAppointment</name>
      </field>
      <field>
        <name>PrimaryResearchInstitute_ID_SF</name>
      </field>
      <field>
        <name>Record_Type_ID</name>
      </field>
      <field>
        <name>Status_411_Directory</name>
      </field>
      <select_unspecified>N</select_unspecified>
    </fields>
    <attributes/>
    <cluster_schema/>
    <GUI>
      <xloc>10368</xloc>
      <yloc>1008</yloc>
      <draw>Y</draw>
    </GUI>
  </transform>
  <transform>
    <name>Select values 6</name>
    <type>SelectValues</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <fields>
      <field>
        <name>Is_Employee_ID_PDB_numeric</name>
      </field>
      <select_unspecified>Y</select_unspecified>
      <meta>
        <name>Is_Employee_ID_PDB_numeric</name>
        <rename>Is_Employee_ID_PDB_numeric</rename>
        <type>String</type>
        <length>-2</length>
        <precision>-2</precision>
        <conversion_mask/>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
    </fields>
    <attributes/>
    <cluster_schema/>
    <GUI>
      <xloc>2560</xloc>
      <yloc>1008</yloc>
      <draw>Y</draw>
    </GUI>
  </transform>
  <transform>
    <name>Set UPN, Fed_ID</name>
    <type>Formula</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <formula>
      <field_name>UPN</field_name>
      <formula_string>if(NOT(ISBLANK([UPN_in_SF]));[UPN_in_SF];[userPrincipalName_consolidated])</formula_string>
      <value_type>String</value_type>
      <value_length>-1</value_length>
      <value_precision>-1</value_precision>
      <replace_field/>
    </formula>
    <formula>
      <field_name>Federation_ID</field_name>
      <formula_string>if(NOT(ISBLANK([Federation_ID_in_SF]));[Federation_ID_in_SF];[Federation_ID_consolidated])</formula_string>
      <value_type>String</value_type>
      <value_length>-1</value_length>
      <value_precision>-1</value_precision>
      <replace_field/>
    </formula>
    <attributes/>
    <cluster_schema/>
    <GUI>
      <xloc>9200</xloc>
      <yloc>1008</yloc>
      <draw>Y</draw>
    </GUI>
  </transform>
  <transform>
    <name>Sort rows</name>
    <type>SortRows</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>20</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <directory>%%java.io.tmpdir%%</directory>
    <prefix>out</prefix>
    <sort_size>1000000</sort_size>
    <free_memory/>
    <compress>N</compress>
    <compress_variable/>
    <unique_rows>N</unique_rows>
    <fields>
      <field>
        <name>ENID</name>
        <ascending>Y</ascending>
        <case_sensitive>N</case_sensitive>
        <collator_enabled>N</collator_enabled>
        <collator_strength>2</collator_strength>
        <presorted>N</presorted>
      </field>
    </fields>
    <attributes/>
    <cluster_schema/>
    <GUI>
      <xloc>1472</xloc>
      <yloc>1008</yloc>
      <draw>Y</draw>
    </GUI>
  </transform>
  <transform>
    <name>Sorted merge</name>
    <type>SortedMerge</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <fields>
      <field>
        <name>ENID</name>
        <ascending>Y</ascending>
      </field>
    </fields>
    <attributes/>
    <cluster_schema/>
    <GUI>
      <xloc>1696</xloc>
      <yloc>1008</yloc>
      <draw>Y</draw>
    </GUI>
  </transform>
  <transform>
    <name>Status in PDB</name>
    <type>DBLookup</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>MSSQL_RFSDW</connection>
    <cache>Y</cache>
    <cache_load_all>Y</cache_load_all>
    <cache_size>0</cache_size>
    <lookup>
      <schema>pdb</schema>
      <table>LatestEmployeeStatus</table>
      <orderby/>
      <fail_on_multiple>N</fail_on_multiple>
      <eat_row_on_failure>N</eat_row_on_failure>
      <key>
        <name>ENID</name>
        <field>ENID</field>
        <condition>=</condition>
        <name2/>
      </key>
      <value>
        <name>Status</name>
        <rename>Status_411_Directory</rename>
        <default/>
        <type>String</type>
      </value>
    </lookup>
    <attributes/>
    <cluster_schema/>
    <GUI>
      <xloc>6400</xloc>
      <yloc>1008</yloc>
      <draw>Y</draw>
    </GUI>
  </transform>
  <transform>
    <name>Stream lookup</name>
    <type>StreamLookup</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <from>Calculator</from>
    <input_sorted>N</input_sorted>
    <preserve_memory>Y</preserve_memory>
    <sorted_list>N</sorted_list>
    <integer_pair>N</integer_pair>
    <lookup>
      <key>
        <name>ENID</name>
        <field>ENID</field>
      </key>
      <value>
        <name>Status</name>
        <rename>PI_Status_MasterList</rename>
        <default/>
        <type>String</type>
      </value>
      <value>
        <name>LastName</name>
        <rename>PI_LastName_MasterList</rename>
        <default/>
        <type>String</type>
      </value>
      <value>
        <name>FirstName</name>
        <rename>PI_FirstName_MasterList</rename>
        <default/>
        <type>String</type>
      </value>
      <value>
        <name>PrimaryAppointment</name>
        <rename>PrimaryAppointment</rename>
        <default/>
        <type>String</type>
      </value>
      <value>
        <name>PrimaryResearchInstitute</name>
        <rename>PrimaryResearchInstitute</rename>
        <default/>
        <type>String</type>
      </value>
      <value>
        <name>ClinicalDepartment</name>
        <rename>ClinicalDepartment</rename>
        <default/>
        <type>String</type>
      </value>
      <value>
        <name>ClinicalCategory</name>
        <rename>ClinicalCategory</rename>
        <default/>
        <type>String</type>
      </value>
      <value>
        <name>CPSO_Licence</name>
        <rename>CPSO_Licence</rename>
        <default/>
        <type>String</type>
      </value>
      <value>
        <name>PI_Type</name>
        <rename>PI_Type</rename>
        <default/>
        <type>String</type>
      </value>
      <value>
        <name>PrimaryResearchInstitute_SAP_ID</name>
        <rename>PrimaryResearchInstitute_SAP_ID</rename>
        <default/>
        <type>String</type>
      </value>
      <value>
        <name>PrimaryResearchInstitute_ID_SF</name>
        <rename>PrimaryResearchInstitute_ID_SF</rename>
        <default/>
        <type>String</type>
      </value>
      <value>
        <name>Source_PI_Master_File</name>
        <rename>Source_PI_Master_File</rename>
        <default/>
        <type>String</type>
      </value>
      <value>
        <name>Email</name>
        <rename>PI_Email</rename>
        <default/>
        <type>None</type>
      </value>
    </lookup>
    <attributes/>
    <cluster_schema/>
    <GUI>
      <xloc>3216</xloc>
      <yloc>1008</yloc>
      <draw>Y</draw>
    </GUI>
  </transform>
  <transform>
    <name>Stream lookup 2</name>
    <type>StreamLookup</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <from>Row denormaliser</from>
    <input_sorted>N</input_sorted>
    <preserve_memory>Y</preserve_memory>
    <sorted_list>N</sorted_list>
    <integer_pair>N</integer_pair>
    <lookup>
      <key>
        <name>ENID</name>
        <field>ENID</field>
      </key>
      <value>
        <name>FirstName_PDB</name>
        <rename>FirstName_PDB</rename>
        <default/>
        <type>String</type>
      </value>
      <value>
        <name>LastName_PDB</name>
        <rename>LastName_PDB</rename>
        <default/>
        <type>String</type>
      </value>
    </lookup>
    <attributes/>
    <cluster_schema/>
    <GUI>
      <xloc>3424</xloc>
      <yloc>1008</yloc>
      <draw>Y</draw>
    </GUI>
  </transform>
  <transform>
    <name>Stream lookup 3</name>
    <type>StreamLookup</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <from>ENID</from>
    <input_sorted>N</input_sorted>
    <preserve_memory>Y</preserve_memory>
    <sorted_list>N</sorted_list>
    <integer_pair>N</integer_pair>
    <lookup>
      <key>
        <name>ENID</name>
        <field>ENID_FCC_Master</field>
      </key>
      <value>
        <name>ENID_FCC_Master</name>
        <rename>ENID_FCC_Master</rename>
        <default/>
        <type>String</type>
      </value>
    </lookup>
    <attributes/>
    <cluster_schema/>
    <GUI>
      <xloc>4464</xloc>
      <yloc>1008</yloc>
      <draw>Y</draw>
    </GUI>
  </transform>
  <transform>
    <name>Stream lookup 4</name>
    <type>StreamLookup</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <from>Filter rows 3</from>
    <input_sorted>N</input_sorted>
    <preserve_memory>Y</preserve_memory>
    <sorted_list>N</sorted_list>
    <integer_pair>N</integer_pair>
    <lookup>
      <key>
        <name>Email</name>
        <field>EmailUnique_In_SF</field>
      </key>
      <value>
        <name>ENID_InSF</name>
        <rename>ENID_InSF</rename>
        <default/>
        <type>String</type>
      </value>
      <value>
        <name>Contact_ID_InSF</name>
        <rename>Contact_ID_InSF</rename>
        <default/>
        <type>String</type>
      </value>
    </lookup>
    <attributes/>
    <cluster_schema/>
    <GUI>
      <xloc>9552</xloc>
      <yloc>1008</yloc>
      <draw>Y</draw>
    </GUI>
  </transform>
  <transform>
    <name>Stream lookup 5</name>
    <type>StreamLookup</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <from>Filter rows 4</from>
    <input_sorted>N</input_sorted>
    <preserve_memory>Y</preserve_memory>
    <sorted_list>N</sorted_list>
    <integer_pair>N</integer_pair>
    <lookup>
      <key>
        <name>ENID</name>
        <field>ENID_InSF</field>
      </key>
      <value>
        <name>Email_InSF</name>
        <rename>Email_InSF</rename>
        <default/>
        <type>String</type>
      </value>
    </lookup>
    <attributes/>
    <cluster_schema/>
    <GUI>
      <xloc>9744</xloc>
      <yloc>1008</yloc>
      <draw>Y</draw>
    </GUI>
  </transform>
  <transform>
    <name>String operations</name>
    <type>StringOperations</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <fields>
      <field>
        <in_stream_name>FirstName</in_stream_name>
        <out_stream_name/>
        <trim_type>right</trim_type>
        <lower_upper>lower</lower_upper>
        <padding_type/>
        <pad_char/>
        <pad_len/>
        <init_cap>Y</init_cap>
        <mask_xml/>
        <digits/>
        <remove_special_characters/>
      </field>
      <field>
        <in_stream_name>LastName</in_stream_name>
        <out_stream_name/>
        <trim_type>both</trim_type>
        <lower_upper>lower</lower_upper>
        <padding_type/>
        <pad_char/>
        <pad_len/>
        <init_cap>Y</init_cap>
        <mask_xml/>
        <digits/>
        <remove_special_characters/>
      </field>
    </fields>
    <attributes/>
    <cluster_schema/>
    <GUI>
      <xloc>4224</xloc>
      <yloc>1008</yloc>
      <draw>Y</draw>
    </GUI>
  </transform>
  <transform>
    <name>String operations 2</name>
    <type>StringOperations</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <fields>
      <field>
        <in_stream_name>ENID_Cleansed</in_stream_name>
        <out_stream_name>ENID_Cleansed_2</out_stream_name>
        <trim_type>both</trim_type>
        <lower_upper>none</lower_upper>
        <padding_type>none</padding_type>
        <pad_char/>
        <pad_len/>
        <init_cap>no</init_cap>
        <mask_xml>none</mask_xml>
        <digits>none</digits>
        <remove_special_characters>none</remove_special_characters>
      </field>
      <field>
        <in_stream_name>Email</in_stream_name>
        <out_stream_name/>
        <trim_type>both</trim_type>
        <lower_upper>lower</lower_upper>
        <padding_type/>
        <pad_char/>
        <pad_len/>
        <init_cap/>
        <mask_xml/>
        <digits/>
        <remove_special_characters/>
      </field>
    </fields>
    <attributes/>
    <cluster_schema/>
    <GUI>
      <xloc>1584</xloc>
      <yloc>1296</yloc>
      <draw>Y</draw>
    </GUI>
  </transform>
  <transform>
    <name>String operations 3</name>
    <type>StringOperations</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <fields>
      <field>
        <in_stream_name>Job</in_stream_name>
        <out_stream_name/>
        <trim_type/>
        <lower_upper>lower</lower_upper>
        <padding_type/>
        <pad_char/>
        <pad_len/>
        <init_cap>Y</init_cap>
        <mask_xml/>
        <digits/>
        <remove_special_characters/>
      </field>
      <field>
        <in_stream_name>Position</in_stream_name>
        <out_stream_name/>
        <trim_type/>
        <lower_upper>lower</lower_upper>
        <padding_type/>
        <pad_char/>
        <pad_len/>
        <init_cap>Y</init_cap>
        <mask_xml/>
        <digits/>
        <remove_special_characters/>
      </field>
      <field>
        <in_stream_name>Location</in_stream_name>
        <out_stream_name/>
        <trim_type/>
        <lower_upper>lower</lower_upper>
        <padding_type/>
        <pad_char/>
        <pad_len/>
        <init_cap>Y</init_cap>
        <mask_xml/>
        <digits/>
        <remove_special_characters/>
      </field>
      <field>
        <in_stream_name>Email</in_stream_name>
        <out_stream_name/>
        <trim_type/>
        <lower_upper>lower</lower_upper>
        <padding_type/>
        <pad_char/>
        <pad_len/>
        <init_cap>N</init_cap>
        <mask_xml/>
        <digits/>
        <remove_special_characters/>
      </field>
    </fields>
    <attributes/>
    <cluster_schema/>
    <GUI>
      <xloc>7168</xloc>
      <yloc>1008</yloc>
      <draw>Y</draw>
    </GUI>
  </transform>
  <transform>
    <name>String operations 4</name>
    <type>StringOperations</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <fields>
      <field>
        <in_stream_name>Email</in_stream_name>
        <out_stream_name/>
        <trim_type/>
        <lower_upper>lower</lower_upper>
        <padding_type/>
        <pad_char/>
        <pad_len/>
        <init_cap/>
        <mask_xml/>
        <digits/>
        <remove_special_characters/>
      </field>
    </fields>
    <attributes/>
    <cluster_schema/>
    <GUI>
      <xloc>9648</xloc>
      <yloc>656</yloc>
      <draw>Y</draw>
    </GUI>
  </transform>
  <transform>
    <name>Truncate Error Table</name>
    <type>ExecSQL</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>MSSQL_RFSDW</connection>
    <execute_each_row>N</execute_each_row>
    <single_statement>N</single_statement>
    <replace_variables>N</replace_variables>
    <quoteString>N</quoteString>
    <sql>--TRUNCATE TABLE [errors_loading].[SF_Contacts]</sql>
    <set_params>N</set_params>
    <insert_field/>
    <update_field/>
    <delete_field/>
    <read_field/>
    <arguments>
    </arguments>
    <attributes/>
    <cluster_schema/>
    <GUI>
      <xloc>3632</xloc>
      <yloc>896</yloc>
      <draw>Y</draw>
    </GUI>
  </transform>
  <transform>
    <name>UPN consolidated</name>
    <type>ScriptValueMod</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <compatible>N</compatible>
    <optimizationLevel>9</optimizationLevel>
    <jsScripts>
      <jsScript>
        <jsScript_type>0</jsScript_type>
        <jsScript_name>Script 1</jsScript_name>
        <jsScript_script>//Script here

var userPrincipalName_consolidated = null;
var Federation_ID_consolidated = null;


switch (true) {
	case UPN_lowercase_by_PDB_Email != null:
		userPrincipalName_consolidated = UPN_lowercase_by_PDB_Email;
		Federation_ID_consolidated = Federation_ID_PDB_Email;
		break;

	case UPN_lowercase_by_Contact_T_ID != null:
		userPrincipalName_consolidated = UPN_lowercase_by_Contact_T_ID;
		Federation_ID_consolidated = Federation_ID_by_Contact_T_ID;
		break;
}	
</jsScript_script>
      </jsScript>
    </jsScripts>
    <fields>
      <field>
        <name>userPrincipalName_consolidated</name>
        <rename>userPrincipalName_consolidated</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>
      <field>
        <name>Federation_ID_consolidated</name>
        <rename>Federation_ID_consolidated</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>
    </fields>
    <attributes/>
    <cluster_schema/>
    <GUI>
      <xloc>8272</xloc>
      <yloc>832</yloc>
      <draw>Y</draw>
    </GUI>
  </transform>
  <transform>
    <name>Unique rows</name>
    <type>Unique</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <count_rows>N</count_rows>
    <count_field/>
    <reject_duplicate_row>N</reject_duplicate_row>
    <error_description/>
    <fields>
      <field>
        <name>ENID</name>
        <case_insensitive>N</case_insensitive>
      </field>
    </fields>
    <attributes/>
    <cluster_schema/>
    <GUI>
      <xloc>1904</xloc>
      <yloc>1008</yloc>
      <draw>Y</draw>
    </GUI>
  </transform>
  <transform>
    <name>Update Contacts</name>
    <type>PipelineExecutor</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>20</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <trans_name>600_10_10_Update_Contacts_in_SF</trans_name>
    <filename/>
    <directory_path>/BusinessHub</directory_path>
    <group_size>1</group_size>
    <group_field/>
    <group_time/>
    <parameters>
      <variable_mapping>
        <variable>Checksum_FlagChanges</variable>
        <field>Checksum_FlagChanges</field>
        <input/>
      </variable_mapping>
      <variable_mapping>
        <variable>ClinicalDepartment</variable>
        <field>ClinicalDepartment</field>
        <input/>
      </variable_mapping>
      <variable_mapping>
        <variable>ENID</variable>
        <field>ENID</field>
        <input/>
      </variable_mapping>
      <variable_mapping>
        <variable>Email</variable>
        <field>Email</field>
        <input/>
      </variable_mapping>
      <variable_mapping>
        <variable>Email_Source</variable>
        <field>Email_Source</field>
        <input/>
      </variable_mapping>
      <variable_mapping>
        <variable>Employee_ID</variable>
        <field>Employee_ID</field>
        <input/>
      </variable_mapping>
      <variable_mapping>
        <variable>FirstName</variable>
        <field>FirstName</field>
        <input/>
      </variable_mapping>
      <variable_mapping>
        <variable>Job</variable>
        <field>Job</field>
        <input/>
      </variable_mapping>
      <variable_mapping>
        <variable>LastName</variable>
        <field>LastName</field>
        <input/>
      </variable_mapping>
      <variable_mapping>
        <variable>Location</variable>
        <field>Location</field>
        <input/>
      </variable_mapping>
      <variable_mapping>
        <variable>PI_Status_MasterList</variable>
        <field>PI_Status_MasterList</field>
        <input/>
      </variable_mapping>
      <variable_mapping>
        <variable>PI_Type</variable>
        <field>PI_Type</field>
        <input/>
      </variable_mapping>
      <variable_mapping>
        <variable>Position</variable>
        <field>Position</field>
        <input/>
      </variable_mapping>
      <variable_mapping>
        <variable>PrimaryAppointment</variable>
        <field>PrimaryAppointment</field>
        <input/>
      </variable_mapping>
      <variable_mapping>
        <variable>PrimaryResearchInstitute_ID_SF</variable>
        <field>PrimaryResearchInstitute_ID_SF</field>
        <input/>
      </variable_mapping>
      <variable_mapping>
        <variable>Record_Type_ID</variable>
        <field>Record_Type_ID</field>
        <input/>
      </variable_mapping>
      <variable_mapping>
        <variable>Status_411_Directory</variable>
        <field>Status_411_Directory</field>
        <input/>
      </variable_mapping>
      <inherit_all_vars>Y</inherit_all_vars>
    </parameters>
    <execution_result_target_step/>
    <execution_time_field>ExecutionTime</execution_time_field>
    <execution_result_field>ExecutionResult</execution_result_field>
    <execution_errors_field>ExecutionNrErrors</execution_errors_field>
    <execution_lines_read_field>ExecutionLinesRead</execution_lines_read_field>
    <execution_lines_written_field>ExecutionLinesWritten</execution_lines_written_field>
    <execution_lines_input_field>ExecutionLinesInput</execution_lines_input_field>
    <execution_lines_output_field>ExecutionLinesOutput</execution_lines_output_field>
    <execution_lines_rejected_field>ExecutionLinesRejected</execution_lines_rejected_field>
    <execution_lines_updated_field>ExecutionLinesUpdated</execution_lines_updated_field>
    <execution_lines_deleted_field>ExecutionLinesDeleted</execution_lines_deleted_field>
    <execution_files_retrieved_field>ExecutionFilesRetrieved</execution_files_retrieved_field>
    <execution_exit_status_field>ExecutionExitStatus</execution_exit_status_field>
    <execution_log_text_field>ExecutionLogText</execution_log_text_field>
    <execution_log_channelid_field>ExecutionLogChannelId</execution_log_channelid_field>
    <result_rows_target_step/>
    <result_files_target_step/>
    <result_files_file_name_field>FileName</result_files_file_name_field>
    <executors_output_step/>
    <attributes/>
    <cluster_schema/>
    <GUI>
      <xloc>10688</xloc>
      <yloc>1008</yloc>
      <draw>Y</draw>
    </GUI>
  </transform>
  <transform>
    <name>bihelper.PDB_MainEmailList</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>MSSQL_RFSDW</connection>
    <sql>SELECT ENID
FROM bihelper.PDB_MainEmailList
--WHERE LastUpdate >=  DATEADD(DAY, -7, GETDATE())
</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
    <cached_row_meta_active>N</cached_row_meta_active>
    <row-meta>
      <value-meta>
        <type>String</type>
        <storagetype>normal</storagetype>
        <name>ENID</name>
        <length>50</length>
        <precision>-1</precision>
        <origin>bihelper.PDB_MainEmailList</origin>
        <comments>ENID</comments>
        <conversion_Mask/>
        <decimal_symbol>.</decimal_symbol>
        <grouping_symbol>,</grouping_symbol>
        <currency_symbol/>
        <trim_type>none</trim_type>
        <case_insensitive>N</case_insensitive>
        <collator_disabled>Y</collator_disabled>
        <collator_strength>0</collator_strength>
        <sort_descending>N</sort_descending>
        <output_padding>N</output_padding>
        <date_format_lenient>N</date_format_lenient>
        <date_format_locale>en_US</date_format_locale>
        <date_format_timezone>America/New_York</date_format_timezone>
        <lenient_string_to_number>N</lenient_string_to_number>
      </value-meta>
    </row-meta>
    <attributes/>
    <cluster_schema/>
    <GUI>
      <xloc>256</xloc>
      <yloc>1008</yloc>
      <draw>Y</draw>
    </GUI>
  </transform>
  <transform>
    <name>remove "inactive"</name>
    <type>ReplaceString</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <fields>
      <field>
        <in_stream_name>ENID</in_stream_name>
        <out_stream_name>ENID_Cleansed</out_stream_name>
        <use_regex>no</use_regex>
        <replace_string>(inactive)</replace_string>
        <replace_by_string/>
        <set_empty_string>N</set_empty_string>
        <replace_field_by_string/>
        <whole_word>no</whole_word>
        <case_sensitive>no</case_sensitive>
        <is_unicode>no</is_unicode>
      </field>
    </fields>
    <attributes/>
    <cluster_schema/>
    <GUI>
      <xloc>1264</xloc>
      <yloc>1296</yloc>
      <draw>Y</draw>
    </GUI>
  </transform>
  <transform_error_handling>
    <error>
      <source_transform>SF Contact</source_transform>
      <target_transform>Error Date Transactions</target_transform>
      <is_enabled>Y</is_enabled>
      <nr_valuename>NoOfErrors</nr_valuename>
      <descriptions_valuename>ErrorDescription</descriptions_valuename>
      <fields_valuename/>
      <codes_valuename/>
      <max_errors/>
      <max_pct_errors/>
      <min_pct_rows/>
    </error>
  </transform_error_handling>
  <attributes/>
</pipeline>
